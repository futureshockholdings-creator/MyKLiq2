var QA=Object.defineProperty;var uw=t=>{throw TypeError(t)};var ZA=(t,e,s)=>e in t?QA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var B=(t,e,s)=>ZA(t,typeof e!="symbol"?e+"":e,s),Bm=(t,e,s)=>e.has(t)||uw("Cannot "+s);var j=(t,e,s)=>(Bm(t,e,"read from private field"),s?s.call(t):e.get(t)),V=(t,e,s)=>e.has(t)?uw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),W=(t,e,s,n)=>(Bm(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),G=(t,e,s)=>(Bm(t,e,"access private method"),s);var fh=(t,e,s,n)=>({set _(r){W(t,e,r,s)},get _(){return j(t,e,n)}});function XA(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(n,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OS={exports:{}},Bp={},DS={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),JA=Symbol.for("react.portal"),eF=Symbol.for("react.fragment"),tF=Symbol.for("react.strict_mode"),sF=Symbol.for("react.profiler"),nF=Symbol.for("react.provider"),rF=Symbol.for("react.context"),iF=Symbol.for("react.forward_ref"),aF=Symbol.for("react.suspense"),oF=Symbol.for("react.memo"),lF=Symbol.for("react.lazy"),hw=Symbol.iterator;function cF(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var LS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$S=Object.assign,US={};function hc(t,e,s){this.props=t,this.context=e,this.refs=US,this.updater=s||LS}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zS(){}zS.prototype=hc.prototype;function _x(t,e,s){this.props=t,this.context=e,this.refs=US,this.updater=s||LS}var Ex=_x.prototype=new zS;Ex.constructor=_x;$S(Ex,hc.prototype);Ex.isPureReactComponent=!0;var fw=Array.isArray,BS=Object.prototype.hasOwnProperty,Tx={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,s){var n,r={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)BS.call(e,n)&&!VS.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return{$$typeof:zu,type:t,key:a,ref:o,props:r,_owner:Tx.current}}function dF(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mx(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function uF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var pw=/\/+/g;function Vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uF(""+t.key):e.toString(36)}function ef(t,e,s,n,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zu:case JA:o=!0}}if(o)return o=t,r=r(o),t=n===""?"."+Vm(o,0):n,fw(r)?(s="",t!=null&&(s=t.replace(pw,"$&/")+"/"),ef(r,e,s,"",function(d){return d})):r!=null&&(Mx(r)&&(r=dF(r,s+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(pw,"$&/")+"/")+t)),e.push(r)),1;if(o=0,n=n===""?".":n+":",fw(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Vm(a,l);o+=ef(a,e,s,c,r)}else if(c=cF(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Vm(a,l++),o+=ef(a,e,s,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mh(t,e,s){if(t==null)return t;var n=[],r=0;return ef(t,n,"","",function(a){return e.call(s,a,r++)}),n}function hF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rs={current:null},tf={transition:null},fF={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:tf,ReactCurrentOwner:Tx};function HS(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:mh,forEach:function(t,e,s){mh(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!Mx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=hc;Xe.Fragment=eF;Xe.Profiler=sF;Xe.PureComponent=_x;Xe.StrictMode=tF;Xe.Suspense=aF;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fF;Xe.act=HS;Xe.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$S({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Tx.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)BS.call(e,c)&&!VS.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:zu,type:t.type,key:r,ref:a,props:n,_owner:o}};Xe.createContext=function(t){return t={$$typeof:rF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nF,_context:t},t.Consumer=t};Xe.createElement=qS;Xe.createFactory=function(t){var e=qS.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:iF,render:t}};Xe.isValidElement=Mx;Xe.lazy=function(t){return{$$typeof:lF,_payload:{_status:-1,_result:t},_init:hF}};Xe.memo=function(t,e){return{$$typeof:oF,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=tf.transition;tf.transition={};try{t()}finally{tf.transition=e}};Xe.unstable_act=HS;Xe.useCallback=function(t,e){return Rs.current.useCallback(t,e)};Xe.useContext=function(t){return Rs.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Rs.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return Rs.current.useEffect(t,e)};Xe.useId=function(){return Rs.current.useId()};Xe.useImperativeHandle=function(t,e,s){return Rs.current.useImperativeHandle(t,e,s)};Xe.useInsertionEffect=function(t,e){return Rs.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return Rs.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return Rs.current.useMemo(t,e)};Xe.useReducer=function(t,e,s){return Rs.current.useReducer(t,e,s)};Xe.useRef=function(t){return Rs.current.useRef(t)};Xe.useState=function(t){return Rs.current.useState(t)};Xe.useSyncExternalStore=function(t,e,s){return Rs.current.useSyncExternalStore(t,e,s)};Xe.useTransition=function(){return Rs.current.useTransition()};Xe.version="18.3.1";DS.exports=Xe;var p=DS.exports;const Ue=fi(p),WS=XA({__proto__:null,default:Ue},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pF=p,mF=Symbol.for("react.element"),gF=Symbol.for("react.fragment"),yF=Object.prototype.hasOwnProperty,vF=pF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xF={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,s){var n,r={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)yF.call(e,n)&&!xF.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:mF,type:t,key:a,ref:o,props:r,_owner:vF.current}}Bp.Fragment=gF;Bp.jsx=KS;Bp.jsxs=KS;OS.exports=Bp;var i=OS.exports,GS={exports:{}},ln={},YS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,I){var U=F.length;F.push(I);e:for(;0<U;){var H=U-1>>>1,ce=F[H];if(0<r(ce,I))F[H]=I,F[U]=ce,U=H;else break e}}function s(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var I=F[0],U=F.pop();if(U!==I){F[0]=U;e:for(var H=0,ce=F.length,Y=ce>>>1;H<Y;){var xe=2*(H+1)-1,Ze=F[xe],Be=xe+1,pe=F[Be];if(0>r(Ze,U))Be<ce&&0>r(pe,Ze)?(F[H]=pe,F[Be]=U,H=Be):(F[H]=Ze,F[xe]=U,H=xe);else if(Be<ce&&0>r(pe,U))F[H]=pe,F[Be]=U,H=Be;else break e}}return I}function r(F,I){var U=F.sortIndex-I.sortIndex;return U!==0?U:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,f=3,m=!1,b=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var I=s(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=F)n(d),I.sortIndex=I.expirationTime,e(c,I);else break;I=s(d)}}function S(F){if(g=!1,w(F),!b)if(s(c)!==null)b=!0,K(N);else{var I=s(d);I!==null&&Z(S,I.startTime-F)}}function N(F,I){b=!1,g&&(g=!1,y(_),_=-1),m=!0;var U=f;try{for(w(I),u=s(c);u!==null&&(!(u.expirationTime>I)||F&&!R());){var H=u.callback;if(typeof H=="function"){u.callback=null,f=u.priorityLevel;var ce=H(u.expirationTime<=I);I=t.unstable_now(),typeof ce=="function"?u.callback=ce:u===s(c)&&n(c),w(I)}else n(c);u=s(c)}if(u!==null)var Y=!0;else{var xe=s(d);xe!==null&&Z(S,xe.startTime-I),Y=!1}return Y}finally{u=null,f=U,m=!1}}var P=!1,C=null,_=-1,A=5,k=-1;function R(){return!(t.unstable_now()-k<A)}function O(){if(C!==null){var F=t.unstable_now();k=F;var I=!0;try{I=C(!0,F)}finally{I?$():(P=!1,C=null)}}else P=!1}var $;if(typeof v=="function")$=function(){v(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=O,$=function(){ee.postMessage(null)}}else $=function(){x(O,0)};function K(F){C=F,P||(P=!0,$())}function Z(F,I){_=x(function(){F(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,K(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var U=f;f=I;try{return F()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=f;f=F;try{return I()}finally{f=U}},t.unstable_scheduleCallback=function(F,I,U){var H=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=U+ce,F={id:h++,callback:I,priorityLevel:F,startTime:U,expirationTime:ce,sortIndex:-1},U>H?(F.sortIndex=U,e(d,F),s(c)===null&&F===s(d)&&(g?(y(_),_=-1):g=!0,Z(S,U-H))):(F.sortIndex=ce,e(c,F),b||m||(b=!0,K(N))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var I=f;return function(){var U=f;f=I;try{return F.apply(this,arguments)}finally{f=U}}}})(QS);YS.exports=QS;var bF=YS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF=p,on=bF;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,kd={};function wo(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(kd[t]=e,t=0;t<e.length;t++)ZS.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ry=Object.prototype.hasOwnProperty,jF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mw={},gw={};function NF(t){return ry.call(gw,t)?!0:ry.call(mw,t)?!1:jF.test(t)?gw[t]=!0:(mw[t]=!0,!1)}function SF(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kF(t,e,s,n){if(e===null||typeof e>"u"||SF(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Is(t,e,s,n,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cs[t]=new Is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cs[e]=new Is(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cs[t]=new Is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cs[t]=new Is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cs[t]=new Is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cs[t]=new Is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cs[t]=new Is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cs[t]=new Is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cs[t]=new Is(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ax=/[\-:]([a-z])/g;function Fx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ax,Fx);cs[e]=new Is(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ax,Fx);cs[e]=new Is(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ax,Fx);cs[e]=new Is(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cs[t]=new Is(t,1,!1,t.toLowerCase(),null,!1,!1)});cs.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cs[t]=new Is(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rx(t,e,s,n){var r=cs.hasOwnProperty(e)?cs[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kF(e,s,r,n)&&(s=null),n||r===null?NF(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):r.mustUseProperty?t[r.propertyName]=s===null?r.type===3?!1:"":s:(e=r.attributeName,n=r.attributeNamespace,s===null?t.removeAttribute(e):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var pi=wF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),oy=Symbol.for("react.suspense_list"),Dx=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),ek=Symbol.for("react.offscreen"),yw=Symbol.iterator;function _c(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,qm;function Kc(t){if(qm===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);qm=e&&e[1]||""}return`
`+qm+t}var Hm=!1;function Wm(t,e){if(!t||Hm)return"";Hm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=n.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hm=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Kc(t):""}function CF(t){switch(t.tag){case 5:return Kc(t.type);case 16:return Kc("Lazy");case 13:return Kc("Suspense");case 19:return Kc("SuspenseList");case 0:case 2:case 15:return t=Wm(t.type,!1),t;case 11:return t=Wm(t.type.render,!1),t;case 1:return t=Wm(t.type,!0),t;default:return""}}function ly(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case $o:return"Portal";case iy:return"Profiler";case Ix:return"StrictMode";case ay:return"Suspense";case oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JS:return(t.displayName||"Context")+".Consumer";case XS:return(t._context.displayName||"Context")+".Provider";case Ox:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dx:return e=t.displayName||null,e!==null?e:ly(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return ly(t(e))}catch{}}return null}function PF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ly(e);case 8:return e===Ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _F(t){var e=tk(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yh(t){t._valueTracker||(t._valueTracker=_F(t))}function sk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=tk(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cy(t,e){var s=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function vw(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=ta(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nk(t,e){e=e.checked,e!=null&&Rx(t,"checked",e,!1)}function dy(t,e){nk(t,e);var s=ta(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uy(t,e.type,s):e.hasOwnProperty("defaultValue")&&uy(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xw(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function uy(t,e,s){(e!=="number"||Cf(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Gc=Array.isArray;function Jo(t,e,s,n){if(t=t.options,e){e={};for(var r=0;r<s.length;r++)e["$"+s[r]]=!0;for(s=0;s<t.length;s++)r=e.hasOwnProperty("$"+t[s].value),t[s].selected!==r&&(t[s].selected=r),r&&n&&(t[s].defaultSelected=!0)}else{for(s=""+ta(s),e=null,r=0;r<t.length;r++){if(t[r].value===s){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bw(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(re(92));if(Gc(s)){if(1<s.length)throw Error(re(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:ta(s)}}function rk(t,e){var s=ta(e.value),n=ta(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function ww(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,ak=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cd(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EF=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(t){EF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cd[e]=cd[t]})});function ok(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||cd.hasOwnProperty(t)&&cd[t]?(""+e).trim():e+"px"}function lk(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,r=ok(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,r):t[s]=r}}var TF=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function py(t,e){if(e){if(TF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function my(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=null;function Lx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yy=null,el=null,tl=null;function jw(t){if(t=qu(t)){if(typeof yy!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Kp(e),yy(t.stateNode,t.type,e))}}function ck(t){el?tl?tl.push(t):tl=[t]:el=t}function dk(){if(el){var t=el,e=tl;if(tl=el=null,jw(t),e)for(t=0;t<e.length;t++)jw(e[t])}}function uk(t,e){return t(e)}function hk(){}var Km=!1;function fk(t,e,s){if(Km)return t(e,s);Km=!0;try{return uk(t,e,s)}finally{Km=!1,(el!==null||tl!==null)&&(hk(),dk())}}function Pd(t,e){var s=t.stateNode;if(s===null)return null;var n=Kp(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(re(231,e,typeof s));return s}var vy=!1;if(ri)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){vy=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{vy=!1}function MF(t,e,s,n,r,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(h){this.onError(h)}}var dd=!1,Pf=null,_f=!1,xy=null,AF={onError:function(t){dd=!0,Pf=t}};function FF(t,e,s,n,r,a,o,l,c){dd=!1,Pf=null,MF.apply(AF,arguments)}function RF(t,e,s,n,r,a,o,l,c){if(FF.apply(this,arguments),dd){if(dd){var d=Pf;dd=!1,Pf=null}else throw Error(re(198));_f||(_f=!0,xy=d)}}function jo(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function pk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nw(t){if(jo(t)!==t)throw Error(re(188))}function IF(t){var e=t.alternate;if(!e){if(e=jo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var s=t,n=e;;){var r=s.return;if(r===null)break;var a=r.alternate;if(a===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return Nw(r),t;if(a===n)return Nw(r),e;a=a.sibling}throw Error(re(188))}if(s.return!==n.return)s=r,n=a;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=a;break}if(l===n){o=!0,n=r,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=r;break}if(l===n){o=!0,n=a,s=r;break}l=l.sibling}if(!o)throw Error(re(189))}}if(s.alternate!==n)throw Error(re(190))}if(s.tag!==3)throw Error(re(188));return s.stateNode.current===s?t:e}function mk(t){return t=IF(t),t!==null?gk(t):null}function gk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gk(t);if(e!==null)return e;t=t.sibling}return null}var yk=on.unstable_scheduleCallback,Sw=on.unstable_cancelCallback,OF=on.unstable_shouldYield,DF=on.unstable_requestPaint,Rt=on.unstable_now,LF=on.unstable_getCurrentPriorityLevel,$x=on.unstable_ImmediatePriority,vk=on.unstable_UserBlockingPriority,Ef=on.unstable_NormalPriority,$F=on.unstable_LowPriority,xk=on.unstable_IdlePriority,Vp=null,Pr=null;function UF(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:VF,zF=Math.log,BF=Math.LN2;function VF(t){return t>>>=0,t===0?32:31-(zF(t)/BF|0)|0}var xh=64,bh=4194304;function Yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,r=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~r;l!==0?n=Yc(l):(a&=o,a!==0&&(n=Yc(a)))}else o=s&~r,o!==0?n=Yc(o):a!==0&&(n=Yc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Kn(e),r=1<<s,n|=t[s],e&=~r;return n}function qF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HF(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Kn(a),l=1<<o,c=r[o];c===-1?(!(l&s)||l&n)&&(r[o]=qF(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function by(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bk(){var t=xh;return xh<<=1,!(xh&4194240)&&(xh=64),t}function Gm(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Bu(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=s}function WF(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var r=31-Kn(s),a=1<<r;e[r]=0,n[r]=-1,t[r]=-1,s&=~a}}function Ux(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Kn(s),r=1<<n;r&e|t[n]&e&&(t[n]|=e),s&=~r}}var lt=0;function wk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jk,zx,Nk,Sk,kk,wy=!1,wh=[],Ki=null,Gi=null,Yi=null,_d=new Map,Ed=new Map,ki=[],KF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":_d.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(e.pointerId)}}function Tc(t,e,s,n,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},e!==null&&(e=qu(e),e!==null&&zx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function GF(t,e,s,n,r){switch(e){case"focusin":return Ki=Tc(Ki,t,e,s,n,r),!0;case"dragenter":return Gi=Tc(Gi,t,e,s,n,r),!0;case"mouseover":return Yi=Tc(Yi,t,e,s,n,r),!0;case"pointerover":var a=r.pointerId;return _d.set(a,Tc(_d.get(a)||null,t,e,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Ed.set(a,Tc(Ed.get(a)||null,t,e,s,n,r)),!0}return!1}function Ck(t){var e=Ma(t.target);if(e!==null){var s=jo(e);if(s!==null){if(e=s.tag,e===13){if(e=pk(s),e!==null){t.blockedOn=e,kk(t.priority,function(){Nk(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=jy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);gy=n,s.target.dispatchEvent(n),gy=null}else return e=qu(s),e!==null&&zx(e),t.blockedOn=s,!1;e.shift()}return!0}function Cw(t,e,s){sf(t)&&s.delete(e)}function YF(){wy=!1,Ki!==null&&sf(Ki)&&(Ki=null),Gi!==null&&sf(Gi)&&(Gi=null),Yi!==null&&sf(Yi)&&(Yi=null),_d.forEach(Cw),Ed.forEach(Cw)}function Mc(t,e){t.blockedOn===e&&(t.blockedOn=null,wy||(wy=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,YF)))}function Td(t){function e(r){return Mc(r,t)}if(0<wh.length){Mc(wh[0],t);for(var s=1;s<wh.length;s++){var n=wh[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Ki!==null&&Mc(Ki,t),Gi!==null&&Mc(Gi,t),Yi!==null&&Mc(Yi,t),_d.forEach(e),Ed.forEach(e),s=0;s<ki.length;s++)n=ki[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<ki.length&&(s=ki[0],s.blockedOn===null);)Ck(s),s.blockedOn===null&&ki.shift()}var sl=pi.ReactCurrentBatchConfig,Mf=!0;function QF(t,e,s,n){var r=lt,a=sl.transition;sl.transition=null;try{lt=1,Bx(t,e,s,n)}finally{lt=r,sl.transition=a}}function ZF(t,e,s,n){var r=lt,a=sl.transition;sl.transition=null;try{lt=4,Bx(t,e,s,n)}finally{lt=r,sl.transition=a}}function Bx(t,e,s,n){if(Mf){var r=jy(t,e,s,n);if(r===null)rg(t,e,n,Af,s),kw(t,n);else if(GF(r,t,e,s,n))n.stopPropagation();else if(kw(t,n),e&4&&-1<KF.indexOf(t)){for(;r!==null;){var a=qu(r);if(a!==null&&jk(a),a=jy(t,e,s,n),a===null&&rg(t,e,n,Af,s),a===r)break;r=a}r!==null&&n.stopPropagation()}else rg(t,e,n,null,s)}}var Af=null;function jy(t,e,s,n){if(Af=null,t=Lx(n),t=Ma(t),t!==null)if(e=jo(t),e===null)t=null;else if(s=e.tag,s===13){if(t=pk(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function Pk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LF()){case $x:return 1;case vk:return 4;case Ef:case $F:return 16;case xk:return 536870912;default:return 16}default:return 16}}var Bi=null,Vx=null,nf=null;function _k(){if(nf)return nf;var t,e=Vx,s=e.length,n,r="value"in Bi?Bi.value:Bi.textContent,a=r.length;for(t=0;t<s&&e[t]===r[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===r[a-n];n++);return nf=r.slice(t,1<n?1-n:void 0)}function rf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jh(){return!0}function Pw(){return!1}function cn(t){function e(s,n,r,a,o){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jh:Pw,this.isPropagationStopped=Pw,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),e}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=cn(fc),Vu=kt({},fc,{view:0,detail:0}),XF=cn(Vu),Ym,Qm,Ac,qp=kt({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ac&&(Ac&&t.type==="mousemove"?(Ym=t.screenX-Ac.screenX,Qm=t.screenY-Ac.screenY):Qm=Ym=0,Ac=t),Ym)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),_w=cn(qp),JF=kt({},qp,{dataTransfer:0}),eR=cn(JF),tR=kt({},Vu,{relatedTarget:0}),Zm=cn(tR),sR=kt({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),nR=cn(sR),rR=kt({},fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iR=cn(rR),aR=kt({},fc,{data:0}),Ew=cn(aR),oR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cR[t])?!!e[t]:!1}function Hx(){return dR}var uR=kt({},Vu,{key:function(t){if(t.key){var e=oR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hx,charCode:function(t){return t.type==="keypress"?rf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hR=cn(uR),fR=kt({},qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=cn(fR),pR=kt({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hx}),mR=cn(pR),gR=kt({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),yR=cn(gR),vR=kt({},qp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xR=cn(vR),bR=[9,13,27,32],Wx=ri&&"CompositionEvent"in window,ud=null;ri&&"documentMode"in document&&(ud=document.documentMode);var wR=ri&&"TextEvent"in window&&!ud,Ek=ri&&(!Wx||ud&&8<ud&&11>=ud),Mw=" ",Aw=!1;function Tk(t,e){switch(t){case"keyup":return bR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function jR(t,e){switch(t){case"compositionend":return Mk(e);case"keypress":return e.which!==32?null:(Aw=!0,Mw);case"textInput":return t=e.data,t===Mw&&Aw?null:t;default:return null}}function NR(t,e){if(zo)return t==="compositionend"||!Wx&&Tk(t,e)?(t=_k(),nf=Vx=Bi=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ek&&e.locale!=="ko"?null:e.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SR[t.type]:e==="textarea"}function Ak(t,e,s,n){ck(n),e=Ff(e,"onChange"),0<e.length&&(s=new qx("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var hd=null,Md=null;function kR(t){Vk(t,0)}function Hp(t){var e=qo(t);if(sk(e))return t}function CR(t,e){if(t==="change")return e}var Fk=!1;if(ri){var Xm;if(ri){var Jm="oninput"in document;if(!Jm){var Rw=document.createElement("div");Rw.setAttribute("oninput","return;"),Jm=typeof Rw.oninput=="function"}Xm=Jm}else Xm=!1;Fk=Xm&&(!document.documentMode||9<document.documentMode)}function Iw(){hd&&(hd.detachEvent("onpropertychange",Rk),Md=hd=null)}function Rk(t){if(t.propertyName==="value"&&Hp(Md)){var e=[];Ak(e,Md,t,Lx(t)),fk(kR,e)}}function PR(t,e,s){t==="focusin"?(Iw(),hd=e,Md=s,hd.attachEvent("onpropertychange",Rk)):t==="focusout"&&Iw()}function _R(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hp(Md)}function ER(t,e){if(t==="click")return Hp(e)}function TR(t,e){if(t==="input"||t==="change")return Hp(e)}function MR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:MR;function Ad(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!ry.call(e,r)||!Xn(t[r],e[r]))return!1}return!0}function Ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dw(t,e){var s=Ow(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ow(s)}}function Ik(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ik(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ok(){for(var t=window,e=Cf();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Cf(t.document)}return e}function Kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AR(t){var e=Ok(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&Ik(s.ownerDocument.documentElement,s)){if(n!==null&&Kx(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=s.textContent.length,a=Math.min(n.start,r);n=n.end===void 0?a:Math.min(n.end,r),!t.extend&&a>n&&(r=n,n=a,a=r),r=Dw(s,a);var o=Dw(s,n);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FR=ri&&"documentMode"in document&&11>=document.documentMode,Bo=null,Ny=null,fd=null,Sy=!1;function Lw(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sy||Bo==null||Bo!==Cf(n)||(n=Bo,"selectionStart"in n&&Kx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fd&&Ad(fd,n)||(fd=n,n=Ff(Ny,"onSelect"),0<n.length&&(e=new qx("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=Bo)))}function Nh(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Vo={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},eg={},Dk={};ri&&(Dk=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Wp(t){if(eg[t])return eg[t];if(!Vo[t])return t;var e=Vo[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Dk)return eg[t]=e[s];return t}var Lk=Wp("animationend"),$k=Wp("animationiteration"),Uk=Wp("animationstart"),zk=Wp("transitionend"),Bk=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(t,e){Bk.set(t,e),wo(e,[t])}for(var tg=0;tg<$w.length;tg++){var sg=$w[tg],RR=sg.toLowerCase(),IR=sg[0].toUpperCase()+sg.slice(1);ga(RR,"on"+IR)}ga(Lk,"onAnimationEnd");ga($k,"onAnimationIteration");ga(Uk,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(zk,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function Uw(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,RF(n,e,void 0,t),t.currentTarget=null}function Vk(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],r=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Uw(r,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Uw(r,l,d),a=c}}}if(_f)throw t=xy,_f=!1,xy=null,t}function ut(t,e){var s=e[Ey];s===void 0&&(s=e[Ey]=new Set);var n=t+"__bubble";s.has(n)||(qk(e,t,2,!1),s.add(n))}function ng(t,e,s){var n=0;e&&(n|=4),qk(s,t,n,e)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Sh]){t[Sh]=!0,ZS.forEach(function(s){s!=="selectionchange"&&(OR.has(s)||ng(s,!1,t),ng(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sh]||(e[Sh]=!0,ng("selectionchange",!1,e))}}function qk(t,e,s,n){switch(Pk(e)){case 1:var r=QF;break;case 4:r=ZF;break;default:r=Bx}s=r.bind(null,e,s,t),r=void 0,!vy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,s,{capture:!0,passive:r}):t.addEventListener(e,s,!0):r!==void 0?t.addEventListener(e,s,{passive:r}):t.addEventListener(e,s,!1)}function rg(t,e,s,n,r){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ma(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}fk(function(){var d=a,h=Lx(s),u=[];e:{var f=Bk.get(t);if(f!==void 0){var m=qx,b=t;switch(t){case"keypress":if(rf(s)===0)break e;case"keydown":case"keyup":m=hR;break;case"focusin":b="focus",m=Zm;break;case"focusout":b="blur",m=Zm;break;case"beforeblur":case"afterblur":m=Zm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mR;break;case Lk:case $k:case Uk:m=nR;break;case zk:m=yR;break;case"scroll":m=XF;break;case"wheel":m=xR;break;case"copy":case"cut":case"paste":m=iR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tw}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=d,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Pd(v,y),S!=null&&g.push(Rd(v,S,w)))),x)break;v=v.return}0<g.length&&(f=new m(f,b,null,s,h),u.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&s!==gy&&(b=s.relatedTarget||s.fromElement)&&(Ma(b)||b[ii]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=s.relatedTarget||s.toElement,m=d,b=b?Ma(b):null,b!==null&&(x=jo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=d),m!==b)){if(g=_w,S="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Tw,S="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?f:qo(m),w=b==null?f:qo(b),f=new g(S,v+"leave",m,s,h),f.target=x,f.relatedTarget=w,S=null,Ma(h)===d&&(g=new g(y,v+"enter",b,s,h),g.target=w,g.relatedTarget=x,S=g),x=S,m&&b)t:{for(g=m,y=b,v=0,w=g;w;w=Po(w))v++;for(w=0,S=y;S;S=Po(S))w++;for(;0<v-w;)g=Po(g),v--;for(;0<w-v;)y=Po(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Po(g),y=Po(y)}g=null}else g=null;m!==null&&zw(u,f,m,g,!1),b!==null&&x!==null&&zw(u,x,b,g,!0)}}e:{if(f=d?qo(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=CR;else if(Fw(f))if(Fk)N=TR;else{N=_R;var P=PR}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ER);if(N&&(N=N(t,d))){Ak(u,N,s,h);break e}P&&P(t,f,d),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&uy(f,"number",f.value)}switch(P=d?qo(d):window,t){case"focusin":(Fw(P)||P.contentEditable==="true")&&(Bo=P,Ny=d,fd=null);break;case"focusout":fd=Ny=Bo=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,Lw(u,s,h);break;case"selectionchange":if(FR)break;case"keydown":case"keyup":Lw(u,s,h)}var C;if(Wx)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zo?Tk(t,s)&&(_="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(Ek&&s.locale!=="ko"&&(zo||_!=="onCompositionStart"?_==="onCompositionEnd"&&zo&&(C=_k()):(Bi=h,Vx="value"in Bi?Bi.value:Bi.textContent,zo=!0)),P=Ff(d,_),0<P.length&&(_=new Ew(_,t,null,s,h),u.push({event:_,listeners:P}),C?_.data=C:(C=Mk(s),C!==null&&(_.data=C)))),(C=wR?jR(t,s):NR(t,s))&&(d=Ff(d,"onBeforeInput"),0<d.length&&(h=new Ew("onBeforeInput","beforeinput",null,s,h),u.push({event:h,listeners:d}),h.data=C))}Vk(u,e)})}function Rd(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Ff(t,e){for(var s=e+"Capture",n=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Pd(t,s),a!=null&&n.unshift(Rd(t,a,r)),a=Pd(t,e),a!=null&&n.push(Rd(t,a,r))),t=t.return}return n}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zw(t,e,s,n,r){for(var a=e._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,r?(c=Pd(s,a),c!=null&&o.unshift(Rd(s,c,l))):r||(c=Pd(s,a),c!=null&&o.push(Rd(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var DR=/\r\n?/g,LR=/\u0000|\uFFFD/g;function Bw(t){return(typeof t=="string"?t:""+t).replace(DR,`
`).replace(LR,"")}function kh(t,e,s){if(e=Bw(e),Bw(t)!==e&&s)throw Error(re(425))}function Rf(){}var ky=null,Cy=null;function Py(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _y=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,UR=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch(zR)}:_y;function zR(t){setTimeout(function(){throw t})}function ig(t,e){var s=e,n=0;do{var r=s.nextSibling;if(t.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0){t.removeChild(r),Td(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=r}while(s);Td(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var pc=Math.random().toString(36).slice(2),br="__reactFiber$"+pc,Id="__reactProps$"+pc,ii="__reactContainer$"+pc,Ey="__reactEvents$"+pc,BR="__reactListeners$"+pc,VR="__reactHandles$"+pc;function Ma(t){var e=t[br];if(e)return e;for(var s=t.parentNode;s;){if(e=s[ii]||s[br]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=qw(t);t!==null;){if(s=t[br])return s;t=qw(t)}return e}t=s,s=t.parentNode}return null}function qu(t){return t=t[br]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Kp(t){return t[Id]||null}var Ty=[],Ho=-1;function ya(t){return{current:t}}function ht(t){0>Ho||(t.current=Ty[Ho],Ty[Ho]=null,Ho--)}function ct(t,e){Ho++,Ty[Ho]=t.current,t.current=e}var sa={},xs=ya(sa),Ws=ya(!1),io=sa;function Hl(t,e){var s=t.type.contextTypes;if(!s)return sa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in s)r[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ks(t){return t=t.childContextTypes,t!=null}function If(){ht(Ws),ht(xs)}function Hw(t,e,s){if(xs.current!==sa)throw Error(re(168));ct(xs,e),ct(Ws,s)}function Hk(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(re(108,PF(t)||"Unknown",r));return kt({},s,n)}function Of(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,io=xs.current,ct(xs,t),ct(Ws,Ws.current),!0}function Ww(t,e,s){var n=t.stateNode;if(!n)throw Error(re(169));s?(t=Hk(t,e,io),n.__reactInternalMemoizedMergedChildContext=t,ht(Ws),ht(xs),ct(xs,t)):ht(Ws),ct(Ws,s)}var Wr=null,Gp=!1,ag=!1;function Wk(t){Wr===null?Wr=[t]:Wr.push(t)}function qR(t){Gp=!0,Wk(t)}function va(){if(!ag&&Wr!==null){ag=!0;var t=0,e=lt;try{var s=Wr;for(lt=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Wr=null,Gp=!1}catch(r){throw Wr!==null&&(Wr=Wr.slice(t+1)),yk($x,va),r}finally{lt=e,ag=!1}}return null}var Wo=[],Ko=0,Df=null,Lf=0,pn=[],mn=0,ao=null,ei=1,ti="";function Pa(t,e){Wo[Ko++]=Lf,Wo[Ko++]=Df,Df=t,Lf=e}function Kk(t,e,s){pn[mn++]=ei,pn[mn++]=ti,pn[mn++]=ao,ao=t;var n=ei;t=ti;var r=32-Kn(n)-1;n&=~(1<<r),s+=1;var a=32-Kn(e)+r;if(30<a){var o=r-r%5;a=(n&(1<<o)-1).toString(32),n>>=o,r-=o,ei=1<<32-Kn(e)+r|s<<r|n,ti=a+t}else ei=1<<a|s<<r|n,ti=t}function Gx(t){t.return!==null&&(Pa(t,1),Kk(t,1,0))}function Yx(t){for(;t===Df;)Df=Wo[--Ko],Wo[Ko]=null,Lf=Wo[--Ko],Wo[Ko]=null;for(;t===ao;)ao=pn[--mn],pn[mn]=null,ti=pn[--mn],pn[mn]=null,ei=pn[--mn],pn[mn]=null}var nn=null,en=null,pt=!1,$n=null;function Gk(t,e){var s=gn(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Kw(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=ao!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=gn(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,nn=t,en=null,!0):!1;default:return!1}}function My(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ay(t){if(pt){var e=en;if(e){var s=e;if(!Kw(t,e)){if(My(t))throw Error(re(418));e=Qi(s.nextSibling);var n=nn;e&&Kw(t,e)?Gk(n,s):(t.flags=t.flags&-4097|2,pt=!1,nn=t)}}else{if(My(t))throw Error(re(418));t.flags=t.flags&-4097|2,pt=!1,nn=t}}}function Gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Ch(t){if(t!==nn)return!1;if(!pt)return Gw(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Py(t.type,t.memoizedProps)),e&&(e=en)){if(My(t))throw Yk(),Error(re(418));for(;e;)Gk(t,e),e=Qi(e.nextSibling)}if(Gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){en=Qi(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?Qi(t.stateNode.nextSibling):null;return!0}function Yk(){for(var t=en;t;)t=Qi(t.nextSibling)}function Wl(){en=nn=null,pt=!1}function Qx(t){$n===null?$n=[t]:$n.push(t)}var HR=pi.ReactCurrentBatchConfig;function Fc(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(re(309));var n=s.stateNode}if(!n)throw Error(re(147,t));var r=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(re(284));if(!s._owner)throw Error(re(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yw(t){var e=t._init;return e(t._payload)}function Qk(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function s(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function r(y,v){return y=ea(y,v),y.index=0,y.sibling=null,y}function a(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,S){return v===null||v.tag!==6?(v=fg(w,y.mode,S),v.return=y,v):(v=r(v,w),v.return=y,v)}function c(y,v,w,S){var N=w.type;return N===Uo?h(y,v,w.props.children,S,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ni&&Yw(N)===v.type)?(S=r(v,w.props),S.ref=Fc(y,v,w),S.return=y,S):(S=hf(w.type,w.key,w.props,null,y.mode,S),S.ref=Fc(y,v,w),S.return=y,S)}function d(y,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pg(w,y.mode,S),v.return=y,v):(v=r(v,w.children||[]),v.return=y,v)}function h(y,v,w,S,N){return v===null||v.tag!==7?(v=so(w,y.mode,S,N),v.return=y,v):(v=r(v,w),v.return=y,v)}function u(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fg(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gh:return w=hf(v.type,v.key,v.props,null,y.mode,w),w.ref=Fc(y,null,v),w.return=y,w;case $o:return v=pg(v,y.mode,w),v.return=y,v;case Ni:var S=v._init;return u(y,S(v._payload),w)}if(Gc(v)||_c(v))return v=so(v,y.mode,w,null),v.return=y,v;Ph(y,v)}return null}function f(y,v,w,S){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gh:return w.key===N?c(y,v,w,S):null;case $o:return w.key===N?d(y,v,w,S):null;case Ni:return N=w._init,f(y,v,N(w._payload),S)}if(Gc(w)||_c(w))return N!==null?null:h(y,v,w,S,null);Ph(y,w)}return null}function m(y,v,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(v,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gh:return y=y.get(S.key===null?w:S.key)||null,c(v,y,S,N);case $o:return y=y.get(S.key===null?w:S.key)||null,d(v,y,S,N);case Ni:var P=S._init;return m(y,v,w,P(S._payload),N)}if(Gc(S)||_c(S))return y=y.get(w)||null,h(v,y,S,N,null);Ph(v,S)}return null}function b(y,v,w,S){for(var N=null,P=null,C=v,_=v=0,A=null;C!==null&&_<w.length;_++){C.index>_?(A=C,C=null):A=C.sibling;var k=f(y,C,w[_],S);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(y,C),v=a(k,v,_),P===null?N=k:P.sibling=k,P=k,C=A}if(_===w.length)return s(y,C),pt&&Pa(y,_),N;if(C===null){for(;_<w.length;_++)C=u(y,w[_],S),C!==null&&(v=a(C,v,_),P===null?N=C:P.sibling=C,P=C);return pt&&Pa(y,_),N}for(C=n(y,C);_<w.length;_++)A=m(C,y,_,w[_],S),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?_:A.key),v=a(A,v,_),P===null?N=A:P.sibling=A,P=A);return t&&C.forEach(function(R){return e(y,R)}),pt&&Pa(y,_),N}function g(y,v,w,S){var N=_c(w);if(typeof N!="function")throw Error(re(150));if(w=N.call(w),w==null)throw Error(re(151));for(var P=N=null,C=v,_=v=0,A=null,k=w.next();C!==null&&!k.done;_++,k=w.next()){C.index>_?(A=C,C=null):A=C.sibling;var R=f(y,C,k.value,S);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(y,C),v=a(R,v,_),P===null?N=R:P.sibling=R,P=R,C=A}if(k.done)return s(y,C),pt&&Pa(y,_),N;if(C===null){for(;!k.done;_++,k=w.next())k=u(y,k.value,S),k!==null&&(v=a(k,v,_),P===null?N=k:P.sibling=k,P=k);return pt&&Pa(y,_),N}for(C=n(y,C);!k.done;_++,k=w.next())k=m(C,y,_,k.value,S),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?_:k.key),v=a(k,v,_),P===null?N=k:P.sibling=k,P=k);return t&&C.forEach(function(O){return e(y,O)}),pt&&Pa(y,_),N}function x(y,v,w,S){if(typeof w=="object"&&w!==null&&w.type===Uo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gh:e:{for(var N=w.key,P=v;P!==null;){if(P.key===N){if(N=w.type,N===Uo){if(P.tag===7){s(y,P.sibling),v=r(P,w.props.children),v.return=y,y=v;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ni&&Yw(N)===P.type){s(y,P.sibling),v=r(P,w.props),v.ref=Fc(y,P,w),v.return=y,y=v;break e}s(y,P);break}else e(y,P);P=P.sibling}w.type===Uo?(v=so(w.props.children,y.mode,S,w.key),v.return=y,y=v):(S=hf(w.type,w.key,w.props,null,y.mode,S),S.ref=Fc(y,v,w),S.return=y,y=S)}return o(y);case $o:e:{for(P=w.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){s(y,v.sibling),v=r(v,w.children||[]),v.return=y,y=v;break e}else{s(y,v);break}else e(y,v);v=v.sibling}v=pg(w,y.mode,S),v.return=y,y=v}return o(y);case Ni:return P=w._init,x(y,v,P(w._payload),S)}if(Gc(w))return b(y,v,w,S);if(_c(w))return g(y,v,w,S);Ph(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(s(y,v.sibling),v=r(v,w),v.return=y,y=v):(s(y,v),v=fg(w,y.mode,S),v.return=y,y=v),o(y)):s(y,v)}return x}var Kl=Qk(!0),Zk=Qk(!1),$f=ya(null),Uf=null,Go=null,Zx=null;function Xx(){Zx=Go=Uf=null}function Jx(t){var e=$f.current;ht($f),t._currentValue=e}function Fy(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function nl(t,e){Uf=t,Zx=Go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vs=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(Zx!==t)if(t={context:t,memoizedValue:e,next:null},Go===null){if(Uf===null)throw Error(re(308));Go=t,Uf.dependencies={lanes:0,firstContext:t}}else Go=Go.next=t;return e}var Aa=null;function e0(t){Aa===null?Aa=[t]:Aa.push(t)}function Xk(t,e,s,n){var r=e.interleaved;return r===null?(s.next=s,e0(e)):(s.next=r.next,r.next=s),e.interleaved=s,ai(t,n)}function ai(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Si=!1;function t0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,ai(t,s)}return r=n.interleaved,r===null?(e.next=e,e0(n)):(e.next=r.next,r.next=e),n.interleaved=e,ai(t,s)}function af(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Ux(t,s)}}function Qw(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?r=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?r=a=e:a=a.next=e}else r=a=e;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function zf(t,e,s,n){var r=t.updateQueue;Si=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var u=r.baseState;o=0,h=d=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,g=l;switch(f=e,m=s,g.tag){case 1:if(b=g.payload,typeof b=="function"){u=b.call(m,u,f);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,f=typeof b=="function"?b.call(m,u,f):b,f==null)break e;u=kt({},u,f);break e;case 2:Si=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=m,c=u):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(c=u),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);lo|=o,t.lanes=o,t.memoizedState=u}}function Zw(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=s,typeof r!="function")throw Error(re(191,r));r.call(n)}}}var Hu={},_r=ya(Hu),Od=ya(Hu),Dd=ya(Hu);function Fa(t){if(t===Hu)throw Error(re(174));return t}function s0(t,e){switch(ct(Dd,e),ct(Od,t),ct(_r,Hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fy(e,t)}ht(_r),ct(_r,e)}function Gl(){ht(_r),ht(Od),ht(Dd)}function eC(t){Fa(Dd.current);var e=Fa(_r.current),s=fy(e,t.type);e!==s&&(ct(Od,t),ct(_r,s))}function n0(t){Od.current===t&&(ht(_r),ht(Od))}var jt=ya(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var og=[];function r0(){for(var t=0;t<og.length;t++)og[t]._workInProgressVersionPrimary=null;og.length=0}var of=pi.ReactCurrentDispatcher,lg=pi.ReactCurrentBatchConfig,oo=0,St=null,Wt=null,es=null,Vf=!1,pd=!1,Ld=0,WR=0;function fs(){throw Error(re(321))}function i0(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Xn(t[s],e[s]))return!1;return!0}function a0(t,e,s,n,r,a){if(oo=a,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,of.current=t===null||t.memoizedState===null?QR:ZR,t=s(n,r),pd){a=0;do{if(pd=!1,Ld=0,25<=a)throw Error(re(301));a+=1,es=Wt=null,e.updateQueue=null,of.current=XR,t=s(n,r)}while(pd)}if(of.current=qf,e=Wt!==null&&Wt.next!==null,oo=0,es=Wt=St=null,Vf=!1,e)throw Error(re(300));return t}function o0(){var t=Ld!==0;return Ld=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?St.memoizedState=es=t:es=es.next=t,es}function wn(){if(Wt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=es===null?St.memoizedState:es.next;if(e!==null)es=e,Wt=t;else{if(t===null)throw Error(re(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},es===null?St.memoizedState=es=t:es=es.next=t}return es}function $d(t,e){return typeof e=="function"?e(t):e}function cg(t){var e=wn(),s=e.queue;if(s===null)throw Error(re(311));s.lastRenderedReducer=t;var n=Wt,r=n.baseQueue,a=s.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}n.baseQueue=r=a,s.pending=null}if(r!==null){a=r.next,n=n.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((oo&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=n):c=c.next=u,St.lanes|=h,lo|=h}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Xn(n,e.memoizedState)||(Vs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){r=t;do a=r.lane,St.lanes|=a,lo|=a,r=r.next;while(r!==t)}else r===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function dg(t){var e=wn(),s=e.queue;if(s===null)throw Error(re(311));s.lastRenderedReducer=t;var n=s.dispatch,r=s.pending,a=e.memoizedState;if(r!==null){s.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);Xn(a,e.memoizedState)||(Vs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function tC(){}function sC(t,e){var s=St,n=wn(),r=e(),a=!Xn(n.memoizedState,r);if(a&&(n.memoizedState=r,Vs=!0),n=n.queue,l0(iC.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||es!==null&&es.memoizedState.tag&1){if(s.flags|=2048,Ud(9,rC.bind(null,s,n,r,e),void 0,null),ts===null)throw Error(re(349));oo&30||nC(s,e,r)}return r}function nC(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function rC(t,e,s,n){e.value=s,e.getSnapshot=n,aC(e)&&oC(t)}function iC(t,e,s){return s(function(){aC(e)&&oC(t)})}function aC(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Xn(t,s)}catch{return!0}}function oC(t){var e=ai(t,1);e!==null&&Gn(e,t,1,-1)}function Xw(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},e.queue=t,t=t.dispatch=YR.bind(null,St,t),[e.memoizedState,t]}function Ud(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function lC(){return wn().memoizedState}function lf(t,e,s,n){var r=dr();St.flags|=t,r.memoizedState=Ud(1|e,s,void 0,n===void 0?null:n)}function Yp(t,e,s,n){var r=wn();n=n===void 0?null:n;var a=void 0;if(Wt!==null){var o=Wt.memoizedState;if(a=o.destroy,n!==null&&i0(n,o.deps)){r.memoizedState=Ud(e,s,a,n);return}}St.flags|=t,r.memoizedState=Ud(1|e,s,a,n)}function Jw(t,e){return lf(8390656,8,t,e)}function l0(t,e){return Yp(2048,8,t,e)}function cC(t,e){return Yp(4,2,t,e)}function dC(t,e){return Yp(4,4,t,e)}function uC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hC(t,e,s){return s=s!=null?s.concat([t]):null,Yp(4,4,uC.bind(null,e,t),s)}function c0(){}function fC(t,e){var s=wn();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&i0(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function pC(t,e){var s=wn();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&i0(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function mC(t,e,s){return oo&21?(Xn(s,e)||(s=bk(),St.lanes|=s,lo|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vs=!0),t.memoizedState=s)}function KR(t,e){var s=lt;lt=s!==0&&4>s?s:4,t(!0);var n=lg.transition;lg.transition={};try{t(!1),e()}finally{lt=s,lg.transition=n}}function gC(){return wn().memoizedState}function GR(t,e,s){var n=Ji(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},yC(t))vC(e,s);else if(s=Xk(t,e,s,n),s!==null){var r=As();Gn(s,t,n,r),xC(s,e,n)}}function YR(t,e,s){var n=Ji(t),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(yC(t))vC(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(r.hasEagerState=!0,r.eagerState=l,Xn(l,o)){var c=e.interleaved;c===null?(r.next=r,e0(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}s=Xk(t,e,r,n),s!==null&&(r=As(),Gn(s,t,n,r),xC(s,e,n))}}function yC(t){var e=t.alternate;return t===St||e!==null&&e===St}function vC(t,e){pd=Vf=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function xC(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Ux(t,s)}}var qf={readContext:bn,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},QR={readContext:bn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Jw,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,lf(4194308,4,uC.bind(null,e,t),s)},useLayoutEffect:function(t,e){return lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return lf(4,2,t,e)},useMemo:function(t,e){var s=dr();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=dr();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GR.bind(null,St,t),[n.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:Xw,useDebugValue:c0,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=Xw(!1),e=t[0];return t=KR.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=St,r=dr();if(pt){if(s===void 0)throw Error(re(407));s=s()}else{if(s=e(),ts===null)throw Error(re(349));oo&30||nC(n,e,s)}r.memoizedState=s;var a={value:s,getSnapshot:e};return r.queue=a,Jw(iC.bind(null,n,a,t),[t]),n.flags|=2048,Ud(9,rC.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=dr(),e=ts.identifierPrefix;if(pt){var s=ti,n=ei;s=(n&~(1<<32-Kn(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=Ld++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=WR++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZR={readContext:bn,useCallback:fC,useContext:bn,useEffect:l0,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:pC,useReducer:cg,useRef:lC,useState:function(){return cg($d)},useDebugValue:c0,useDeferredValue:function(t){var e=wn();return mC(e,Wt.memoizedState,t)},useTransition:function(){var t=cg($d)[0],e=wn().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:sC,useId:gC,unstable_isNewReconciler:!1},XR={readContext:bn,useCallback:fC,useContext:bn,useEffect:l0,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:dC,useMemo:pC,useReducer:dg,useRef:lC,useState:function(){return dg($d)},useDebugValue:c0,useDeferredValue:function(t){var e=wn();return Wt===null?e.memoizedState=t:mC(e,Wt.memoizedState,t)},useTransition:function(){var t=dg($d)[0],e=wn().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:sC,useId:gC,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Ry(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:kt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qp={isMounted:function(t){return(t=t._reactInternals)?jo(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=As(),r=Ji(t),a=si(n,r);a.payload=e,s!=null&&(a.callback=s),e=Zi(t,a,r),e!==null&&(Gn(e,t,r,n),af(e,t,r))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=As(),r=Ji(t),a=si(n,r);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Zi(t,a,r),e!==null&&(Gn(e,t,r,n),af(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=As(),n=Ji(t),r=si(s,n);r.tag=2,e!=null&&(r.callback=e),e=Zi(t,r,n),e!==null&&(Gn(e,t,n,s),af(e,t,n))}};function e1(t,e,s,n,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ad(s,n)||!Ad(r,a):!0}function bC(t,e,s){var n=!1,r=sa,a=e.contextType;return typeof a=="object"&&a!==null?a=bn(a):(r=Ks(e)?io:xs.current,n=e.contextTypes,a=(n=n!=null)?Hl(t,r):sa),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function t1(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Qp.enqueueReplaceState(e,e.state,null)}function Iy(t,e,s,n){var r=t.stateNode;r.props=s,r.state=t.memoizedState,r.refs={},t0(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=bn(a):(a=Ks(e)?io:xs.current,r.context=Hl(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ry(t,e,a,s),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Qp.enqueueReplaceState(r,r.state,null),zf(t,s,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var s="",n=e;do s+=CF(n),n=n.return;while(n);var r=s}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function ug(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Oy(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var JR=typeof WeakMap=="function"?WeakMap:Map;function wC(t,e,s){s=si(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){Wf||(Wf=!0,Wy=n),Oy(t,e)},s}function jC(t,e,s){s=si(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;s.payload=function(){return n(r)},s.callback=function(){Oy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Oy(t,e),typeof n!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function s1(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new JR;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(s)||(r.add(s),t=f5.bind(null,t,e,s),e.then(t,t))}function n1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function r1(t,e,s,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=si(-1,1),e.tag=2,Zi(s,e,1))),s.lanes|=1),t)}var e5=pi.ReactCurrentOwner,Vs=!1;function Ts(t,e,s,n){e.child=t===null?Zk(e,null,s,n):Kl(e,t.child,s,n)}function i1(t,e,s,n,r){s=s.render;var a=e.ref;return nl(e,r),n=a0(t,e,s,n,a,r),s=o0(),t!==null&&!Vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(pt&&s&&Gx(e),e.flags|=1,Ts(t,e,n,r),e.child)}function a1(t,e,s,n,r){if(t===null){var a=s.type;return typeof a=="function"&&!y0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,NC(t,e,a,n,r)):(t=hf(s.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Ad,s(o,n)&&t.ref===e.ref)return oi(t,e,r)}return e.flags|=1,t=ea(a,n),t.ref=e.ref,t.return=e,e.child=t}function NC(t,e,s,n,r){if(t!==null){var a=t.memoizedProps;if(Ad(a,n)&&t.ref===e.ref)if(Vs=!1,e.pendingProps=n=a,(t.lanes&r)!==0)t.flags&131072&&(Vs=!0);else return e.lanes=t.lanes,oi(t,e,r)}return Dy(t,e,s,n,r)}function SC(t,e,s){var n=e.pendingProps,r=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Qo,Zs),Zs|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Qo,Zs),Zs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,ct(Qo,Zs),Zs|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,ct(Qo,Zs),Zs|=n;return Ts(t,e,r,s),e.child}function kC(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Dy(t,e,s,n,r){var a=Ks(s)?io:xs.current;return a=Hl(e,a),nl(e,r),s=a0(t,e,s,n,a,r),n=o0(),t!==null&&!Vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(pt&&n&&Gx(e),e.flags|=1,Ts(t,e,s,r),e.child)}function o1(t,e,s,n,r){if(Ks(s)){var a=!0;Of(e)}else a=!1;if(nl(e,r),e.stateNode===null)cf(t,e),bC(e,s,n),Iy(e,s,n,r),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=Ks(s)?io:xs.current,d=Hl(e,d));var h=s.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&t1(e,o,n,d),Si=!1;var f=e.memoizedState;o.state=f,zf(e,n,o,r),c=e.memoizedState,l!==n||f!==c||Ws.current||Si?(typeof h=="function"&&(Ry(e,s,h,n),c=e.memoizedState),(l=Si||e1(e,s,l,n,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Jk(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_n(e.type,l),o.props=d,u=e.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=Ks(s)?io:xs.current,c=Hl(e,c));var m=s.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&t1(e,o,n,c),Si=!1,f=e.memoizedState,o.state=f,zf(e,n,o,r);var b=e.memoizedState;l!==u||f!==b||Ws.current||Si?(typeof m=="function"&&(Ry(e,s,m,n),b=e.memoizedState),(d=Si||e1(e,s,d,n,f,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ly(t,e,s,n,a,r)}function Ly(t,e,s,n,r,a){kC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&Ww(e,s,!1),oi(t,e,a);n=e.stateNode,e5.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,a),e.child=Kl(e,null,l,a)):Ts(t,e,l,a),e.memoizedState=n.state,r&&Ww(e,s,!0),e.child}function CC(t){var e=t.stateNode;e.pendingContext?Hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hw(t,e.context,!1),s0(t,e.containerInfo)}function l1(t,e,s,n,r){return Wl(),Qx(r),e.flags|=256,Ts(t,e,s,n),e.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function Uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function PC(t,e,s){var n=e.pendingProps,r=jt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ct(jt,r&1),t===null)return Ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jp(o,n,0,null),t=so(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Uy(s),e.memoizedState=$y,t):d0(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return t5(t,e,o,n,l,r,s);if(a){a=n.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ea(r,c),n.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=ea(l,a):(a=so(a,o,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Uy(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=$y,n}return a=t.child,t=a.sibling,n=ea(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function d0(t,e){return e=Jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _h(t,e,s,n){return n!==null&&Qx(n),Kl(e,t.child,null,s),t=d0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t5(t,e,s,n,r,a,o){if(s)return e.flags&256?(e.flags&=-257,n=ug(Error(re(422))),_h(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,r=e.mode,n=Jp({mode:"visible",children:n.children},r,0,null),a=so(a,r,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=Uy(o),e.memoizedState=$y,a);if(!(e.mode&1))return _h(t,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(re(419)),n=ug(a,n,void 0),_h(t,e,o,n)}if(l=(o&t.childLanes)!==0,Vs||l){if(n=ts,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,ai(t,r),Gn(n,t,r,-1))}return g0(),n=ug(Error(re(421))),_h(t,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=p5.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,en=Qi(r.nextSibling),nn=e,pt=!0,$n=null,t!==null&&(pn[mn++]=ei,pn[mn++]=ti,pn[mn++]=ao,ei=t.id,ti=t.overflow,ao=e),e=d0(e,n.children),e.flags|=4096,e)}function c1(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fy(t.return,e,s)}function hg(t,e,s,n,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function _C(t,e,s){var n=e.pendingProps,r=n.revealOrder,a=n.tail;if(Ts(t,e,n.children,s),n=jt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c1(t,s,e);else if(t.tag===19)c1(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ct(jt,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(s=e.child,r=null;s!==null;)t=s.alternate,t!==null&&Bf(t)===null&&(r=s),s=s.sibling;s=r,s===null?(r=e.child,e.child=null):(r=s.sibling,s.sibling=null),hg(e,!1,r,s,a);break;case"backwards":for(s=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bf(t)===null){e.child=r;break}t=r.sibling,r.sibling=s,s=r,r=t}hg(e,!0,s,null,a);break;case"together":hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,s=ea(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=ea(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function s5(t,e,s){switch(e.tag){case 3:CC(e),Wl();break;case 5:eC(e);break;case 1:Ks(e.type)&&Of(e);break;case 4:s0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;ct($f,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ct(jt,jt.current&1),e.flags|=128,null):s&e.child.childLanes?PC(t,e,s):(ct(jt,jt.current&1),t=oi(t,e,s),t!==null?t.sibling:null);ct(jt,jt.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return _C(t,e,s);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ct(jt,jt.current),n)break;return null;case 22:case 23:return e.lanes=0,SC(t,e,s)}return oi(t,e,s)}var EC,zy,TC,MC;EC=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};zy=function(){};TC=function(t,e,s,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Fa(_r.current);var a=null;switch(s){case"input":r=cy(t,r),n=cy(t,n),a=[];break;case"select":r=kt({},r,{value:void 0}),n=kt({},n,{value:void 0}),a=[];break;case"textarea":r=hy(t,r),n=hy(t,n),a=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rf)}py(s,n);var o;s=null;for(d in r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kd.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=r!=null?r[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ut("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};MC=function(t,e,s,n){s!==n&&(e.flags|=4)};function Rc(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ps(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function n5(t,e,s){var n=e.pendingProps;switch(Yx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return Ks(e.type)&&If(),ps(e),null;case 3:return n=e.stateNode,Gl(),ht(Ws),ht(xs),r0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Yy($n),$n=null))),zy(t,e),ps(e),null;case 5:n0(e);var r=Fa(Dd.current);if(s=e.type,t!==null&&e.stateNode!=null)TC(t,e,s,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return ps(e),null}if(t=Fa(_r.current),Ch(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[br]=e,n[Id]=a,t=(e.mode&1)!==0,s){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(r=0;r<Qc.length;r++)ut(Qc[r],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":vw(n,a),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ut("invalid",n);break;case"textarea":bw(n,a),ut("invalid",n)}py(s,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&kh(n.textContent,l,t),r=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&kh(n.textContent,l,t),r=["children",""+l]):kd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ut("scroll",n)}switch(s){case"input":yh(n),xw(n,a,!0);break;case"textarea":yh(n),ww(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Rf)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ik(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[br]=e,t[Id]=n,EC(t,e,!1,!1),e.stateNode=t;e:{switch(o=my(s,n),s){case"dialog":ut("cancel",t),ut("close",t),r=n;break;case"iframe":case"object":case"embed":ut("load",t),r=n;break;case"video":case"audio":for(r=0;r<Qc.length;r++)ut(Qc[r],t);r=n;break;case"source":ut("error",t),r=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),r=n;break;case"details":ut("toggle",t),r=n;break;case"input":vw(t,n),r=cy(t,n),ut("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=kt({},n,{value:void 0}),ut("invalid",t);break;case"textarea":bw(t,n),r=hy(t,n),ut("invalid",t);break;default:r=n}py(s,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?lk(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ak(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Cd(t,c):typeof c=="number"&&Cd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ut("scroll",t):c!=null&&Rx(t,a,c,o))}switch(s){case"input":yh(t),xw(t,n,!1);break;case"textarea":yh(t),ww(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ta(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Jo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Jo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Rf)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(t&&e.stateNode!=null)MC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(s=Fa(Dd.current),Fa(_r.current),Ch(e)){if(n=e.stateNode,s=e.memoizedProps,n[br]=e,(a=n.nodeValue!==s)&&(t=nn,t!==null))switch(t.tag){case 3:kh(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[br]=e,e.stateNode=n}return ps(e),null;case 13:if(ht(jt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&en!==null&&e.mode&1&&!(e.flags&128))Yk(),Wl(),e.flags|=98560,a=!1;else if(a=Ch(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[br]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),a=!1}else $n!==null&&(Yy($n),$n=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||jt.current&1?Qt===0&&(Qt=3):g0())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return Gl(),zy(t,e),t===null&&Fd(e.stateNode.containerInfo),ps(e),null;case 10:return Jx(e.type._context),ps(e),null;case 17:return Ks(e.type)&&If(),ps(e),null;case 19:if(ht(jt),a=e.memoizedState,a===null)return ps(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Rc(a,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bf(t),o!==null){for(e.flags|=128,Rc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return ct(jt,jt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Rt()>Ql&&(e.flags|=128,n=!0,Rc(a,!1),e.lanes=4194304)}else{if(!n)if(t=Bf(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Rc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pt)return ps(e),null}else 2*Rt()-a.renderingStartTime>Ql&&s!==1073741824&&(e.flags|=128,n=!0,Rc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rt(),e.sibling=null,s=jt.current,ct(jt,n?s&1|2:s&1),e):(ps(e),null);case 22:case 23:return m0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Zs&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function r5(t,e){switch(Yx(e),e.tag){case 1:return Ks(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gl(),ht(Ws),ht(xs),r0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return n0(e),null;case 13:if(ht(jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(jt),null;case 4:return Gl(),null;case 10:return Jx(e.type._context),null;case 22:case 23:return m0(),null;case 24:return null;default:return null}}var Eh=!1,ys=!1,i5=typeof WeakSet=="function"?WeakSet:Set,we=null;function Yo(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Et(t,e,n)}else s.current=null}function By(t,e,s){try{s()}catch(n){Et(t,e,n)}}var d1=!1;function a5(t,e){if(ky=Mf,t=Ok(),Kx(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=t,f=null;t:for(;;){for(var m;u!==s||r!==0&&u.nodeType!==3||(l=o+r),u!==a||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)f=u,u=m;for(;;){if(u===t)break t;if(f===s&&++d===r&&(l=o),f===a&&++h===n&&(c=o),(m=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=m}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cy={focusedElem:t,selectionRange:s},Mf=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,x=b.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:_n(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(S){Et(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return b=d1,d1=!1,b}function md(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&By(e,s,a)}r=r.next}while(r!==n)}}function Zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function Vy(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function AC(t){var e=t.alternate;e!==null&&(t.alternate=null,AC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Id],delete e[Ey],delete e[BR],delete e[VR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FC(t){return t.tag===5||t.tag===3||t.tag===4}function u1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Rf));else if(n!==4&&(t=t.child,t!==null))for(qy(t,e,s),t=t.sibling;t!==null;)qy(t,e,s),t=t.sibling}function Hy(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hy(t,e,s),t=t.sibling;t!==null;)Hy(t,e,s),t=t.sibling}var is=null,On=!1;function yi(t,e,s){for(s=s.child;s!==null;)RC(t,e,s),s=s.sibling}function RC(t,e,s){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Vp,s)}catch{}switch(s.tag){case 5:ys||Yo(s,e);case 6:var n=is,r=On;is=null,yi(t,e,s),is=n,On=r,is!==null&&(On?(t=is,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):is.removeChild(s.stateNode));break;case 18:is!==null&&(On?(t=is,s=s.stateNode,t.nodeType===8?ig(t.parentNode,s):t.nodeType===1&&ig(t,s),Td(t)):ig(is,s.stateNode));break;case 4:n=is,r=On,is=s.stateNode.containerInfo,On=!0,yi(t,e,s),is=n,On=r;break;case 0:case 11:case 14:case 15:if(!ys&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&By(s,e,o),r=r.next}while(r!==n)}yi(t,e,s);break;case 1:if(!ys&&(Yo(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Et(s,e,l)}yi(t,e,s);break;case 21:yi(t,e,s);break;case 22:s.mode&1?(ys=(n=ys)||s.memoizedState!==null,yi(t,e,s),ys=n):yi(t,e,s);break;default:yi(t,e,s)}}function h1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new i5),e.forEach(function(n){var r=m5.bind(null,t,n);s.has(n)||(s.add(n),n.then(r,r))})}}function Cn(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:is=l.stateNode,On=!1;break e;case 3:is=l.stateNode.containerInfo,On=!0;break e;case 4:is=l.stateNode.containerInfo,On=!0;break e}l=l.return}if(is===null)throw Error(re(160));RC(a,o,r),is=null,On=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Et(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IC(e,t),e=e.sibling}function IC(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),lr(t),n&4){try{md(3,t,t.return),Zp(3,t)}catch(g){Et(t,t.return,g)}try{md(5,t,t.return)}catch(g){Et(t,t.return,g)}}break;case 1:Cn(e,t),lr(t),n&512&&s!==null&&Yo(s,s.return);break;case 5:if(Cn(e,t),lr(t),n&512&&s!==null&&Yo(s,s.return),t.flags&32){var r=t.stateNode;try{Cd(r,"")}catch(g){Et(t,t.return,g)}}if(n&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&nk(r,a),my(l,o);var d=my(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?lk(r,u):h==="dangerouslySetInnerHTML"?ak(r,u):h==="children"?Cd(r,u):Rx(r,h,u,d)}switch(l){case"input":dy(r,a);break;case"textarea":rk(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Jo(r,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Jo(r,!!a.multiple,a.defaultValue,!0):Jo(r,!!a.multiple,a.multiple?[]:"",!1))}r[Id]=a}catch(g){Et(t,t.return,g)}}break;case 6:if(Cn(e,t),lr(t),n&4){if(t.stateNode===null)throw Error(re(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(g){Et(t,t.return,g)}}break;case 3:if(Cn(e,t),lr(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Td(e.containerInfo)}catch(g){Et(t,t.return,g)}break;case 4:Cn(e,t),lr(t);break;case 13:Cn(e,t),lr(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(f0=Rt())),n&4&&h1(t);break;case 22:if(h=s!==null&&s.memoizedState!==null,t.mode&1?(ys=(d=ys)||h,Cn(e,t),ys=d):Cn(e,t),lr(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(we=t,h=t.child;h!==null;){for(u=we=h;we!==null;){switch(f=we,m=f.child,f.tag){case 0:case 11:case 14:case 15:md(4,f,f.return);break;case 1:Yo(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,s=f.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(g){Et(n,s,g)}}break;case 5:Yo(f,f.return);break;case 22:if(f.memoizedState!==null){p1(u);continue}}m!==null?(m.return=f,we=m):p1(u)}h=h.sibling}e:for(h=null,u=t;;){if(u.tag===5){if(h===null){h=u;try{r=u.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ok("display",o))}catch(g){Et(t,t.return,g)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){Et(t,t.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Cn(e,t),lr(t),n&4&&h1(t);break;case 21:break;default:Cn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(FC(s)){var n=s;break e}s=s.return}throw Error(re(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Cd(r,""),n.flags&=-33);var a=u1(t);Hy(t,a,r);break;case 3:case 4:var o=n.stateNode.containerInfo,l=u1(t);qy(t,l,o);break;default:throw Error(re(161))}}catch(c){Et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o5(t,e,s){we=t,OC(t)}function OC(t,e,s){for(var n=(t.mode&1)!==0;we!==null;){var r=we,a=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Eh;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ys;l=Eh;var d=ys;if(Eh=o,(ys=c)&&!d)for(we=r;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?m1(r):c!==null?(c.return=o,we=c):m1(r);for(;a!==null;)we=a,OC(a),a=a.sibling;we=r,Eh=l,ys=d}f1(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,we=a):f1(t)}}function f1(t){for(;we!==null;){var e=we;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ys||Zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ys)if(s===null)n.componentDidMount();else{var r=e.elementType===e.type?s.memoizedProps:_n(e.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Zw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Zw(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Td(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}ys||e.flags&512&&Vy(e)}catch(f){Et(e,e.return,f)}}if(e===t){we=null;break}if(s=e.sibling,s!==null){s.return=e.return,we=s;break}we=e.return}}function p1(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var s=e.sibling;if(s!==null){s.return=e.return,we=s;break}we=e.return}}function m1(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Zp(4,e)}catch(c){Et(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(c){Et(e,r,c)}}var a=e.return;try{Vy(e)}catch(c){Et(e,a,c)}break;case 5:var o=e.return;try{Vy(e)}catch(c){Et(e,o,c)}}}catch(c){Et(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var l5=Math.ceil,Hf=pi.ReactCurrentDispatcher,u0=pi.ReactCurrentOwner,yn=pi.ReactCurrentBatchConfig,tt=0,ts=null,$t=null,os=0,Zs=0,Qo=ya(0),Qt=0,zd=null,lo=0,Xp=0,h0=0,gd=null,$s=null,f0=0,Ql=1/0,Hr=null,Wf=!1,Wy=null,Xi=null,Th=!1,Vi=null,Kf=0,yd=0,Ky=null,df=-1,uf=0;function As(){return tt&6?Rt():df!==-1?df:df=Rt()}function Ji(t){return t.mode&1?tt&2&&os!==0?os&-os:HR.transition!==null?(uf===0&&(uf=bk()),uf):(t=lt,t!==0||(t=window.event,t=t===void 0?16:Pk(t.type)),t):1}function Gn(t,e,s,n){if(50<yd)throw yd=0,Ky=null,Error(re(185));Bu(t,s,n),(!(tt&2)||t!==ts)&&(t===ts&&(!(tt&2)&&(Xp|=s),Qt===4&&Ci(t,os)),Gs(t,n),s===1&&tt===0&&!(e.mode&1)&&(Ql=Rt()+500,Gp&&va()))}function Gs(t,e){var s=t.callbackNode;HF(t,e);var n=Tf(t,t===ts?os:0);if(n===0)s!==null&&Sw(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&Sw(s),e===1)t.tag===0?qR(g1.bind(null,t)):Wk(g1.bind(null,t)),UR(function(){!(tt&6)&&va()}),s=null;else{switch(wk(n)){case 1:s=$x;break;case 4:s=vk;break;case 16:s=Ef;break;case 536870912:s=xk;break;default:s=Ef}s=qC(s,DC.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function DC(t,e){if(df=-1,uf=0,tt&6)throw Error(re(327));var s=t.callbackNode;if(rl()&&t.callbackNode!==s)return null;var n=Tf(t,t===ts?os:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gf(t,n);else{e=n;var r=tt;tt|=2;var a=$C();(ts!==t||os!==e)&&(Hr=null,Ql=Rt()+500,to(t,e));do try{u5();break}catch(l){LC(t,l)}while(!0);Xx(),Hf.current=a,tt=r,$t!==null?e=0:(ts=null,os=0,e=Qt)}if(e!==0){if(e===2&&(r=by(t),r!==0&&(n=r,e=Gy(t,r))),e===1)throw s=zd,to(t,0),Ci(t,n),Gs(t,Rt()),s;if(e===6)Ci(t,n);else{if(r=t.current.alternate,!(n&30)&&!c5(r)&&(e=Gf(t,n),e===2&&(a=by(t),a!==0&&(n=a,e=Gy(t,a))),e===1))throw s=zd,to(t,0),Ci(t,n),Gs(t,Rt()),s;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:_a(t,$s,Hr);break;case 3:if(Ci(t,n),(n&130023424)===n&&(e=f0+500-Rt(),10<e)){if(Tf(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){As(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=_y(_a.bind(null,t,$s,Hr),e);break}_a(t,$s,Hr);break;case 4:if(Ci(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var o=31-Kn(n);a=1<<o,o=e[o],o>r&&(r=o),n&=~a}if(n=r,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*l5(n/1960))-n,10<n){t.timeoutHandle=_y(_a.bind(null,t,$s,Hr),n);break}_a(t,$s,Hr);break;case 5:_a(t,$s,Hr);break;default:throw Error(re(329))}}}return Gs(t,Rt()),t.callbackNode===s?DC.bind(null,t):null}function Gy(t,e){var s=gd;return t.current.memoizedState.isDehydrated&&(to(t,e).flags|=256),t=Gf(t,e),t!==2&&(e=$s,$s=s,e!==null&&Yy(e)),t}function Yy(t){$s===null?$s=t:$s.push.apply($s,t)}function c5(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!Xn(a(),r))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~h0,e&=~Xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Kn(e),n=1<<s;t[s]=-1,e&=~n}}function g1(t){if(tt&6)throw Error(re(327));rl();var e=Tf(t,0);if(!(e&1))return Gs(t,Rt()),null;var s=Gf(t,e);if(t.tag!==0&&s===2){var n=by(t);n!==0&&(e=n,s=Gy(t,n))}if(s===1)throw s=zd,to(t,0),Ci(t,e),Gs(t,Rt()),s;if(s===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,$s,Hr),Gs(t,Rt()),null}function p0(t,e){var s=tt;tt|=1;try{return t(e)}finally{tt=s,tt===0&&(Ql=Rt()+500,Gp&&va())}}function co(t){Vi!==null&&Vi.tag===0&&!(tt&6)&&rl();var e=tt;tt|=1;var s=yn.transition,n=lt;try{if(yn.transition=null,lt=1,t)return t()}finally{lt=n,yn.transition=s,tt=e,!(tt&6)&&va()}}function m0(){Zs=Qo.current,ht(Qo)}function to(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,$R(s)),$t!==null)for(s=$t.return;s!==null;){var n=s;switch(Yx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&If();break;case 3:Gl(),ht(Ws),ht(xs),r0();break;case 5:n0(n);break;case 4:Gl();break;case 13:ht(jt);break;case 19:ht(jt);break;case 10:Jx(n.type._context);break;case 22:case 23:m0()}s=s.return}if(ts=t,$t=t=ea(t.current,null),os=Zs=e,Qt=0,zd=null,h0=Xp=lo=0,$s=gd=null,Aa!==null){for(e=0;e<Aa.length;e++)if(s=Aa[e],n=s.interleaved,n!==null){s.interleaved=null;var r=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=r,n.next=o}s.pending=n}Aa=null}return t}function LC(t,e){do{var s=$t;try{if(Xx(),of.current=qf,Vf){for(var n=St.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Vf=!1}if(oo=0,es=Wt=St=null,pd=!1,Ld=0,u0.current=null,s===null||s.return===null){Qt=1,zd=e,$t=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=os,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=n1(o);if(m!==null){m.flags&=-257,r1(m,o,l,a,e),m.mode&1&&s1(a,d,e),e=m,c=d;var b=e.updateQueue;if(b===null){var g=new Set;g.add(c),e.updateQueue=g}else b.add(c);break e}else{if(!(e&1)){s1(a,d,e),g0();break e}c=Error(re(426))}}else if(pt&&l.mode&1){var x=n1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),r1(x,o,l,a,e),Qx(Yl(c,l));break e}}a=c=Yl(c,l),Qt!==4&&(Qt=2),gd===null?gd=[a]:gd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=wC(a,c,e);Qw(a,y);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xi===null||!Xi.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=jC(a,l,e);Qw(a,S);break e}}a=a.return}while(a!==null)}zC(s)}catch(N){e=N,$t===s&&s!==null&&($t=s=s.return);continue}break}while(!0)}function $C(){var t=Hf.current;return Hf.current=qf,t===null?qf:t}function g0(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ts===null||!(lo&268435455)&&!(Xp&268435455)||Ci(ts,os)}function Gf(t,e){var s=tt;tt|=2;var n=$C();(ts!==t||os!==e)&&(Hr=null,to(t,e));do try{d5();break}catch(r){LC(t,r)}while(!0);if(Xx(),tt=s,Hf.current=n,$t!==null)throw Error(re(261));return ts=null,os=0,Qt}function d5(){for(;$t!==null;)UC($t)}function u5(){for(;$t!==null&&!OF();)UC($t)}function UC(t){var e=VC(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,e===null?zC(t):$t=e,u0.current=null}function zC(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=r5(s,e),s!==null){s.flags&=32767,$t=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,$t=null;return}}else if(s=n5(s,e,Zs),s!==null){$t=s;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Qt===0&&(Qt=5)}function _a(t,e,s){var n=lt,r=yn.transition;try{yn.transition=null,lt=1,h5(t,e,s,n)}finally{yn.transition=r,lt=n}return null}function h5(t,e,s,n){do rl();while(Vi!==null);if(tt&6)throw Error(re(327));s=t.finishedWork;var r=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(WF(t,a),t===ts&&($t=ts=null,os=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Th||(Th=!0,qC(Ef,function(){return rl(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=yn.transition,yn.transition=null;var o=lt;lt=1;var l=tt;tt|=4,u0.current=null,a5(t,s),IC(s,t),AR(Cy),Mf=!!ky,Cy=ky=null,t.current=s,o5(s),DF(),tt=l,lt=o,yn.transition=a}else t.current=s;if(Th&&(Th=!1,Vi=t,Kf=r),a=t.pendingLanes,a===0&&(Xi=null),UF(s.stateNode),Gs(t,Rt()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)r=e[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(Wf)throw Wf=!1,t=Wy,Wy=null,t;return Kf&1&&t.tag!==0&&rl(),a=t.pendingLanes,a&1?t===Ky?yd++:(yd=0,Ky=t):yd=0,va(),null}function rl(){if(Vi!==null){var t=wk(Kf),e=yn.transition,s=lt;try{if(yn.transition=null,lt=16>t?16:t,Vi===null)var n=!1;else{if(t=Vi,Vi=null,Kf=0,tt&6)throw Error(re(331));var r=tt;for(tt|=4,we=t.current;we!==null;){var a=we,o=a.child;if(we.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(we=d;we!==null;){var h=we;switch(h.tag){case 0:case 11:case 15:md(8,h,a)}var u=h.child;if(u!==null)u.return=h,we=u;else for(;we!==null;){h=we;var f=h.sibling,m=h.return;if(AC(h),h===d){we=null;break}if(f!==null){f.return=m,we=f;break}we=m}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}we=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,we=o;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:md(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,we=y;break e}we=a.return}}var v=t.current;for(we=v;we!==null;){o=we;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,we=w;else e:for(o=v;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zp(9,l)}}catch(N){Et(l,l.return,N)}if(l===o){we=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,we=S;break e}we=l.return}}if(tt=r,va(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Vp,t)}catch{}n=!0}return n}finally{lt=s,yn.transition=e}}return!1}function y1(t,e,s){e=Yl(s,e),e=wC(t,e,1),t=Zi(t,e,1),e=As(),t!==null&&(Bu(t,1,e),Gs(t,e))}function Et(t,e,s){if(t.tag===3)y1(t,t,s);else for(;e!==null;){if(e.tag===3){y1(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xi===null||!Xi.has(n))){t=Yl(s,t),t=jC(e,t,1),e=Zi(e,t,1),t=As(),e!==null&&(Bu(e,1,t),Gs(e,t));break}}e=e.return}}function f5(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=As(),t.pingedLanes|=t.suspendedLanes&s,ts===t&&(os&s)===s&&(Qt===4||Qt===3&&(os&130023424)===os&&500>Rt()-f0?to(t,0):h0|=s),Gs(t,e)}function BC(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var s=As();t=ai(t,e),t!==null&&(Bu(t,e,s),Gs(t,s))}function p5(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),BC(t,s)}function m5(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),BC(t,s)}var VC;VC=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ws.current)Vs=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Vs=!1,s5(t,e,s);Vs=!!(t.flags&131072)}else Vs=!1,pt&&e.flags&1048576&&Kk(e,Lf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cf(t,e),t=e.pendingProps;var r=Hl(e,xs.current);nl(e,s),r=a0(null,e,n,t,r,s);var a=o0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ks(n)?(a=!0,Of(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,t0(e),r.updater=Qp,e.stateNode=r,r._reactInternals=e,Iy(e,n,t,s),e=Ly(null,e,n,!0,a,s)):(e.tag=0,pt&&a&&Gx(e),Ts(null,e,r,s),e=e.child),e;case 16:n=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=y5(n),t=_n(n,t),r){case 0:e=Dy(null,e,n,t,s);break e;case 1:e=o1(null,e,n,t,s);break e;case 11:e=i1(null,e,n,t,s);break e;case 14:e=a1(null,e,n,_n(n.type,t),s);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:_n(n,r),Dy(t,e,n,r,s);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:_n(n,r),o1(t,e,n,r,s);case 3:e:{if(CC(e),t===null)throw Error(re(387));n=e.pendingProps,a=e.memoizedState,r=a.element,Jk(t,e),zf(e,n,null,s);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=Yl(Error(re(423)),e),e=l1(t,e,n,s,r);break e}else if(n!==r){r=Yl(Error(re(424)),e),e=l1(t,e,n,s,r);break e}else for(en=Qi(e.stateNode.containerInfo.firstChild),nn=e,pt=!0,$n=null,s=Zk(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wl(),n===r){e=oi(t,e,s);break e}Ts(t,e,n,s)}e=e.child}return e;case 5:return eC(e),t===null&&Ay(e),n=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,Py(n,r)?o=null:a!==null&&Py(n,a)&&(e.flags|=32),kC(t,e),Ts(t,e,o,s),e.child;case 6:return t===null&&Ay(e),null;case 13:return PC(t,e,s);case 4:return s0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kl(e,null,n,s):Ts(t,e,n,s),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:_n(n,r),i1(t,e,n,r,s);case 7:return Ts(t,e,e.pendingProps,s),e.child;case 8:return Ts(t,e,e.pendingProps.children,s),e.child;case 12:return Ts(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,ct($f,n._currentValue),n._currentValue=o,a!==null)if(Xn(a.value,o)){if(a.children===r.children&&!Ws.current){e=oi(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=si(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Fy(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Fy(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ts(t,e,r.children,s),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,nl(e,s),r=bn(r),n=n(r),e.flags|=1,Ts(t,e,n,s),e.child;case 14:return n=e.type,r=_n(n,e.pendingProps),r=_n(n.type,r),a1(t,e,n,r,s);case 15:return NC(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:_n(n,r),cf(t,e),e.tag=1,Ks(n)?(t=!0,Of(e)):t=!1,nl(e,s),bC(e,n,r),Iy(e,n,r,s),Ly(null,e,n,!0,t,s);case 19:return _C(t,e,s);case 22:return SC(t,e,s)}throw Error(re(156,e.tag))};function qC(t,e){return yk(t,e)}function g5(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,s,n){return new g5(t,e,s,n)}function y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y5(t){if(typeof t=="function")return y0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ox)return 11;if(t===Dx)return 14}return 2}function ea(t,e){var s=t.alternate;return s===null?(s=gn(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function hf(t,e,s,n,r,a){var o=2;if(n=t,typeof t=="function")y0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uo:return so(s.children,r,a,e);case Ix:o=8,r|=8;break;case iy:return t=gn(12,s,e,r|2),t.elementType=iy,t.lanes=a,t;case ay:return t=gn(13,s,e,r),t.elementType=ay,t.lanes=a,t;case oy:return t=gn(19,s,e,r),t.elementType=oy,t.lanes=a,t;case ek:return Jp(s,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XS:o=10;break e;case JS:o=9;break e;case Ox:o=11;break e;case Dx:o=14;break e;case Ni:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=gn(o,s,e,r),e.elementType=t,e.type=n,e.lanes=a,e}function so(t,e,s,n){return t=gn(7,t,n,e),t.lanes=s,t}function Jp(t,e,s,n){return t=gn(22,t,n,e),t.elementType=ek,t.lanes=s,t.stateNode={isHidden:!1},t}function fg(t,e,s){return t=gn(6,t,null,e),t.lanes=s,t}function pg(t,e,s){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v5(t,e,s,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function v0(t,e,s,n,r,a,o,l,c){return t=new v5(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=gn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(a),t}function x5(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function HC(t){if(!t)return sa;t=t._reactInternals;e:{if(jo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ks(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var s=t.type;if(Ks(s))return Hk(t,s,e)}return e}function WC(t,e,s,n,r,a,o,l,c){return t=v0(s,n,!0,t,r,a,o,l,c),t.context=HC(null),s=t.current,n=As(),r=Ji(s),a=si(n,r),a.callback=e??null,Zi(s,a,r),t.current.lanes=r,Bu(t,r,n),Gs(t,n),t}function em(t,e,s,n){var r=e.current,a=As(),o=Ji(r);return s=HC(s),e.context===null?e.context=s:e.pendingContext=s,e=si(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zi(r,e,o),t!==null&&(Gn(t,r,o,a),af(t,r,o)),o}function Yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function x0(t,e){v1(t,e),(t=t.alternate)&&v1(t,e)}function b5(){return null}var KC=typeof reportError=="function"?reportError:function(t){console.error(t)};function b0(t){this._internalRoot=t}tm.prototype.render=b0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));em(t,e,null,null)};tm.prototype.unmount=b0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){em(null,t,null,null)}),e[ii]=null}};function tm(t){this._internalRoot=t}tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sk();t={blockedOn:null,target:t,priority:e};for(var s=0;s<ki.length&&e!==0&&e<ki[s].priority;s++);ki.splice(s,0,t),s===0&&Ck(t)}};function w0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x1(){}function w5(t,e,s,n,r){if(r){if(typeof n=="function"){var a=n;n=function(){var d=Yf(o);a.call(d)}}var o=WC(e,n,t,0,null,!1,!1,"",x1);return t._reactRootContainer=o,t[ii]=o.current,Fd(t.nodeType===8?t.parentNode:t),co(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var l=n;n=function(){var d=Yf(c);l.call(d)}}var c=v0(t,0,!1,null,null,!1,!1,"",x1);return t._reactRootContainer=c,t[ii]=c.current,Fd(t.nodeType===8?t.parentNode:t),co(function(){em(e,c,s,n)}),c}function nm(t,e,s,n,r){var a=s._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Yf(o);l.call(c)}}em(e,o,t,r)}else o=w5(s,e,t,r,n);return Yf(o)}jk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Yc(e.pendingLanes);s!==0&&(Ux(e,s|1),Gs(e,Rt()),!(tt&6)&&(Ql=Rt()+500,va()))}break;case 13:co(function(){var n=ai(t,1);if(n!==null){var r=As();Gn(n,t,1,r)}}),x0(t,1)}};zx=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var s=As();Gn(e,t,134217728,s)}x0(t,134217728)}};Nk=function(t){if(t.tag===13){var e=Ji(t),s=ai(t,e);if(s!==null){var n=As();Gn(s,t,e,n)}x0(t,e)}};Sk=function(){return lt};kk=function(t,e){var s=lt;try{return lt=t,e()}finally{lt=s}};yy=function(t,e,s){switch(e){case"input":if(dy(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var r=Kp(n);if(!r)throw Error(re(90));sk(n),dy(n,r)}}}break;case"textarea":rk(t,s);break;case"select":e=s.value,e!=null&&Jo(t,!!s.multiple,e,!1)}};uk=p0;hk=co;var j5={usingClientEntryPoint:!1,Events:[qu,qo,Kp,ck,dk,p0]},Ic={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N5={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mk(t),t===null?null:t.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||b5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Vp=Mh.inject(N5),Pr=Mh}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5;ln.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w0(e))throw Error(re(200));return x5(t,e,null,s)};ln.createRoot=function(t,e){if(!w0(t))throw Error(re(299));var s=!1,n="",r=KC;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=v0(t,1,!1,null,null,s,!1,n,r),t[ii]=e.current,Fd(t.nodeType===8?t.parentNode:t),new b0(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=mk(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return co(t)};ln.hydrate=function(t,e,s){if(!sm(e))throw Error(re(200));return nm(null,t,e,!0,s)};ln.hydrateRoot=function(t,e,s){if(!w0(t))throw Error(re(405));var n=s!=null&&s.hydratedSources||null,r=!1,a="",o=KC;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=WC(e,null,t,1,s??null,r,!1,a,o),t[ii]=e.current,Fd(t),n)for(t=0;t<n.length;t++)s=n[t],r=s._getVersion,r=r(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,r]:e.mutableSourceEagerHydrationData.push(s,r);return new tm(e)};ln.render=function(t,e,s){if(!sm(e))throw Error(re(200));return nm(null,t,e,!1,s)};ln.unmountComponentAtNode=function(t){if(!sm(t))throw Error(re(40));return t._reactRootContainer?(co(function(){nm(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};ln.unstable_batchedUpdates=p0;ln.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!sm(s))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return nm(t,e,s,!1,n)};ln.version="18.3.1-next-f1338f8080-20240426";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(t){console.error(t)}}GC(),GS.exports=ln;var No=GS.exports;const S5=fi(No);var YC,b1=No;YC=b1.createRoot,b1.hydrateRoot;function k5(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,r,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)s=r[0],s==="*"?(o.push(s),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~n?n:~a?a:r.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+r.substring(a))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var QC={exports:{}},ZC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=p;function C5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var P5=typeof Object.is=="function"?Object.is:C5,_5=Zl.useState,E5=Zl.useEffect,T5=Zl.useLayoutEffect,M5=Zl.useDebugValue;function A5(t,e){var s=e(),n=_5({inst:{value:s,getSnapshot:e}}),r=n[0].inst,a=n[1];return T5(function(){r.value=s,r.getSnapshot=e,mg(r)&&a({inst:r})},[t,s,e]),E5(function(){return mg(r)&&a({inst:r}),t(function(){mg(r)&&a({inst:r})})},[t]),M5(s),s}function mg(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!P5(t,s)}catch{return!0}}function F5(t,e){return e()}var R5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F5:A5;ZC.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:R5;QC.exports=ZC;var I5=QC.exports;const O5=WS.useInsertionEffect,D5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L5=D5?p.useLayoutEffect:p.useEffect,$5=O5||L5,XC=t=>{const e=p.useRef([t,(...s)=>e[0](...s)]).current;return $5(()=>{e[0]=t}),e[1]},U5="popstate",j0="pushState",N0="replaceState",z5="hashchange",w1=[U5,j0,N0,z5],B5=t=>{for(const e of w1)addEventListener(e,t);return()=>{for(const e of w1)removeEventListener(e,t)}},JC=(t,e)=>I5.useSyncExternalStore(B5,t,e),V5=()=>location.search,q5=({ssrSearch:t=""}={})=>JC(V5,()=>t),j1=()=>location.pathname,H5=({ssrPath:t}={})=>JC(j1,t?()=>t:j1),W5=(t,{replace:e=!1,state:s=null}={})=>history[e?N0:j0](s,"",t),K5=(t={})=>[H5(t),W5],N1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[N1]>"u"){for(const t of[j0,N0]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,N1,{value:!0})}const G5=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",e2=(t="")=>t==="/"?"":t,Y5=(t,e)=>t[0]==="~"?t.slice(1):e2(e)+t,Q5=(t="",e)=>G5(S1(e2(t)),S1(e)),S1=t=>{try{return decodeURI(t)}catch{return t}},t2={hook:K5,searchHook:q5,parser:k5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},s2=p.createContext(t2),Wu=()=>p.useContext(s2),n2={},r2=p.createContext(n2),S0=()=>p.useContext(r2),rm=t=>{const[e,s]=t.hook(t);return[Q5(t.base,e),XC((n,r)=>s(Y5(n,t.base),r))]},Ku=()=>rm(Wu()),i2=(t,e,s,n)=>{const{pattern:r,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=r.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((u,f)=>[u,c[f]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...n?[l]:[]]:[!1,null]},Z5=({children:t,...e})=>{var h,u;const s=Wu(),n=e.hook?t2:s;let r=n;const[a,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((u=e.hook)==null?void 0:u.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let f in n){const m=f==="base"?n[f]+(e[f]||""):e[f]||n[f];c===d&&m!==d[f]&&(l.current=d={...d}),d[f]=m,m!==n[f]&&(r=d)}return p.createElement(s2.Provider,{value:r,children:t})},k1=({children:t,component:e},s)=>e?p.createElement(e,{params:s}):typeof t=="function"?t(s):t,X5=t=>{let e=p.useRef(n2),s=e.current;for(const n in t)t[n]!==s[n]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},Tt=({path:t,nest:e,match:s,...n})=>{const r=Wu(),[a]=rm(r),[o,l,c]=s??i2(r.parser,t,a,e),d=X5({...S0(),...l});if(!o)return null;const h=c?p.createElement(Z5,{base:c},k1(n,d)):k1(n,d);return p.createElement(r2.Provider,{value:d,children:h})},ls=p.forwardRef((t,e)=>{const s=Wu(),[n,r]=rm(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:u,state:f,...m}=t,b=XC(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),r(o,t)))}),g=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:b,href:g}):p.createElement("a",{...m,onClick:b,href:g,className:h!=null&&h.call?h(n===o):h,children:d,ref:e})}),a2=t=>Array.isArray(t)?t.flatMap(e=>a2(e&&e.type===p.Fragment?e.props.children:e)):[t],J5=({children:t,location:e})=>{const s=Wu(),[n]=rm(s);for(const r of a2(t)){let a=0;if(p.isValidElement(r)&&(a=i2(s.parser,r.props.path,e||n,r.props.nest))[0])return p.cloneElement(r,{match:a})}return null};var mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uo=typeof window>"u"||"Deno"in globalThis;function fn(){}function e3(t,e){return typeof t=="function"?t(e):t}function Qy(t){return typeof t=="number"&&t>=0&&t!==1/0}function o2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function il(t,e){return typeof t=="function"?t(e):t}function Un(t,e){return typeof t=="function"?t(e):t}function C1(t,e){const{type:s="all",exact:n,fetchStatus:r,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==k0(o,e.options))return!1}else if(!Bd(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||a&&!a(e))}function P1(t,e){const{exact:s,status:n,predicate:r,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(ho(e.options.mutationKey)!==ho(a))return!1}else if(!Bd(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function k0(t,e){return((e==null?void 0:e.queryKeyHashFn)||ho)(t)}function ho(t){return JSON.stringify(t,(e,s)=>Zy(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Bd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Bd(t[s],e[s])):!1}function l2(t,e){if(t===e)return t;const s=_1(t)&&_1(e);if(s||Zy(t)&&Zy(e)){const n=s?t:Object.keys(t),r=n.length,a=s?e:Object.keys(e),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const h=s?d:a[d];(!s&&n.includes(h)||s)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=l2(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return r===o&&c===r?t:l}return e}function Qf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function _1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zy(t){if(!E1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!E1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function E1(t){return Object.prototype.toString.call(t)==="[object Object]"}function t3(t){return new Promise(e=>{setTimeout(e,t)})}function Xy(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?l2(t,e):e}function s3(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function n3(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var C0=Symbol();function c2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===C0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Da,Ti,ul,CS,r3=(CS=class extends mc{constructor(){super();V(this,Da);V(this,Ti);V(this,ul);W(this,ul,e=>{if(!uo&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){j(this,Ti)||this.setEventListener(j(this,ul))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Ti))==null||e.call(this),W(this,Ti,void 0))}setEventListener(e){var s;W(this,ul,e),(s=j(this,Ti))==null||s.call(this),W(this,Ti,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){j(this,Da)!==e&&(W(this,Da,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof j(this,Da)=="boolean"?j(this,Da):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Da=new WeakMap,Ti=new WeakMap,ul=new WeakMap,CS),P0=new r3,hl,Mi,fl,PS,i3=(PS=class extends mc{constructor(){super();V(this,hl,!0);V(this,Mi);V(this,fl);W(this,fl,e=>{if(!uo&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){j(this,Mi)||this.setEventListener(j(this,fl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Mi))==null||e.call(this),W(this,Mi,void 0))}setEventListener(e){var s;W(this,fl,e),(s=j(this,Mi))==null||s.call(this),W(this,Mi,e(this.setOnline.bind(this)))}setOnline(e){j(this,hl)!==e&&(W(this,hl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return j(this,hl)}},hl=new WeakMap,Mi=new WeakMap,fl=new WeakMap,PS),Zf=new i3;function Jy(){let t,e;const s=new Promise((r,a)=>{t=r,e=a});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},s.reject=r=>{n({status:"rejected",reason:r}),e(r)},s}function a3(t){return Math.min(1e3*2**t,3e4)}function d2(t){return(t??"online")==="online"?Zf.isOnline():!0}var u2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gg(t){return t instanceof u2}function h2(t){let e=!1,s=0,n=!1,r;const a=Jy(),o=g=>{var x;n||(f(new u2(g)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>P0.isFocused()&&(t.networkMode==="always"||Zf.isOnline())&&t.canRun(),h=()=>d2(t.networkMode)&&t.canRun(),u=g=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,g),r==null||r(),a.resolve(g))},f=g=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,g),r==null||r(),a.reject(g))},m=()=>new Promise(g=>{var x;r=y=>{(n||d())&&g(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;r=void 0,n||(g=t.onContinue)==null||g.call(t)}),b=()=>{if(n)return;let g;const x=s===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(u).catch(y=>{var P;if(n)return;const v=t.retry??(uo?0:3),w=t.retryDelay??a3,S=typeof w=="function"?w(s,y):w,N=v===!0||typeof v=="number"&&s<v||typeof v=="function"&&v(s,y);if(e||!N){f(y);return}s++,(P=t.onFail)==null||P.call(t,s,y),t3(S).then(()=>d()?void 0:m()).then(()=>{e?f(y):b()})})};return{promise:a,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():m().then(b),a)}}function o3(){let t=[],e=0,s=l=>{l()},n=l=>{l()},r=l=>setTimeout(l,0);const a=l=>{e?t.push(l):r(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var Gt=o3(),La,_S,f2=(_S=class{constructor(){V(this,La)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qy(this.gcTime)&&W(this,La,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uo?1/0:5*60*1e3))}clearGcTimeout(){j(this,La)&&(clearTimeout(j(this,La)),W(this,La,void 0))}},La=new WeakMap,_S),pl,ml,un,ms,gu,$a,En,Br,ES,l3=(ES=class extends f2{constructor(e){super();V(this,En);V(this,pl);V(this,ml);V(this,un);V(this,ms);V(this,gu);V(this,$a);W(this,$a,!1),W(this,gu,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,un,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,pl,c3(this.options)),this.state=e.state??j(this,pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,ms))==null?void 0:e.promise}setOptions(e){this.options={...j(this,gu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,un).remove(this)}setData(e,s){const n=Xy(this.state.data,e,this.options);return G(this,En,Br).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){G(this,En,Br).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,r;const s=(n=j(this,ms))==null?void 0:n.promise;return(r=j(this,ms))==null||r.cancel(e),s?s.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,pl))}isActive(){return this.observers.some(e=>Un(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!o2(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=j(this,ms))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=j(this,ms))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,un).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(j(this,ms)&&(j(this,$a)?j(this,ms).cancel({revert:!0}):j(this,ms).cancelRetry()),this.scheduleGc()),j(this,un).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,En,Br).call(this,{type:"invalidate"})}fetch(e,s){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(j(this,ms))return j(this,ms).continueRetry(),j(this,ms).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(W(this,$a,!0),n.signal)})},a=()=>{const u=c2(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return r(f),W(this,$a,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),W(this,ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&G(this,En,Br).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=u=>{var f,m,b,g;gg(u)&&u.silent||G(this,En,Br).call(this,{type:"error",error:u}),gg(u)||((m=(f=j(this,un).config).onError)==null||m.call(f,u,this),(g=(b=j(this,un).config).onSettled)==null||g.call(b,this.state.data,u,this)),this.scheduleGc()};return W(this,ms,h2({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var f,m,b,g;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(x){l(x);return}(m=(f=j(this,un).config).onSuccess)==null||m.call(f,u,this),(g=(b=j(this,un).config).onSettled)==null||g.call(b,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,f)=>{G(this,En,Br).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{G(this,En,Br).call(this,{type:"pause"})},onContinue:()=>{G(this,En,Br).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),j(this,ms).start()}},pl=new WeakMap,ml=new WeakMap,un=new WeakMap,ms=new WeakMap,gu=new WeakMap,$a=new WeakMap,En=new WeakSet,Br=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...p2(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return gg(r)&&r.revert&&j(this,ml)?{...j(this,ml),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),Gt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),j(this,un).notify({query:this,type:"updated",action:e})})},ES);function p2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function c3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var hr,TS,d3=(TS=class extends mc{constructor(e={}){super();V(this,hr);this.config=e,W(this,hr,new Map)}build(e,s,n){const r=s.queryKey,a=s.queryHash??k0(r,s);let o=this.get(a);return o||(o=new l3({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){j(this,hr).has(e.queryHash)||(j(this,hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=j(this,hr).get(e.queryHash);s&&(e.destroy(),s===e&&j(this,hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,hr).get(e)}getAll(){return[...j(this,hr).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>C1(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>C1(e,n)):s}notify(e){Gt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hr=new WeakMap,TS),fr,Cs,Ua,pr,bi,MS,u3=(MS=class extends f2{constructor(e){super();V(this,pr);V(this,fr);V(this,Cs);V(this,Ua);this.mutationId=e.mutationId,W(this,Cs,e.mutationCache),W(this,fr,[]),this.state=e.state||m2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,fr).includes(e)||(j(this,fr).push(e),this.clearGcTimeout(),j(this,Cs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,fr,j(this,fr).filter(s=>s!==e)),this.scheduleGc(),j(this,Cs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,fr).length||(this.state.status==="pending"?this.scheduleGc():j(this,Cs).remove(this))}continue(){var e;return((e=j(this,Ua))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,a,o,l,c,d,h,u,f,m,b,g,x,y,v,w,S,N,P,C;W(this,Ua,h2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,A)=>{G(this,pr,bi).call(this,{type:"failed",failureCount:_,error:A})},onPause:()=>{G(this,pr,bi).call(this,{type:"pause"})},onContinue:()=>{G(this,pr,bi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Cs).canRun(this)}));const s=this.state.status==="pending",n=!j(this,Ua).canStart();try{if(!s){G(this,pr,bi).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(r=j(this,Cs).config).onMutate)==null?void 0:a.call(r,e,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));A!==this.state.context&&G(this,pr,bi).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const _=await j(this,Ua).start();return await((d=(c=j(this,Cs).config).onSuccess)==null?void 0:d.call(c,_,e,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,_,e,this.state.context)),await((m=(f=j(this,Cs).config).onSettled)==null?void 0:m.call(f,_,null,this.state.variables,this.state.context,this)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,_,null,e,this.state.context)),G(this,pr,bi).call(this,{type:"success",data:_}),_}catch(_){try{throw await((y=(x=j(this,Cs).config).onError)==null?void 0:y.call(x,_,e,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,_,e,this.state.context)),await((N=(S=j(this,Cs).config).onSettled)==null?void 0:N.call(S,void 0,_,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,_,e,this.state.context)),_}finally{G(this,pr,bi).call(this,{type:"error",error:_})}}finally{j(this,Cs).runNext(this)}}},fr=new WeakMap,Cs=new WeakMap,Ua=new WeakMap,pr=new WeakSet,bi=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Gt.batch(()=>{j(this,fr).forEach(n=>{n.onMutationUpdate(e)}),j(this,Cs).notify({mutation:this,type:"updated",action:e})})},MS);function m2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qs,yu,AS,h3=(AS=class extends mc{constructor(e={}){super();V(this,Qs);V(this,yu);this.config=e,W(this,Qs,new Map),W(this,yu,Date.now())}build(e,s,n){const r=new u3({mutationCache:this,mutationId:++fh(this,yu)._,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){const s=Ah(e),n=j(this,Qs).get(s)??[];n.push(e),j(this,Qs).set(s,n),this.notify({type:"added",mutation:e})}remove(e){var n;const s=Ah(e);if(j(this,Qs).has(s)){const r=(n=j(this,Qs).get(s))==null?void 0:n.filter(a=>a!==e);r&&(r.length===0?j(this,Qs).delete(s):j(this,Qs).set(s,r))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const s=(n=j(this,Qs).get(Ah(e)))==null?void 0:n.find(r=>r.state.status==="pending");return!s||s===e}runNext(e){var n;const s=(n=j(this,Qs).get(Ah(e)))==null?void 0:n.find(r=>r!==e&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...j(this,Qs).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(n=>P1(s,n))}findAll(e={}){return this.getAll().filter(s=>P1(e,s))}notify(e){Gt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Gt.batch(()=>Promise.all(e.map(s=>s.continue().catch(fn))))}},Qs=new WeakMap,yu=new WeakMap,AS);function Ah(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function T1(t){return{onFetch:(e,s)=>{var h,u,f,m,b;const n=e.options,r=(f=(u=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=c2(e.options,e.fetchOptions),v=async(w,S,N)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:e.queryKey,pageParam:S,direction:N?"backward":"forward",meta:e.options.meta};x(P);const C=await y(P),{maxPages:_}=e.options,A=N?n3:s3;return{pages:A(w.pages,C,_),pageParams:A(w.pageParams,S,_)}};if(r&&a.length){const w=r==="backward",S=w?f3:M1,N={pages:a,pageParams:o},P=S(n,N);l=await v(N,P,w)}else{const w=t??a.length;do{const S=c===0?o[0]??n.initialPageParam:M1(n,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function M1(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function f3(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var Pt,Ai,Fi,gl,yl,Ri,vl,xl,FS,p3=(FS=class{constructor(t={}){V(this,Pt);V(this,Ai);V(this,Fi);V(this,gl);V(this,yl);V(this,Ri);V(this,vl);V(this,xl);W(this,Pt,t.queryCache||new d3),W(this,Ai,t.mutationCache||new h3),W(this,Fi,t.defaultOptions||{}),W(this,gl,new Map),W(this,yl,new Map),W(this,Ri,0)}mount(){fh(this,Ri)._++,j(this,Ri)===1&&(W(this,vl,P0.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Pt).onFocus())})),W(this,xl,Zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Pt).onOnline())})))}unmount(){var t,e;fh(this,Ri)._--,j(this,Ri)===0&&((t=j(this,vl))==null||t.call(this),W(this,vl,void 0),(e=j(this,xl))==null||e.call(this),W(this,xl,void 0))}isFetching(t){return j(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Ai).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=j(this,Pt).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),n=j(this,Pt).build(this,s);return t.revalidateIfStale&&n.isStaleByTime(il(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return j(this,Pt).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=j(this,Pt).get(n.queryHash),a=r==null?void 0:r.state.data,o=e3(e,a);if(o!==void 0)return j(this,Pt).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return Gt.batch(()=>j(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=j(this,Pt).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=j(this,Pt);Gt.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=j(this,Pt),n={type:"active",...t};return Gt.batch(()=>(s.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},n=Gt.batch(()=>j(this,Pt).findAll(t).map(r=>r.cancel(s)));return Promise.all(n).then(fn).catch(fn)}invalidateQueries(t={},e={}){return Gt.batch(()=>{if(j(this,Pt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Gt.batch(()=>j(this,Pt).findAll(t).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,s);return s.throwOnError||(a=a.catch(fn)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=j(this,Pt).build(this,e);return s.isStaleByTime(il(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fn).catch(fn)}fetchInfiniteQuery(t){return t.behavior=T1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fn).catch(fn)}ensureInfiniteQueryData(t){return t.behavior=T1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zf.isOnline()?j(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Pt)}getMutationCache(){return j(this,Ai)}getDefaultOptions(){return j(this,Fi)}setDefaultOptions(t){W(this,Fi,t)}setQueryDefaults(t,e){j(this,gl).set(ho(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,gl).values()];let s={};return e.forEach(n=>{Bd(t,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(t,e){j(this,yl).set(ho(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,yl).values()];let s={};return e.forEach(n=>{Bd(t,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Fi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=k0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===C0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Fi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Pt).clear(),j(this,Ai).clear()}},Pt=new WeakMap,Ai=new WeakMap,Fi=new WeakMap,gl=new WeakMap,yl=new WeakMap,Ri=new WeakMap,vl=new WeakMap,xl=new WeakMap,FS),Ds,Je,vu,Ps,za,bl,Ii,mr,xu,wl,jl,Ba,Va,Oi,Nl,at,Zc,ev,tv,sv,nv,rv,iv,av,g2,RS,m3=(RS=class extends mc{constructor(e,s){super();V(this,at);V(this,Ds);V(this,Je);V(this,vu);V(this,Ps);V(this,za);V(this,bl);V(this,Ii);V(this,mr);V(this,xu);V(this,wl);V(this,jl);V(this,Ba);V(this,Va);V(this,Oi);V(this,Nl,new Set);this.options=s,W(this,Ds,e),W(this,mr,null),W(this,Ii,Jy()),this.options.experimental_prefetchInRender||j(this,Ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Je).addObserver(this),A1(j(this,Je),this.options)?G(this,at,Zc).call(this):this.updateResult(),G(this,at,nv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ov(j(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ov(j(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,at,rv).call(this),G(this,at,iv).call(this),j(this,Je).removeObserver(this)}setOptions(e,s){const n=this.options,r=j(this,Je);if(this.options=j(this,Ds).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Un(this.options.enabled,j(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,at,av).call(this),j(this,Je).setOptions(this.options),n._defaulted&&!Qf(this.options,n)&&j(this,Ds).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Je),observer:this});const a=this.hasListeners();a&&F1(j(this,Je),r,this.options,n)&&G(this,at,Zc).call(this),this.updateResult(s),a&&(j(this,Je)!==r||Un(this.options.enabled,j(this,Je))!==Un(n.enabled,j(this,Je))||il(this.options.staleTime,j(this,Je))!==il(n.staleTime,j(this,Je)))&&G(this,at,ev).call(this);const o=G(this,at,tv).call(this);a&&(j(this,Je)!==r||Un(this.options.enabled,j(this,Je))!==Un(n.enabled,j(this,Je))||o!==j(this,Oi))&&G(this,at,sv).call(this,o)}getOptimisticResult(e){const s=j(this,Ds).getQueryCache().build(j(this,Ds),e),n=this.createResult(s,e);return y3(this,n)&&(W(this,Ps,n),W(this,bl,this.options),W(this,za,j(this,Je).state)),n}getCurrentResult(){return j(this,Ps)}trackResult(e,s){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),s==null||s(r),e[r])})}),n}trackProp(e){j(this,Nl).add(e)}getCurrentQuery(){return j(this,Je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=j(this,Ds).defaultQueryOptions(e),n=j(this,Ds).getQueryCache().build(j(this,Ds),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return G(this,at,Zc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Ps)))}createResult(e,s){var _;const n=j(this,Je),r=this.options,a=j(this,Ps),o=j(this,za),l=j(this,bl),d=e!==n?e.state:j(this,vu),{state:h}=e;let u={...h},f=!1,m;if(s._optimisticResults){const A=this.hasListeners(),k=!A&&A1(e,s),R=A&&F1(e,n,s,r);(k||R)&&(u={...u,...p2(h.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=u;if(s.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&s.select===j(this,xu))m=j(this,wl);else try{W(this,xu,s.select),m=s.select(u.data),m=Xy(a==null?void 0:a.data,m,s),W(this,wl,m),W(this,mr,null)}catch(A){W(this,mr,A)}else m=u.data;if(s.placeholderData!==void 0&&m===void 0&&x==="pending"){let A;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))A=a.data;else if(A=typeof s.placeholderData=="function"?s.placeholderData((_=j(this,jl))==null?void 0:_.state.data,j(this,jl)):s.placeholderData,s.select&&A!==void 0)try{A=s.select(A),W(this,mr,null)}catch(k){W(this,mr,k)}A!==void 0&&(x="success",m=Xy(a==null?void 0:a.data,A,s),f=!0)}j(this,mr)&&(b=j(this,mr),m=j(this,wl),g=Date.now(),x="error");const y=u.fetchStatus==="fetching",v=x==="pending",w=x==="error",S=v&&y,N=m!==void 0,C={status:x,fetchStatus:u.fetchStatus,isPending:v,isSuccess:x==="success",isError:w,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:w&&!N,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:_0(e,s),refetch:this.refetch,promise:j(this,Ii)};if(this.options.experimental_prefetchInRender){const A=O=>{C.status==="error"?O.reject(C.error):C.data!==void 0&&O.resolve(C.data)},k=()=>{const O=W(this,Ii,C.promise=Jy());A(O)},R=j(this,Ii);switch(R.status){case"pending":e.queryHash===n.queryHash&&A(R);break;case"fulfilled":(C.status==="error"||C.data!==R.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==R.reason)&&k();break}}return C}updateResult(e){const s=j(this,Ps),n=this.createResult(j(this,Je),this.options);if(W(this,za,j(this,Je).state),W(this,bl,this.options),j(this,za).data!==void 0&&W(this,jl,j(this,Je)),Qf(n,s))return;W(this,Ps,n);const r={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!j(this,Nl).size)return!0;const c=new Set(l??j(this,Nl));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,Ps)).some(d=>{const h=d;return j(this,Ps)[h]!==s[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),G(this,at,g2).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,at,nv).call(this)}},Ds=new WeakMap,Je=new WeakMap,vu=new WeakMap,Ps=new WeakMap,za=new WeakMap,bl=new WeakMap,Ii=new WeakMap,mr=new WeakMap,xu=new WeakMap,wl=new WeakMap,jl=new WeakMap,Ba=new WeakMap,Va=new WeakMap,Oi=new WeakMap,Nl=new WeakMap,at=new WeakSet,Zc=function(e){G(this,at,av).call(this);let s=j(this,Je).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(fn)),s},ev=function(){G(this,at,rv).call(this);const e=il(this.options.staleTime,j(this,Je));if(uo||j(this,Ps).isStale||!Qy(e))return;const n=o2(j(this,Ps).dataUpdatedAt,e)+1;W(this,Ba,setTimeout(()=>{j(this,Ps).isStale||this.updateResult()},n))},tv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Je)):this.options.refetchInterval)??!1},sv=function(e){G(this,at,iv).call(this),W(this,Oi,e),!(uo||Un(this.options.enabled,j(this,Je))===!1||!Qy(j(this,Oi))||j(this,Oi)===0)&&W(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||P0.isFocused())&&G(this,at,Zc).call(this)},j(this,Oi)))},nv=function(){G(this,at,ev).call(this),G(this,at,sv).call(this,G(this,at,tv).call(this))},rv=function(){j(this,Ba)&&(clearTimeout(j(this,Ba)),W(this,Ba,void 0))},iv=function(){j(this,Va)&&(clearInterval(j(this,Va)),W(this,Va,void 0))},av=function(){const e=j(this,Ds).getQueryCache().build(j(this,Ds),this.options);if(e===j(this,Je))return;const s=j(this,Je);W(this,Je,e),W(this,vu,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},g2=function(e){Gt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(j(this,Ps))}),j(this,Ds).getQueryCache().notify({query:j(this,Je),type:"observerResultsUpdated"})})},RS);function g3(t,e){return Un(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function A1(t,e){return g3(t,e)||t.state.data!==void 0&&ov(t,e,e.refetchOnMount)}function ov(t,e,s){if(Un(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&_0(t,e)}return!1}function F1(t,e,s,n){return(t!==e||Un(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&_0(t,s)}function _0(t,e){return Un(e.enabled,t)!==!1&&t.isStaleByTime(il(e.staleTime,t))}function y3(t,e){return!Qf(t.getCurrentResult(),e)}var Di,Li,Ls,Gr,ni,ff,lv,IS,v3=(IS=class extends mc{constructor(s,n){super();V(this,ni);V(this,Di);V(this,Li);V(this,Ls);V(this,Gr);W(this,Di,s),this.setOptions(n),this.bindMethods(),G(this,ni,ff).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var r;const n=this.options;this.options=j(this,Di).defaultMutationOptions(s),Qf(this.options,n)||j(this,Di).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,Ls),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ho(n.mutationKey)!==ho(this.options.mutationKey)?this.reset():((r=j(this,Ls))==null?void 0:r.state.status)==="pending"&&j(this,Ls).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=j(this,Ls))==null||s.removeObserver(this)}onMutationUpdate(s){G(this,ni,ff).call(this),G(this,ni,lv).call(this,s)}getCurrentResult(){return j(this,Li)}reset(){var s;(s=j(this,Ls))==null||s.removeObserver(this),W(this,Ls,void 0),G(this,ni,ff).call(this),G(this,ni,lv).call(this)}mutate(s,n){var r;return W(this,Gr,n),(r=j(this,Ls))==null||r.removeObserver(this),W(this,Ls,j(this,Di).getMutationCache().build(j(this,Di),this.options)),j(this,Ls).addObserver(this),j(this,Ls).execute(s)}},Di=new WeakMap,Li=new WeakMap,Ls=new WeakMap,Gr=new WeakMap,ni=new WeakSet,ff=function(){var n;const s=((n=j(this,Ls))==null?void 0:n.state)??m2();W(this,Li,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},lv=function(s){Gt.batch(()=>{var n,r,a,o,l,c,d,h;if(j(this,Gr)&&this.hasListeners()){const u=j(this,Li).variables,f=j(this,Li).context;(s==null?void 0:s.type)==="success"?((r=(n=j(this,Gr)).onSuccess)==null||r.call(n,s.data,u,f),(o=(a=j(this,Gr)).onSettled)==null||o.call(a,s.data,null,u,f)):(s==null?void 0:s.type)==="error"&&((c=(l=j(this,Gr)).onError)==null||c.call(l,s.error,u,f),(h=(d=j(this,Gr)).onSettled)==null||h.call(d,void 0,s.error,u,f))}this.listeners.forEach(u=>{u(j(this,Li))})})},IS),y2=p.createContext(void 0),js=t=>{const e=p.useContext(y2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},x3=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(y2.Provider,{value:t,children:e})),v2=p.createContext(!1),b3=()=>p.useContext(v2);v2.Provider;function w3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var j3=p.createContext(w3()),N3=()=>p.useContext(j3);function x2(t,e){return typeof t=="function"?t(...e):!!t}function cv(){}var S3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},k3=t=>{p.useEffect(()=>{t.clearReset()},[t])},C3=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&x2(s,[t.error,n]),P3=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},_3=(t,e)=>t.isLoading&&t.isFetching&&!e,E3=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,R1=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function T3(t,e,s){var h,u,f,m,b;const n=js(),r=b3(),a=N3(),o=n.defaultQueryOptions(t);(u=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",P3(o),S3(o,a),k3(a);const l=!n.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(n,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(g=>{const x=r?cv:c.subscribe(Gt.batchCalls(g));return c.updateResult(),x},[c,r]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),E3(o,d))throw R1(o,c,a);if(C3({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,d),o.experimental_prefetchInRender&&!uo&&_3(d,r)){const g=l?R1(o,c,a):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;g==null||g.catch(cv).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function it(t,e){return T3(t,m3)}function Te(t,e){const s=js(),[n]=p.useState(()=>new v3(s,t));p.useEffect(()=>{n.setOptions(t)},[n,t]);const r=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Gt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((o,l)=>{n.mutate(o,l).catch(cv)},[n]);if(r.error&&x2(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}async function b2(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function fe(t,e,s){const n=await fetch(e,{method:t,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await b2(n),await n.json()}const M3=({on401:t})=>async({queryKey:e})=>{const s=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&s.status===401?null:(await b2(s),await s.json())},qi=new p3({defaultOptions:{queries:{queryFn:M3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>{var s,n,r;return(s=e==null?void 0:e.message)!=null&&s.includes("401")||(n=e==null?void 0:e.message)!=null&&n.includes("403")||(r=e==null?void 0:e.message)!=null&&r.includes("400")?!1:t<2}},mutations:{retry:(t,e)=>{var s,n,r;return(s=e==null?void 0:e.message)!=null&&s.includes("400")||(n=e==null?void 0:e.message)!=null&&n.includes("401")||(r=e==null?void 0:e.message)!=null&&r.includes("403")?!1:t<1}}}}),A3=1,F3=2500;let yg=0;function R3(){return yg=(yg+1)%Number.MAX_SAFE_INTEGER,yg.toString()}const vg=new Map,I1=t=>{if(vg.has(t))return;const e=setTimeout(()=>{vg.delete(t),vd({type:"REMOVE_TOAST",toastId:t})},F3);vg.set(t,e)},I3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,A3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?I1(s):t.toasts.forEach(n=>{I1(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},pf=[];let mf={toasts:[]};function vd(t){mf=I3(mf,t),pf.forEach(e=>{e(mf)})}function Vr({...t}){const e=R3(),s=r=>vd({type:"UPDATE_TOAST",toast:{...r,id:e}}),n=()=>vd({type:"DISMISS_TOAST",toastId:e});return vd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||n()}}}),setTimeout(()=>{n()},2500),{id:e,dismiss:n,update:s}}function Ct(){const[t,e]=p.useState(mf);return p.useEffect(()=>(pf.push(e),()=>{const s=pf.indexOf(e);s>-1&&pf.splice(s,1)}),[t]),{...t,toast:Vr,dismiss:s=>vd({type:"DISMISS_TOAST",toastId:s})}}function ne(t,e,{checkForDefaultPrevented:s=!0}={}){return function(r){if(t==null||t(r),s===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function O1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function im(...t){return e=>{let s=!1;const n=t.map(r=>{const a=O1(r,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let r=0;r<n.length;r++){const a=n[r];typeof a=="function"?a():O1(t[r],null)}}}}function Le(...t){return p.useCallback(im(...t),t)}function O3(t,e){const s=p.createContext(e),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(s.Provider,{value:c,children:o})};n.displayName=t+"Provider";function r(a){const o=p.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,r]}function Ns(t,e=[]){let s=[];function n(a,o){const l=p.createContext(o),c=s.length;s=[...s,o];const d=u=>{var y;const{scope:f,children:m,...b}=u,g=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,x=p.useMemo(()=>b,Object.values(b));return i.jsx(g.Provider,{value:x,children:m})};d.displayName=a+"Provider";function h(u,f){var g;const m=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,b=p.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,h]}const r=()=>{const a=s.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[n,D3(r,...e)]}function D3(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function na(t){const e=L3(t),s=p.forwardRef((n,r)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(U3);if(c){const d=c.props.children,h=l.map(u=>u===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:u);return i.jsx(e,{...o,ref:r,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return i.jsx(e,{...o,ref:r,children:a})});return s.displayName=`${t}.Slot`,s}var w2=na("Slot");function L3(t){const e=p.forwardRef((s,n)=>{const{children:r,...a}=s;if(p.isValidElement(r)){const o=B3(r),l=z3(a,r.props);return r.type!==p.Fragment&&(l.ref=n?im(n,o):o),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j2=Symbol("radix.slottable");function $3(t){const e=({children:s})=>i.jsx(i.Fragment,{children:s});return e.displayName=`${t}.Slottable`,e.__radixId=j2,e}function U3(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j2}function z3(t,e){const s={...e};for(const n in e){const r=t[n],a=e[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...l)=>{a(...l),r(...l)}:r&&(s[n]=r):n==="style"?s[n]={...r,...a}:n==="className"&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...t,...s}}function B3(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Gu(t){const e=t+"CollectionProvider",[s,n]=Ns(e),[r,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,v=Ue.useRef(null),w=Ue.useRef(new Map).current;return i.jsx(r,{scope:x,itemMap:w,collectionRef:v,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=na(l),d=Ue.forwardRef((g,x)=>{const{scope:y,children:v}=g,w=a(l,y),S=Le(x,w.collectionRef);return i.jsx(c,{ref:S,children:v})});d.displayName=l;const h=t+"CollectionItemSlot",u="data-radix-collection-item",f=na(h),m=Ue.forwardRef((g,x)=>{const{scope:y,children:v,...w}=g,S=Ue.useRef(null),N=Le(x,S),P=a(h,y);return Ue.useEffect(()=>(P.itemMap.set(S,{ref:S,...w}),()=>void P.itemMap.delete(S))),i.jsx(f,{[u]:"",ref:N,children:v})});m.displayName=h;function b(g){const x=a(t+"CollectionConsumer",g);return Ue.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((P,C)=>w.indexOf(P.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},b,n]}var V3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=V3.reduce((t,e)=>{const s=na(`Primitive.${e}`),n=p.forwardRef((r,a)=>{const{asChild:o,...l}=r,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function E0(t,e){t&&No.flushSync(()=>t.dispatchEvent(e))}function mt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...s)=>{var n;return(n=e.current)==null?void 0:n.call(e,...s)},[])}function q3(t,e=globalThis==null?void 0:globalThis.document){const s=mt(t);p.useEffect(()=>{const n=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[s,e])}var H3="DismissableLayer",dv="dismissableLayer.update",W3="dismissableLayer.pointerDownOutside",K3="dismissableLayer.focusOutside",D1,N2=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),So=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(N2),[h,u]=p.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),b=Le(e,C=>u(C)),g=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=h?g.indexOf(h):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,N=Y3(C=>{const _=C.target,A=[...d.branches].some(k=>k.contains(_));!S||A||(r==null||r(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),P=Q3(C=>{const _=C.target;[...d.branches].some(k=>k.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return q3(C=>{v===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),p.useEffect(()=>{if(h)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(D1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),L1(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=D1)}},[h,f,s,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),L1())},[h,d]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(dv,C),()=>document.removeEventListener(dv,C)},[]),i.jsx(Ne.div,{...c,ref:b,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,N.onPointerDownCapture)})});So.displayName=H3;var G3="DismissableLayerBranch",S2=p.forwardRef((t,e)=>{const s=p.useContext(N2),n=p.useRef(null),r=Le(e,n);return p.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),i.jsx(Ne.div,{...t,ref:r})});S2.displayName=G3;function Y3(t,e=globalThis==null?void 0:globalThis.document){const s=mt(t),n=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){k2(W3,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>n.current=!0}}function Q3(t,e=globalThis==null?void 0:globalThis.document){const s=mt(t),n=p.useRef(!1);return p.useEffect(()=>{const r=a=>{a.target&&!n.current&&k2(K3,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function L1(){const t=new CustomEvent(dv);document.dispatchEvent(t)}function k2(t,e,s,{discrete:n}){const r=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?E0(r,a):r.dispatchEvent(a)}var Z3=So,X3=S2,qt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},J3="Portal",gc=p.forwardRef((t,e)=>{var l;const{container:s,...n}=t,[r,a]=p.useState(!1);qt(()=>a(!0),[]);const o=s||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?S5.createPortal(i.jsx(Ne.div,{...n,ref:e}),o):null});gc.displayName=J3;function eI(t,e){return p.useReducer((s,n)=>e[s][n]??s,t)}var us=t=>{const{present:e,children:s}=t,n=tI(e),r=typeof s=="function"?s({present:n.isPresent}):p.Children.only(s),a=Le(n.ref,sI(r));return typeof s=="function"||n.isPresent?p.cloneElement(r,{ref:a}):null};us.displayName="Presence";function tI(t){const[e,s]=p.useState(),n=p.useRef({}),r=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=eI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Fh(n.current);a.current=l==="mounted"?d:"none"},[l]),qt(()=>{const d=n.current,h=r.current;if(h!==t){const f=a.current,m=Fh(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,u=m=>{const g=Fh(n.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(a.current=Fh(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function Fh(t){return(t==null?void 0:t.animationName)||"none"}function sI(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Ar({prop:t,defaultProp:e,onChange:s=()=>{}}){const[n,r]=nI({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:n,l=mt(s),c=p.useCallback(d=>{if(a){const u=typeof d=="function"?d(t):d;u!==t&&l(u)}else r(d)},[a,t,r,l]);return[o,c]}function nI({defaultProp:t,onChange:e}){const s=p.useState(t),[n]=s,r=p.useRef(n),a=mt(e);return p.useEffect(()=>{r.current!==n&&(a(n),r.current=n)},[n,r,a]),s}var rI="VisuallyHidden",Yu=p.forwardRef((t,e)=>i.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Yu.displayName=rI;var iI=Yu,T0="ToastProvider",[M0,aI,oI]=Gu("Toast"),[C2,QX]=Ns("Toast",[oI]),[lI,am]=C2(T0),P2=t=>{const{__scopeToast:e,label:s="Notification",duration:n=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,h]=p.useState(0),u=p.useRef(!1),f=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${T0}\`. Expected non-empty \`string\`.`),i.jsx(M0.Provider,{scope:e,children:i.jsx(lI,{scope:e,label:s,duration:n,swipeDirection:r,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(m=>m+1),[]),onToastRemove:p.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};P2.displayName=T0;var _2="ToastViewport",cI=["F8"],uv="toast.viewportPause",hv="toast.viewportResume",E2=p.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:n=cI,label:r="Notifications ({hotkey})",...a}=t,o=am(_2,s),l=aI(s),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),u=p.useRef(null),f=Le(e,u,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;p.useEffect(()=>{const x=y=>{var w;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),p.useEffect(()=>{const x=c.current,y=u.current;if(b&&x&&y){const v=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(uv);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(hv);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},S=P=>{!x.contains(P.relatedTarget)&&w()},N=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",v),x.addEventListener("focusout",S),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:x})=>{const v=l().map(w=>{const S=w.ref.current,N=[S,...jI(S)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const x=u.current;if(x){const y=v=>{var N,P,C;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const _=document.activeElement,A=v.shiftKey;if(v.target===x&&A){(N=d.current)==null||N.focus();return}const O=g({tabbingDirection:A?"backwards":"forwards"}),$=O.findIndex(z=>z===_);xg(O.slice($+1))?v.preventDefault():A?(P=d.current)==null||P.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,g]),i.jsxs(X3,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(fv,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});xg(x)}}),i.jsx(M0.Slot,{scope:s,children:i.jsx(Ne.ol,{tabIndex:-1,...a,ref:f})}),b&&i.jsx(fv,{ref:h,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});xg(x)}})]})});E2.displayName=_2;var T2="ToastFocusProxy",fv=p.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...r}=t,a=am(T2,s);return i.jsx(Yu,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});fv.displayName=T2;var om="Toast",dI="toast.swipeStart",uI="toast.swipeMove",hI="toast.swipeCancel",fI="toast.swipeEnd",M2=p.forwardRef((t,e)=>{const{forceMount:s,open:n,defaultOpen:r,onOpenChange:a,...o}=t,[l=!0,c]=Ar({prop:n,defaultProp:r,onChange:a});return i.jsx(us,{present:s||l,children:i.jsx(gI,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:mt(t.onPause),onResume:mt(t.onResume),onSwipeStart:ne(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ne(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});M2.displayName=om;var[pI,mI]=C2(om,{onClose(){}}),gI=p.forwardRef((t,e)=>{const{__scopeToast:s,type:n="foreground",duration:r,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:m,...b}=t,g=am(om,s),[x,y]=p.useState(null),v=Le(e,z=>y(z)),w=p.useRef(null),S=p.useRef(null),N=r||g.duration,P=p.useRef(0),C=p.useRef(N),_=p.useRef(0),{onToastAdd:A,onToastRemove:k}=g,R=mt(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=g.viewport)==null||ee.focus()),o()}),O=p.useCallback(z=>{!z||z===1/0||(window.clearTimeout(_.current),P.current=new Date().getTime(),_.current=window.setTimeout(R,z))},[R]);p.useEffect(()=>{const z=g.viewport;if(z){const ee=()=>{O(C.current),d==null||d()},K=()=>{const Z=new Date().getTime()-P.current;C.current=C.current-Z,window.clearTimeout(_.current),c==null||c()};return z.addEventListener(uv,K),z.addEventListener(hv,ee),()=>{z.removeEventListener(uv,K),z.removeEventListener(hv,ee)}}},[g.viewport,N,c,d,O]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(N)},[a,N,g.isClosePausedRef,O]),p.useEffect(()=>(A(),()=>k()),[A,k]);const $=p.useMemo(()=>x?L2(x):null,[x]);return g.viewport?i.jsxs(i.Fragment,{children:[$&&i.jsx(yI,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),i.jsx(pI,{scope:s,onClose:R,children:No.createPortal(i.jsx(M0.ItemSlot,{scope:s,children:i.jsx(Z3,{asChild:!0,onEscapeKeyDown:ne(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ne(t.onPointerDown,z=>{z.button===0&&(w.current={x:z.clientX,y:z.clientY})}),onPointerMove:ne(t.onPointerMove,z=>{if(!w.current)return;const ee=z.clientX-w.current.x,K=z.clientY-w.current.y,Z=!!S.current,F=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=F?I(0,ee):0,H=F?0:I(0,K),ce=z.pointerType==="touch"?10:2,Y={x:U,y:H},xe={originalEvent:z,delta:Y};Z?(S.current=Y,Rh(uI,u,xe,{discrete:!1})):$1(Y,g.swipeDirection,ce)?(S.current=Y,Rh(dI,h,xe,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ee)>ce||Math.abs(K)>ce)&&(w.current=null)}),onPointerUp:ne(t.onPointerUp,z=>{const ee=S.current,K=z.target;if(K.hasPointerCapture(z.pointerId)&&K.releasePointerCapture(z.pointerId),S.current=null,w.current=null,ee){const Z=z.currentTarget,F={originalEvent:z,delta:ee};$1(ee,g.swipeDirection,g.swipeThreshold)?Rh(fI,m,F,{discrete:!0}):Rh(hI,f,F,{discrete:!0}),Z.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yI=t=>{const{__scopeToast:e,children:s,...n}=t,r=am(om,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return bI(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(gc,{asChild:!0,children:i.jsx(Yu,{...n,children:a&&i.jsxs(i.Fragment,{children:[r.label," ",s]})})})},vI="ToastTitle",A2=p.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return i.jsx(Ne.div,{...n,ref:e})});A2.displayName=vI;var xI="ToastDescription",F2=p.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return i.jsx(Ne.div,{...n,ref:e})});F2.displayName=xI;var R2="ToastAction",I2=p.forwardRef((t,e)=>{const{altText:s,...n}=t;return s.trim()?i.jsx(D2,{altText:s,asChild:!0,children:i.jsx(A0,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${R2}\`. Expected non-empty \`string\`.`),null)});I2.displayName=R2;var O2="ToastClose",A0=p.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t,r=mI(O2,s);return i.jsx(D2,{asChild:!0,children:i.jsx(Ne.button,{type:"button",...n,ref:e,onClick:ne(t.onClick,r.onClose)})})});A0.displayName=O2;var D2=p.forwardRef((t,e)=>{const{__scopeToast:s,altText:n,...r}=t;return i.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...r,ref:e})});function L2(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wI(n)){const r=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...L2(n))}}),e}function Rh(t,e,s,{discrete:n}){const r=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?E0(r,a):r.dispatchEvent(a)}var $1=(t,e,s=0)=>{const n=Math.abs(t.x),r=Math.abs(t.y),a=n>r;return e==="left"||e==="right"?a&&n>s:!a&&r>s};function bI(t=()=>{}){const e=mt(t);qt(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[e])}function wI(t){return t.nodeType===t.ELEMENT_NODE}function jI(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function xg(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var NI=P2,$2=E2,U2=M2,z2=A2,B2=F2,V2=I2,q2=A0;function H2(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=H2(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function W2(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=H2(t))&&(n&&(n+=" "),n+=e);return n}const U1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z1=W2,Qu=(t,e)=>s=>{var n;if((e==null?void 0:e.variants)==null)return z1(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:r,defaultVariants:a}=e,o=Object.keys(r).map(d=>{const h=s==null?void 0:s[d],u=a==null?void 0:a[d];if(h===null)return null;const f=U1(h)||U1(u);return r[d][f]}),l=s&&Object.entries(s).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:u,className:f,...m}=h;return Object.entries(m).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...a,...l}[g]):{...a,...l}[g]===x})?[...d,u,f]:d},[]);return z1(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K2=(...t)=>t.filter((e,s,n)=>!!e&&n.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...kI,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:K2("lucide",r),...l},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const s=p.forwardRef(({className:n,...r},a)=>p.createElement(CI,{ref:a,iconNode:e,className:K2(`lucide-${SI(t)}`,n),...r}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ae("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ae("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ae("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ae("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ae("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=ae("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ae("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=ae("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ae("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=ae("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=ae("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=ae("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ae("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ae("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ae("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=ae("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),z0="-",iO=t=>{const e=oO(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(z0);return l[0]===""&&l.length!==1&&l.shift(),nP(l,e)||aO(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},nP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),r=n?nP(t.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const a=t.join(z0);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},K1=/^\[(.+)\]$/,aO=t=>{if(K1.test(t)){const e=K1.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},oO=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return cO(Object.entries(t.classGroups),s).forEach(([a,o])=>{xv(o,n,a,e)}),n},xv=(t,e,s,n)=>{t.forEach(r=>{if(typeof r=="string"){const a=r===""?e:G1(e,r);a.classGroupId=s;return}if(typeof r=="function"){if(lO(r)){xv(r(n),e,s,n);return}e.validators.push({validator:r,classGroupId:s});return}Object.entries(r).forEach(([a,o])=>{xv(o,G1(e,a),s,n)})})},G1=(t,e)=>{let s=t;return e.split(z0).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},lO=t=>t.isThemeGetter,cO=(t,e)=>e?t.map(([s,n])=>{const r=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,r]}):t,dO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const r=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return r(a,o),o},set(a,o){s.has(a)?s.set(a,o):r(a,o)}}},rP="!",uO=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,r=e[0],a=e.length,o=l=>{const c=[];let d=0,h=0,u;for(let x=0;x<l.length;x++){let y=l[x];if(d===0){if(y===r&&(n||l.slice(x,x+a)===e)){c.push(l.slice(h,x)),h=x+a;continue}if(y==="/"){u=x;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(h),m=f.startsWith(rP),b=m?f.substring(1):f,g=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:g}};return s?l=>s({className:l,parseClassName:o}):o},hO=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},fO=t=>({cache:dO(t.cacheSize),parseClassName:uO(t),...iO(t)}),pO=/\s+/,mO=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r}=e,a=[],o=t.trim().split(pO);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:m}=s(d);let b=!!m,g=n(b?f.substring(0,m):f);if(!g){if(!b){l=d+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=d+(l.length>0?" "+l:l);continue}b=!1}const x=hO(h).join(":"),y=u?x+rP:x,v=y+g;if(a.includes(v))continue;a.push(v);const w=r(g,b);for(let S=0;S<w.length;++S){const N=w[S];a.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function gO(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=iP(e))&&(n&&(n+=" "),n+=s);return n}const iP=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=iP(t[n]))&&(s&&(s+=" "),s+=e);return s};function yO(t,...e){let s,n,r,a=o;function o(c){const d=e.reduce((h,u)=>u(h),t());return s=fO(d),n=s.cache.get,r=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=mO(c,s);return r(c,h),h}return function(){return a(gO.apply(null,arguments))}}const dt=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},aP=/^\[(?:([a-z-]+):)?(.+)\]$/i,vO=/^\d+\/\d+$/,xO=new Set(["px","full","screen"]),bO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=t=>ol(t)||xO.has(t)||vO.test(t),vi=t=>yc(t,"length",AO),ol=t=>!!t&&!Number.isNaN(Number(t)),jg=t=>yc(t,"number",ol),Oc=t=>!!t&&Number.isInteger(Number(t)),kO=t=>t.endsWith("%")&&ol(t.slice(0,-1)),qe=t=>aP.test(t),xi=t=>bO.test(t),CO=new Set(["length","size","percentage"]),PO=t=>yc(t,CO,oP),_O=t=>yc(t,"position",oP),EO=new Set(["image","url"]),TO=t=>yc(t,EO,RO),MO=t=>yc(t,"",FO),Dc=()=>!0,yc=(t,e,s)=>{const n=aP.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},AO=t=>wO.test(t)&&!jO.test(t),oP=()=>!1,FO=t=>NO.test(t),RO=t=>SO.test(t),IO=()=>{const t=dt("colors"),e=dt("spacing"),s=dt("blur"),n=dt("brightness"),r=dt("borderColor"),a=dt("borderRadius"),o=dt("borderSpacing"),l=dt("borderWidth"),c=dt("contrast"),d=dt("grayscale"),h=dt("hueRotate"),u=dt("invert"),f=dt("gap"),m=dt("gradientColorStops"),b=dt("gradientColorStopPositions"),g=dt("inset"),x=dt("margin"),y=dt("opacity"),v=dt("padding"),w=dt("saturate"),S=dt("scale"),N=dt("sepia"),P=dt("skew"),C=dt("space"),_=dt("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",qe,e],O=()=>[qe,e],$=()=>["",$r,vi],z=()=>["auto",ol,qe],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",qe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ol,qe];return{cacheSize:500,separator:":",theme:{colors:[Dc],spacing:[$r,vi],blur:["none","",xi,qe],brightness:H(),borderColor:[t],borderRadius:["none","","full",xi,qe],borderSpacing:O(),borderWidth:$(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[kO,vi],inset:R(),margin:R(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[xi]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),qe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,qe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Oc,qe]}],"grid-cols":[{"grid-cols":[Dc]}],"col-start-end":[{col:["auto",{span:["full",Oc,qe]},qe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Dc]}],"row-start-end":[{row:["auto",{span:[Oc,qe]},qe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[xi]},xi]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xi,vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jg]}],"font-family":[{font:[Dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",ol,jg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,vi]}],"underline-offset":[{"underline-offset":["auto",$r,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),_O]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:K()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[$r,qe]}],"outline-w":[{outline:[$r,vi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[$r,vi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xi,MO]}],"shadow-color":[{shadow:[Dc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xi,qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Oc,qe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$r,vi,jg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OO=yO(IO);function te(...t){return OO(W2(t))}const DO=NI,lP=p.forwardRef(({className:t,...e},s)=>i.jsx($2,{ref:s,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lP.displayName=$2.displayName;const LO=Qu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white text-black",destructive:"destructive group border-red-300 bg-white text-red-600"}},defaultVariants:{variant:"default"}}),cP=p.forwardRef(({className:t,variant:e,...s},n)=>i.jsx(U2,{ref:n,className:te(LO({variant:e}),t),...s}));cP.displayName=U2.displayName;const $O=p.forwardRef(({className:t,...e},s)=>i.jsx(V2,{ref:s,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));$O.displayName=V2.displayName;const dP=p.forwardRef(({className:t,...e},s)=>i.jsx(q2,{ref:s,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(ds,{className:"h-4 w-4"})}));dP.displayName=q2.displayName;const uP=p.forwardRef(({className:t,...e},s)=>i.jsx(z2,{ref:s,className:te("text-sm font-semibold",t),...e}));uP.displayName=z2.displayName;const hP=p.forwardRef(({className:t,...e},s)=>i.jsx(B2,{ref:s,className:te("text-sm opacity-90",t),...e}));hP.displayName=B2.displayName;function UO(){const{toasts:t}=Ct();return i.jsxs(DO,{children:[t.map(function({id:e,title:s,description:n,action:r,...a}){return i.jsxs(cP,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[s&&i.jsx(uP,{children:s}),n&&i.jsx(hP,{children:n})]}),r,i.jsx(dP,{})]},e)}),i.jsx(lP,{})]})}var zO=WS[" useId ".trim().toString()]||(()=>{}),BO=0;function Qn(t){const[e,s]=p.useState(zO());return qt(()=>{t||s(n=>n??String(BO++))},[t]),t||(e?`radix-${e}`:"")}const VO=["top","right","bottom","left"],la=Math.min,Js=Math.max,ep=Math.round,Ih=Math.floor,Tr=t=>({x:t,y:t}),qO={left:"right",right:"left",bottom:"top",top:"bottom"},HO={start:"end",end:"start"};function bv(t,e,s){return Js(t,la(e,s))}function di(t,e){return typeof t=="function"?t(e):t}function ui(t){return t.split("-")[0]}function vc(t){return t.split("-")[1]}function B0(t){return t==="x"?"y":"x"}function V0(t){return t==="y"?"height":"width"}function ca(t){return["top","bottom"].includes(ui(t))?"y":"x"}function q0(t){return B0(ca(t))}function WO(t,e,s){s===void 0&&(s=!1);const n=vc(t),r=q0(t),a=V0(r);let o=r==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=tp(o)),[o,tp(o)]}function KO(t){const e=tp(t);return[wv(t),e,wv(e)]}function wv(t){return t.replace(/start|end/g,e=>HO[e])}function GO(t,e,s){const n=["left","right"],r=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return s?e?r:n:e?n:r;case"left":case"right":return e?a:o;default:return[]}}function YO(t,e,s,n){const r=vc(t);let a=GO(ui(t),s==="start",n);return r&&(a=a.map(o=>o+"-"+r),e&&(a=a.concat(a.map(wv)))),a}function tp(t){return t.replace(/left|right|bottom|top/g,e=>qO[e])}function QO(t){return{top:0,right:0,bottom:0,left:0,...t}}function fP(t){return typeof t!="number"?QO(t):{top:t,right:t,bottom:t,left:t}}function sp(t){const{x:e,y:s,width:n,height:r}=t;return{width:n,height:r,top:s,left:e,right:e+n,bottom:s+r,x:e,y:s}}function Y1(t,e,s){let{reference:n,floating:r}=t;const a=ca(e),o=q0(e),l=V0(o),c=ui(e),d=a==="y",h=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2,f=n[l]/2-r[l]/2;let m;switch(c){case"top":m={x:h,y:n.y-r.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-r.width,y:u};break;default:m={x:n.x,y:n.y}}switch(vc(e)){case"start":m[o]-=f*(s&&d?-1:1);break;case"end":m[o]+=f*(s&&d?-1:1);break}return m}const ZO=async(t,e,s)=>{const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:u}=Y1(d,n,c),f=n,m={},b=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:w,data:S,reset:N}=await y({x:h,y:u,initialPlacement:n,placement:f,strategy:r,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,u=w??u,m={...m,[x]:{...m[x],...S}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):N.rects),{x:h,y:u}=Y1(d,f,c)),g=-1)}return{x:h,y:u,placement:f,strategy:r,middlewareData:m}};async function qd(t,e){var s;e===void 0&&(e={});const{x:n,y:r,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=di(e,t),b=fP(m),x=l[f?u==="floating"?"reference":"floating":u],y=sp(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(x)))==null||s?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=u==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=sp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+b.top)/S.y,bottom:(N.bottom-y.bottom+b.bottom)/S.y,left:(y.left-N.left+b.left)/S.x,right:(N.right-y.right+b.right)/S.x}}const XO=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:n,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=di(t,e)||{};if(d==null)return{};const u=fP(h),f={x:s,y:n},m=q0(r),b=V0(m),g=await o.getDimensions(d),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=a.reference[b]+a.reference[m]-f[m]-a.floating[b],N=f[m]-a.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=P?P[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=l.floating[w]||a.floating[b]);const _=S/2-N/2,A=C/2-g[b]/2-1,k=la(u[y],A),R=la(u[v],A),O=k,$=C-g[b]-R,z=C/2-g[b]/2+_,ee=bv(O,z,$),K=!c.arrow&&vc(r)!=null&&z!==ee&&a.reference[b]/2-(z<O?k:R)-g[b]/2<0,Z=K?z<O?z-O:z-$:0;return{[m]:f[m]+Z,data:{[m]:ee,centerOffset:z-ee-Z,...K&&{alignmentOffset:Z}},reset:K}}}),JO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,n;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...x}=di(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const y=ui(r),v=ca(l),w=ui(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!g?[tp(l)]:KO(l)),P=b!=="none";!f&&P&&N.push(...YO(l,g,b,S));const C=[l,...N],_=await qd(e,x),A=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&A.push(_[y]),u){const z=WO(r,o,S);A.push(_[z[0]],_[z[1]])}if(k=[...k,{placement:r,overflows:A}],!A.every(z=>z<=0)){var R,O;const z=(((R=a.flip)==null?void 0:R.index)||0)+1,ee=C[z];if(ee)return{data:{index:z,overflows:k},reset:{placement:ee}};let K=(O=k.filter(Z=>Z.overflows[0]<=0).sort((Z,F)=>Z.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(m){case"bestFit":{var $;const Z=($=k.filter(F=>{if(P){const I=ca(F.placement);return I===v||I==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((F,I)=>F[1]-I[1])[0])==null?void 0:$[0];Z&&(K=Z);break}case"initialPlacement":K=l;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function Q1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z1(t){return VO.some(e=>t[e]>=0)}const eD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:n="referenceHidden",...r}=di(t,e);switch(n){case"referenceHidden":{const a=await qd(e,{...r,elementContext:"reference"}),o=Q1(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z1(o)}}}case"escaped":{const a=await qd(e,{...r,altBoundary:!0}),o=Q1(a,s.floating);return{data:{escapedOffsets:o,escaped:Z1(o)}}}default:return{}}}}};async function tD(t,e){const{placement:s,platform:n,elements:r}=t,a=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=ui(s),l=vc(s),c=ca(s)==="y",d=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,u=di(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*h,y:f*d}:{x:f*d,y:m*h}}const sD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,n;const{x:r,y:a,placement:o,middlewareData:l}=e,c=await tD(e,t);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:o}}}}},nD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:n,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=di(t,e),d={x:s,y:n},h=await qd(e,c),u=ca(ui(r)),f=B0(u);let m=d[f],b=d[u];if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+h[x],w=m-h[y];m=bv(v,m,w)}if(o){const x=u==="y"?"top":"left",y=u==="y"?"bottom":"right",v=b+h[x],w=b-h[y];b=bv(v,b,w)}const g=l.fn({...e,[f]:m,[u]:b});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[f]:a,[u]:o}}}}}},rD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:n,placement:r,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=di(t,e),h={x:s,y:n},u=ca(r),f=B0(u);let m=h[f],b=h[u];const g=di(l,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",S=a.reference[f]-a.floating[w]+x.mainAxis,N=a.reference[f]+a.reference[w]-x.mainAxis;m<S?m=S:m>N&&(m=N)}if(d){var y,v;const w=f==="y"?"width":"height",S=["top","left"].includes(ui(r)),N=a.reference[u]-a.floating[w]+(S&&((y=o.offset)==null?void 0:y[u])||0)+(S?0:x.crossAxis),P=a.reference[u]+a.reference[w]+(S?0:((v=o.offset)==null?void 0:v[u])||0)-(S?x.crossAxis:0);b<N?b=N:b>P&&(b=P)}return{[f]:m,[u]:b}}}},iD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,n;const{placement:r,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=di(t,e),h=await qd(e,d),u=ui(r),f=vc(r),m=ca(r)==="y",{width:b,height:g}=a.floating;let x,y;u==="top"||u==="bottom"?(x=u,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,x=f==="end"?"top":"bottom");const v=g-h.top-h.bottom,w=b-h.left-h.right,S=la(g-h[x],v),N=la(b-h[y],w),P=!e.middlewareData.shift;let C=S,_=N;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(_=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=v),P&&!f){const k=Js(h.left,0),R=Js(h.right,0),O=Js(h.top,0),$=Js(h.bottom,0);m?_=b-2*(k!==0||R!==0?k+R:Js(h.left,h.right)):C=g-2*(O!==0||$!==0?O+$:Js(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:C});const A=await o.getDimensions(l.floating);return b!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function fm(){return typeof window<"u"}function xc(t){return pP(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Or(t){var e;return(e=(pP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pP(t){return fm()?t instanceof Node||t instanceof rn(t).Node:!1}function Jn(t){return fm()?t instanceof Element||t instanceof rn(t).Element:!1}function Fr(t){return fm()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function X1(t){return!fm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}function Zu(t){const{overflow:e,overflowX:s,overflowY:n,display:r}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+s)&&!["inline","contents"].includes(r)}function aD(t){return["table","td","th"].includes(xc(t))}function pm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function H0(t){const e=W0(),s=Jn(t)?er(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function oD(t){let e=da(t);for(;Fr(e)&&!nc(e);){if(H0(e))return e;if(pm(e))return null;e=da(e)}return null}function W0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(t){return["html","body","#document"].includes(xc(t))}function er(t){return rn(t).getComputedStyle(t)}function mm(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function da(t){if(xc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||X1(t)&&t.host||Or(t);return X1(e)?e.host:e}function mP(t){const e=da(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&Zu(e)?e:mP(e)}function Hd(t,e,s){var n;e===void 0&&(e=[]),s===void 0&&(s=!0);const r=mP(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),o=rn(r);if(a){const l=jv(o);return e.concat(o,o.visualViewport||[],Zu(r)?r:[],l&&s?Hd(l):[])}return e.concat(r,Hd(r,[],s))}function jv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gP(t){const e=er(t);let s=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Fr(t),a=r?t.offsetWidth:s,o=r?t.offsetHeight:n,l=ep(s)!==a||ep(n)!==o;return l&&(s=a,n=o),{width:s,height:n,$:l}}function K0(t){return Jn(t)?t:t.contextElement}function ll(t){const e=K0(t);if(!Fr(e))return Tr(1);const s=e.getBoundingClientRect(),{width:n,height:r,$:a}=gP(e);let o=(a?ep(s.width):s.width)/n,l=(a?ep(s.height):s.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const lD=Tr(0);function yP(t){const e=rn(t);return!W0()||!e.visualViewport?lD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cD(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==rn(t)?!1:e}function po(t,e,s,n){e===void 0&&(e=!1),s===void 0&&(s=!1);const r=t.getBoundingClientRect(),a=K0(t);let o=Tr(1);e&&(n?Jn(n)&&(o=ll(n)):o=ll(t));const l=cD(a,s,n)?yP(a):Tr(0);let c=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,h=r.width/o.x,u=r.height/o.y;if(a){const f=rn(a),m=n&&Jn(n)?rn(n):n;let b=f,g=jv(b);for(;g&&n&&m!==b;){const x=ll(g),y=g.getBoundingClientRect(),v=er(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,S=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,h*=x.x,u*=x.y,c+=w,d+=S,b=rn(g),g=jv(b)}}return sp({width:h,height:u,x:c,y:d})}function G0(t,e){const s=mm(t).scrollLeft;return e?e.left+s:po(Or(t)).left+s}function vP(t,e,s){s===void 0&&(s=!1);const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-(s?0:G0(t,n)),a=n.top+e.scrollTop;return{x:r,y:a}}function dD(t){let{elements:e,rect:s,offsetParent:n,strategy:r}=t;const a=r==="fixed",o=Or(n),l=e?pm(e.floating):!1;if(n===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=Tr(1);const h=Tr(0),u=Fr(n);if((u||!u&&!a)&&((xc(n)!=="body"||Zu(o))&&(c=mm(n)),Fr(n))){const m=po(n);d=ll(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const f=o&&!u&&!a?vP(o,c,!0):Tr(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:s.y*d.y-c.scrollTop*d.y+h.y+f.y}}function uD(t){return Array.from(t.getClientRects())}function hD(t){const e=Or(t),s=mm(t),n=t.ownerDocument.body,r=Js(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Js(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+G0(t);const l=-s.scrollTop;return er(n).direction==="rtl"&&(o+=Js(e.clientWidth,n.clientWidth)-r),{width:r,height:a,x:o,y:l}}function fD(t,e){const s=rn(t),n=Or(t),r=s.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(r){a=r.width,o=r.height;const d=W0();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:o,x:l,y:c}}function pD(t,e){const s=po(t,!0,e==="fixed"),n=s.top+t.clientTop,r=s.left+t.clientLeft,a=Fr(t)?ll(t):Tr(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=r*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function J1(t,e,s){let n;if(e==="viewport")n=fD(t,s);else if(e==="document")n=hD(Or(t));else if(Jn(e))n=pD(e,s);else{const r=yP(t);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return sp(n)}function xP(t,e){const s=da(t);return s===e||!Jn(s)||nc(s)?!1:er(s).position==="fixed"||xP(s,e)}function mD(t,e){const s=e.get(t);if(s)return s;let n=Hd(t,[],!1).filter(l=>Jn(l)&&xc(l)!=="body"),r=null;const a=er(t).position==="fixed";let o=a?da(t):t;for(;Jn(o)&&!nc(o);){const l=er(o),c=H0(o);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Zu(o)&&!c&&xP(t,o))?n=n.filter(h=>h!==o):r=l,o=da(o)}return e.set(t,n),n}function gD(t){let{element:e,boundary:s,rootBoundary:n,strategy:r}=t;const o=[...s==="clippingAncestors"?pm(e)?[]:mD(e,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,h)=>{const u=J1(e,h,r);return d.top=Js(u.top,d.top),d.right=la(u.right,d.right),d.bottom=la(u.bottom,d.bottom),d.left=Js(u.left,d.left),d},J1(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yD(t){const{width:e,height:s}=gP(t);return{width:e,height:s}}function vD(t,e,s){const n=Fr(e),r=Or(e),a=s==="fixed",o=po(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);if(n||!n&&!a)if((xc(e)!=="body"||Zu(r))&&(l=mm(e)),n){const f=po(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else r&&(c.x=G0(r));const d=r&&!n&&!a?vP(r,l):Tr(0),h=o.left+l.scrollLeft-c.x-d.x,u=o.top+l.scrollTop-c.y-d.y;return{x:h,y:u,width:o.width,height:o.height}}function Ng(t){return er(t).position==="static"}function ej(t,e){if(!Fr(t)||er(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return Or(t)===s&&(s=s.ownerDocument.body),s}function bP(t,e){const s=rn(t);if(pm(t))return s;if(!Fr(t)){let r=da(t);for(;r&&!nc(r);){if(Jn(r)&&!Ng(r))return r;r=da(r)}return s}let n=ej(t,e);for(;n&&aD(n)&&Ng(n);)n=ej(n,e);return n&&nc(n)&&Ng(n)&&!H0(n)?s:n||oD(t)||s}const xD=async function(t){const e=this.getOffsetParent||bP,s=this.getDimensions,n=await s(t.floating);return{reference:vD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bD(t){return er(t).direction==="rtl"}const wD={convertOffsetParentRelativeRectToViewportRelativeRect:dD,getDocumentElement:Or,getClippingRect:gD,getOffsetParent:bP,getElementRects:xD,getClientRects:uD,getDimensions:yD,getScale:ll,isElement:Jn,isRTL:bD};function wP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jD(t,e){let s=null,n;const r=Or(t);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:h,top:u,width:f,height:m}=d;if(l||e(),!f||!m)return;const b=Ih(u),g=Ih(r.clientWidth-(h+f)),x=Ih(r.clientHeight-(u+m)),y=Ih(h),w={rootMargin:-b+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Js(0,la(1,c))||1};let S=!0;function N(P){const C=P[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!wP(d,t.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(N,{...w,root:r.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(t)}return o(!0),a}function ND(t,e,s,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=K0(t),h=r||a?[...d?Hd(d):[],...Hd(e)]:[];h.forEach(y=>{r&&y.addEventListener("scroll",s,{passive:!0}),a&&y.addEventListener("resize",s)});const u=d&&l?jD(d,s):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),s()}),d&&!c&&m.observe(d),m.observe(e));let b,g=c?po(t):null;c&&x();function x(){const y=po(t);g&&!wP(g,y)&&s(),g=y,b=requestAnimationFrame(x)}return s(),()=>{var y;h.forEach(v=>{r&&v.removeEventListener("scroll",s),a&&v.removeEventListener("resize",s)}),u==null||u(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const SD=sD,kD=nD,CD=JO,PD=iD,_D=eD,tj=XO,ED=rD,TD=(t,e,s)=>{const n=new Map,r={platform:wD,...s},a={...r.platform,_c:n};return ZO(t,e,{...r,platform:a})};var gf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function np(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(n=s;n--!==0;)if(!np(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),s=r.length,s!==Object.keys(e).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=s;n--!==0;){const a=r[n];if(!(a==="_owner"&&t.$$typeof)&&!np(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function jP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sj(t,e){const s=jP(t);return Math.round(e*s)/s}function Sg(t){const e=p.useRef(t);return gf(()=>{e.current=t}),e}function MD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:n=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,u]=p.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);np(f,n)||m(n);const[b,g]=p.useState(null),[x,y]=p.useState(null),v=p.useCallback(F=>{F!==P.current&&(P.current=F,g(F))},[]),w=p.useCallback(F=>{F!==C.current&&(C.current=F,y(F))},[]),S=a||b,N=o||x,P=p.useRef(null),C=p.useRef(null),_=p.useRef(h),A=c!=null,k=Sg(c),R=Sg(r),O=Sg(d),$=p.useCallback(()=>{if(!P.current||!C.current)return;const F={placement:e,strategy:s,middleware:f};R.current&&(F.platform=R.current),TD(P.current,C.current,F).then(I=>{const U={...I,isPositioned:O.current!==!1};z.current&&!np(_.current,U)&&(_.current=U,No.flushSync(()=>{u(U)}))})},[f,e,s,R,O]);gf(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,u(F=>({...F,isPositioned:!1})))},[d]);const z=p.useRef(!1);gf(()=>(z.current=!0,()=>{z.current=!1}),[]),gf(()=>{if(S&&(P.current=S),N&&(C.current=N),S&&N){if(k.current)return k.current(S,N,$);$()}},[S,N,$,k,A]);const ee=p.useMemo(()=>({reference:P,floating:C,setReference:v,setFloating:w}),[v,w]),K=p.useMemo(()=>({reference:S,floating:N}),[S,N]),Z=p.useMemo(()=>{const F={position:s,left:0,top:0};if(!K.floating)return F;const I=sj(K.floating,h.x),U=sj(K.floating,h.y);return l?{...F,transform:"translate("+I+"px, "+U+"px)",...jP(K.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:I,top:U}},[s,l,K.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:$,refs:ee,elements:K,floatingStyles:Z}),[h,$,ee,K,Z])}const AD=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:n,padding:r}=typeof t=="function"?t(s):t;return n&&e(n)?n.current!=null?tj({element:n.current,padding:r}).fn(s):{}:n?tj({element:n,padding:r}).fn(s):{}}}},FD=(t,e)=>({...SD(t),options:[t,e]}),RD=(t,e)=>({...kD(t),options:[t,e]}),ID=(t,e)=>({...ED(t),options:[t,e]}),OD=(t,e)=>({...CD(t),options:[t,e]}),DD=(t,e)=>({...PD(t),options:[t,e]}),LD=(t,e)=>({..._D(t),options:[t,e]}),$D=(t,e)=>({...AD(t),options:[t,e]});var UD="Arrow",NP=p.forwardRef((t,e)=>{const{children:s,width:n=10,height:r=5,...a}=t;return i.jsx(Ne.svg,{...a,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});NP.displayName=UD;var zD=NP;function Y0(t){const[e,s]=p.useState(void 0);return qt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else s(void 0)},[t]),e}var Q0="Popper",[SP,xa]=Ns(Q0),[BD,kP]=SP(Q0),CP=t=>{const{__scopePopper:e,children:s}=t,[n,r]=p.useState(null);return i.jsx(BD,{scope:e,anchor:n,onAnchorChange:r,children:s})};CP.displayName=Q0;var PP="PopperAnchor",_P=p.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:n,...r}=t,a=kP(PP,s),o=p.useRef(null),l=Le(e,o);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Ne.div,{...r,ref:l})});_P.displayName=PP;var Z0="PopperContent",[VD,qD]=SP(Z0),EP=p.forwardRef((t,e)=>{var pe,Se,We,Ke,$e,Oe;const{__scopePopper:s,side:n="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...g}=t,x=kP(Z0,s),[y,v]=p.useState(null),w=Le(e,gt=>v(gt)),[S,N]=p.useState(null),P=Y0(S),C=(P==null?void 0:P.width)??0,_=(P==null?void 0:P.height)??0,A=n+(a!=="center"?"-"+a:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],O=R.length>0,$={padding:k,boundary:R.filter(WD),altBoundary:O},{refs:z,floatingStyles:ee,placement:K,isPositioned:Z,middlewareData:F}=MD({strategy:"fixed",placement:A,whileElementsMounted:(...gt)=>ND(...gt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[FD({mainAxis:r+_,alignmentAxis:o}),c&&RD({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?ID():void 0,...$}),c&&OD({...$}),DD({...$,apply:({elements:gt,rects:st,availableWidth:Q,availableHeight:ue})=>{const{width:Re,height:hs}=st.reference,Sn=gt.floating.style;Sn.setProperty("--radix-popper-available-width",`${Q}px`),Sn.setProperty("--radix-popper-available-height",`${ue}px`),Sn.setProperty("--radix-popper-anchor-width",`${Re}px`),Sn.setProperty("--radix-popper-anchor-height",`${hs}px`)}}),S&&$D({element:S,padding:l}),KD({arrowWidth:C,arrowHeight:_}),f&&LD({strategy:"referenceHidden",...$})]}),[I,U]=AP(K),H=mt(b);qt(()=>{Z&&(H==null||H())},[Z,H]);const ce=(pe=F.arrow)==null?void 0:pe.x,Y=(Se=F.arrow)==null?void 0:Se.y,xe=((We=F.arrow)==null?void 0:We.centerOffset)!==0,[Ze,Be]=p.useState();return qt(()=>{y&&Be(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[(Ke=F.transformOrigin)==null?void 0:Ke.x,($e=F.transformOrigin)==null?void 0:$e.y].join(" "),...((Oe=F.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(VD,{scope:s,placedSide:I,onArrowChange:N,arrowX:ce,arrowY:Y,shouldHideArrow:xe,children:i.jsx(Ne.div,{"data-side":I,"data-align":U,...g,ref:w,style:{...g.style,animation:Z?void 0:"none"}})})})});EP.displayName=Z0;var TP="PopperArrow",HD={top:"bottom",right:"left",bottom:"top",left:"right"},MP=p.forwardRef(function(e,s){const{__scopePopper:n,...r}=e,a=qD(TP,n),o=HD[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(zD,{...r,ref:s,style:{...r.style,display:"block"}})})});MP.displayName=TP;function WD(t){return t!==null}var KD=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:s,rects:n,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=AP(s),u={start:"0%",center:"50%",end:"100%"}[h],f=(((y=r.arrow)==null?void 0:y.x)??0)+l/2,m=(((v=r.arrow)==null?void 0:v.y)??0)+c/2;let b="",g="";return d==="bottom"?(b=o?u:`${f}px`,g=`${-c}px`):d==="top"?(b=o?u:`${f}px`,g=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,g=o?u:`${m}px`):d==="left"&&(b=`${n.floating.width+c}px`,g=o?u:`${m}px`),{data:{x:b,y:g}}}});function AP(t){const[e,s="center"]=t.split("-");return[e,s]}var X0=CP,Xu=_P,gm=EP,ym=MP,[vm,ZX]=Ns("Tooltip",[xa]),J0=xa(),FP="TooltipProvider",GD=700,nj="tooltip.open",[YD,RP]=vm(FP),IP=t=>{const{__scopeTooltip:e,delayDuration:s=GD,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(YD,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:a})};IP.displayName=FP;var OP="Tooltip",[XX,xm]=vm(OP),Nv="TooltipTrigger",QD=p.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,r=xm(Nv,s),a=RP(Nv,s),o=J0(s),l=p.useRef(null),c=Le(e,l,r.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),u=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),i.jsx(Xu,{asChild:!0,...o,children:i.jsx(Ne.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:c,onPointerMove:ne(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),h.current=!0)}),onPointerLeave:ne(t.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:ne(t.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:ne(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:ne(t.onBlur,r.onClose),onClick:ne(t.onClick,r.onClose)})})});QD.displayName=Nv;var ZD="TooltipPortal",[JX,XD]=vm(ZD,{forceMount:void 0}),rc="TooltipContent",DP=p.forwardRef((t,e)=>{const s=XD(rc,t.__scopeTooltip),{forceMount:n=s.forceMount,side:r="top",...a}=t,o=xm(rc,t.__scopeTooltip);return i.jsx(us,{present:n||o.open,children:o.disableHoverableContent?i.jsx(LP,{side:r,...a,ref:e}):i.jsx(JD,{side:r,...a,ref:e})})}),JD=p.forwardRef((t,e)=>{const s=xm(rc,t.__scopeTooltip),n=RP(rc,t.__scopeTooltip),r=p.useRef(null),a=Le(e,r),[o,l]=p.useState(null),{trigger:c,onClose:d}=s,h=r.current,{onPointerInTransitChange:u}=n,f=p.useCallback(()=>{l(null),u(!1)},[u]),m=p.useCallback((b,g)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},v=rL(y,x.getBoundingClientRect()),w=iL(y,v),S=aL(g.getBoundingClientRect()),N=lL([...w,...S]);l(N),u(!0)},[u]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&h){const b=x=>m(x,h),g=x=>m(x,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",g)}}},[c,h,m,f]),p.useEffect(()=>{if(o){const b=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),w=!oL(y,o);v?f():w&&(f(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,d,f]),i.jsx(LP,{...t,ref:a})}),[eL,tL]=vm(OP,{isInside:!1}),sL=$3("TooltipContent"),LP=p.forwardRef((t,e)=>{const{__scopeTooltip:s,children:n,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=xm(rc,s),d=J0(s),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(nj,h),()=>document.removeEventListener(nj,h)),[h]),p.useEffect(()=>{if(c.trigger){const u=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,h]),i.jsx(So,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:i.jsxs(gm,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(sL,{children:n}),i.jsx(eL,{scope:s,isInside:!0,children:i.jsx(iI,{id:c.contentId,role:"tooltip",children:r||n})})]})})});DP.displayName=rc;var $P="TooltipArrow",nL=p.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,r=J0(s);return tL($P,s).isInside?null:i.jsx(ym,{...r,...n,ref:e})});nL.displayName=$P;function rL(t,e){const s=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,n,r,a)){case a:return"left";case r:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function iL(t,e,s=5){const n=[];switch(e){case"top":n.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":n.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":n.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":n.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return n}function aL(t){const{top:e,right:s,bottom:n,left:r}=t;return[{x:r,y:e},{x:s,y:e},{x:s,y:n},{x:r,y:n}]}function oL(t,e){const{x:s,y:n}=t;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,h=e[o].y;c>n!=h>n&&s<(d-l)*(n-c)/(h-c)+l&&(r=!r)}return r}function lL(t){const e=t.slice();return e.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),cL(e)}function cL(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const s=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))s.pop();else break}s.push(r)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var dL=IP,UP=DP;const uL=dL,hL=p.forwardRef(({className:t,sideOffset:e=4,...s},n)=>i.jsx(UP,{ref:n,sideOffset:e,className:te("z-50 overflow-hidden rounded-md border bg-white text-black px-3 py-1.5 text-sm shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));hL.displayName=UP.displayName;function ir(){const{data:t,isLoading:e}=it({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}const Ur=t=>{const e=parseInt(t.slice(1,3),16)/255,s=parseInt(t.slice(3,5),16)/255,n=parseInt(t.slice(5,7),16)/255,r=Math.max(e,s,n),a=Math.min(e,s,n);let o,l,c=(r+a)/2;if(r===a)o=l=0;else{const d=r-a;switch(l=c>.5?d/(2-r-a):d/(r+a),r){case e:o=(s-n)/d+(s<n?6:0);break;case s:o=(n-e)/d+2;break;case n:o=(e-s)/d+4;break;default:o=0}o/=6}return`${Math.round(o*360)}, ${Math.round(l*100)}%, ${Math.round(c*100)}%`},rj=t=>{var s,n;const e=document.documentElement;if(t.primaryColor&&(e.style.setProperty("--primary",`hsl(${Ur(t.primaryColor)})`),e.style.setProperty("--mykliq-pink",`hsl(${Ur(t.primaryColor)})`)),t.secondaryColor&&(e.style.setProperty("--secondary",`hsl(${Ur(t.secondaryColor)})`),e.style.setProperty("--mykliq-blue",`hsl(${Ur(t.secondaryColor)})`)),t.fontFamily){const r={comic:"Comic Neue, Comic Sans MS, cursive",retro:"Courier Prime, Courier New, monospace",helvetica:"Helvetica, sans-serif",times:"Times New Roman, serif",impact:"Impact, sans-serif"};e.style.setProperty("--font-sans",r[t.fontFamily]||r.comic)}if(t.backgroundType&&t.backgroundType==="solid"&&t.backgroundColor)e.style.setProperty("--background",`hsl(${Ur(t.backgroundColor)})`),e.style.removeProperty("background-image");else if(t.backgroundType==="gradient"&&t.backgroundGradientStart&&t.backgroundGradientEnd){const r=Ur(t.backgroundGradientStart),a=Ur(t.backgroundGradientEnd);e.style.setProperty("--background",`linear-gradient(135deg, hsl(${r}), hsl(${a}))`),e.style.setProperty("background-image",`linear-gradient(135deg, hsl(${r}), hsl(${a}))`)}else if(t.backgroundType==="pattern"&&t.backgroundPattern){const r={dots:`radial-gradient(circle, hsl(${t.primaryColor?Ur(t.primaryColor):"328, 100%, 54%"}) 1px, transparent 1px)`,lines:`linear-gradient(45deg, hsl(${t.primaryColor?Ur(t.primaryColor):"328, 100%, 54%"}) 1px, transparent 1px)`,waves:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20c0-11 9-20 20-20s20 9 20 20-9 20-20 20-20-9-20-20z' fill='%23${((s=t.primaryColor)==null?void 0:s.replace("#",""))||"FF1493"}' opacity='0.1'/%3E%3C/svg%3E")`,geometric:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23${((n=t.primaryColor)==null?void 0:n.replace("#",""))||"FF1493"}' opacity='0.1'%3E%3Cpath d='M30 30l15-15v30z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`};e.style.setProperty("background-image",r[t.backgroundPattern]||r.dots),e.style.setProperty("background-size",t.backgroundPattern==="dots"?"20px 20px":"40px 40px")}};function fL(){const{data:t,isLoading:e}=it({queryKey:["/api/user/theme"],retry:!1});return p.useEffect(()=>{t&&rj(t)},[t]),{theme:t,isLoading:e,applyTheme:rj}}const pL=()=>{const t="Q3VCE04DVT";if(typeof window<"u"&&document.querySelector(`script[src*="${t}"]`))return;const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[];function s(...n){window.dataLayer.push(arguments)}window.gtag=s,window.gtag("js",new Date),window.gtag("config",t)},mL=t=>{if(typeof window>"u"||!window.gtag)return;window.gtag("config","Q3VCE04DVT",{page_path:t})},Sv=(t,e,s,n)=>{typeof window>"u"||!window.gtag||window.gtag("event",t,{event_category:e,event_label:s,value:n})},gL=()=>{const[t]=Ku(),e=p.useRef(t);p.useEffect(()=>{t!==e.current&&(mL(t),e.current=t)},[t])},yL=(t,e,s,n)=>{var a,o,l,c;const r=[s,{code:e,...n||{}}];if((o=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&o.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);no(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},ij={},kv=(t,e,s,n)=>{no(s)&&ij[s]||(no(s)&&(ij[s]=new Date),yL(t,e,s,n))},zP=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},Cv=(t,e,s)=>{t.loadNamespaces(e,zP(t,s))},aj=(t,e,s,n)=>{if(no(s)&&(s=[s]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Cv(t,s,n);s.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,zP(t,n))},vL=(t,e,s={})=>!e.languages||!e.languages.length?(kv(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:s.lng,precheck:(n,r)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}),no=t=>typeof t=="string",xL=t=>typeof t=="object"&&t!==null,bL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,wL={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jL=t=>wL[t],NL=t=>t.replace(bL,jL);let Pv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NL};const SL=(t={})=>{Pv={...Pv,...t}},kL=()=>Pv;let BP;const CL=t=>{BP=t},PL=()=>BP,_L={type:"3rdParty",init(t){SL(t.options.react),CL(t)}},EL=p.createContext();class TL{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const ML=(t,e)=>{const s=p.useRef();return p.useEffect(()=>{s.current=t},[t,e]),s.current},VP=(t,e,s,n)=>t.getFixedT(e,s,n),AL=(t,e,s,n)=>p.useCallback(VP(t,e,s,n),[t,e,s,n]),bm=(t,e={})=>{var S,N,P,C;const{i18n:s}=e,{i18n:n,defaultNS:r}=p.useContext(EL)||{},a=s||n||PL();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new TL),!a){kv(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const _=(k,R)=>no(R)?R:xL(R)&&no(R.defaultValue)?R.defaultValue:Array.isArray(k)?k[k.length-1]:k,A=[_,{},!1];return A.t=_,A.i18n={},A.ready=!1,A}(S=a.options.react)!=null&&S.wait&&kv(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...kL(),...a.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let d=r||((N=a.options)==null?void 0:N.defaultNS);d=no(d)?[d]:d||["translation"],(C=(P=a.reportNamespaces).addUsedNamespaces)==null||C.call(P,d);const h=(a.isInitialized||a.initializedStoreOnce)&&d.every(_=>vL(_,a,o)),u=AL(a,e.lng||null,o.nsMode==="fallback"?d:d[0],c),f=()=>u,m=()=>VP(a,e.lng||null,o.nsMode==="fallback"?d:d[0],c),[b,g]=p.useState(f);let x=d.join();e.lng&&(x=`${e.lng}${x}`);const y=ML(x),v=p.useRef(!0);p.useEffect(()=>{const{bindI18n:_,bindI18nStore:A}=o;v.current=!0,!h&&!l&&(e.lng?aj(a,e.lng,d,()=>{v.current&&g(m)}):Cv(a,d,()=>{v.current&&g(m)})),h&&y&&y!==x&&v.current&&g(m);const k=()=>{v.current&&g(m)};return _&&(a==null||a.on(_,k)),A&&(a==null||a.store.on(A,k)),()=>{v.current=!1,a&&_&&(_==null||_.split(" ").forEach(R=>a.off(R,k))),A&&a&&A.split(" ").forEach(R=>a.store.off(R,k))}},[a,x]),p.useEffect(()=>{v.current&&h&&g(f)},[a,c,h]);const w=[b,a,h];if(w.t=b,w.i18n=a,w.ready=h,h||!h&&!l)return w;throw new Promise(_=>{e.lng?aj(a,e.lng,d,()=>_()):Cv(a,d,()=>_())})},De=t=>typeof t=="string",Lc=()=>{let t,e;const s=new Promise((n,r)=>{t=n,e=r});return s.resolve=t,s.reject=e,s},oj=t=>t==null?"":""+t,FL=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},RL=/###/g,lj=t=>t&&t.indexOf("###")>-1?t.replace(RL,"."):t,cj=t=>!t||De(t),xd=(t,e,s)=>{const n=De(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(cj(t))return{};const a=lj(n[r]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++r}return cj(t)?{}:{obj:t,k:lj(n[r])}},dj=(t,e,s)=>{const{obj:n,k:r}=xd(t,e,Object);if(n!==void 0||e.length===1){n[r]=s;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=xd(t,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=xd(t,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=s},IL=(t,e,s,n)=>{const{obj:r,k:a}=xd(t,e,Object);r[a]=r[a]||[],r[a].push(s)},rp=(t,e)=>{const{obj:s,k:n}=xd(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]},OL=(t,e,s)=>{const n=rp(t,s);return n!==void 0?n:rp(e,s)},qP=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?De(t[n])||t[n]instanceof String||De(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):qP(t[n],e[n],s):t[n]=e[n]);return t},_o=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var DL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const LL=t=>De(t)?t.replace(/[&<>"'\/]/g,e=>DL[e]):t;class $L{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const UL=[" ",",","?","!",";"],zL=new $L(20),BL=(t,e,s)=>{e=e||"",s=s||"";const n=UL.filter(o=>e.indexOf(o)<0&&s.indexOf(o)<0);if(n.length===0)return!0;const r=zL.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(t);if(!a){const o=t.indexOf(s);o>0&&!r.test(t.substring(0,o))&&(a=!0)}return a},_v=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(s);let r=t;for(let a=0;a<n.length;){if(!r||typeof r!="object")return;let o,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=s),l+=n[c],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;a+=c-a+1;break}r=o}return r},Wd=t=>t==null?void 0:t.replace("_","-"),VL={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var s,n;(n=(s=console==null?void 0:console[t])==null?void 0:s.apply)==null||n.call(s,console,e)}};class ip{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||VL,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,r){return r&&!this.debug?null:(De(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new ip(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ip(this.logger,e)}}var Nr=new ip;class wm{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(s)||0;this.observers[n].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r.apply(r,[e,...s])})}}class uj extends wm{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n,r={}){var d,h;const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],n&&(Array.isArray(n)?l.push(...n):De(n)&&a?l.push(...n.split(a)):l.push(n)));const c=rp(this.data,l);return!c&&!s&&!n&&e.indexOf(".")>-1&&(e=l[0],s=l[1],n=l.slice(2).join(".")),c||!o||!De(n)?c:_v((h=(d=this.data)==null?void 0:d[e])==null?void 0:h[s],n,a)}addResource(e,s,n,r,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,s];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),r=s,s=l[1]),this.addNamespaces(s),dj(this.data,l,r),a.silent||this.emit("added",e,s,n,r)}addResources(e,s,n,r={silent:!1}){for(const a in n)(De(n[a])||Array.isArray(n[a]))&&this.addResource(e,s,a,n[a],{silent:!0});r.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,r,a,o={silent:!1,skipCopy:!1}){let l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),r=n,n=s,s=l[1]),this.addNamespaces(s);let c=rp(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?qP(c,n,a):c={...c,...n},dj(this.data,l,c),o.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(r=>s[r]&&Object.keys(s[r]).length>0)}toJSON(){return this.data}}var HP={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,r){return t.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,s,n,r))??e}),e}};const WP=Symbol("i18next/PATH_KEY");function qL(){const t=[],e=Object.create(null);let s;return e.get=(n,r)=>{var a;return(a=s==null?void 0:s.revoke)==null||a.call(s),r===WP?t:(t.push(r),s=Proxy.revocable(n,e),s.proxy)},Proxy.revocable(Object.create(null),e).proxy}function HL(t,e){const{[WP]:s}=t(qL());return s.join((e==null?void 0:e.keySeparator)??".")}const hj={},fj=t=>!De(t)&&typeof t!="boolean"&&typeof t!="number";let pj=class KP extends wm{constructor(e,s={}){super(),FL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const n={...s};if(e==null)return!1;const r=this.resolve(e,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!BL(e,n,r);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:De(a)?[a]:a};const d=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(r)}return{key:e,namespaces:De(a)?[a]:a}}translate(e,s,n){let r=typeof s=="object"?{...s}:s;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=HL(e,r)),Array.isArray(e)||(e=[String(e)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],r),d=c[c.length-1];let h=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const u=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode")return f?a?{res:`${d}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:`${d}${h}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:l;const m=this.resolve(e,r);let b=m==null?void 0:m.res;const g=(m==null?void 0:m.usedKey)||l,x=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=r.count!==void 0&&!De(r.count),N=KP.hasDefaultValue(r),P=S?this.pluralResolver.getSuffix(u,r.count,r):"",C=r.ordinal&&S?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",_=S&&!r.ordinal&&r.count===0,A=_&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${P}`]||r[`defaultValue${C}`]||r.defaultValue;let k=b;w&&!b&&N&&(k=A);const R=fj(k),O=Object.prototype.toString.apply(k);if(w&&k&&R&&y.indexOf(O)<0&&!(De(v)&&Array.isArray(k))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,k,{...r,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(m.res=$,m.usedParams=this.getUsedParamsDetails(r),m):$}if(o){const $=Array.isArray(k),z=$?[]:{},ee=$?x:g;for(const K in k)if(Object.prototype.hasOwnProperty.call(k,K)){const Z=`${ee}${o}${K}`;N&&!b?z[K]=this.translate(Z,{...r,defaultValue:fj(A)?A[K]:void 0,joinArrays:!1,ns:c}):z[K]=this.translate(Z,{...r,joinArrays:!1,ns:c}),z[K]===Z&&(z[K]=k[K])}b=z}}else if(w&&De(v)&&Array.isArray(b))b=b.join(v),b&&(b=this.extendTranslation(b,e,r,n));else{let $=!1,z=!1;!this.isValidLookup(b)&&N&&($=!0,b=A),this.isValidLookup(b)||(z=!0,b=l);const K=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:b,Z=N&&A!==b&&this.options.updateMissing;if(z||$||Z){if(this.logger.log(Z?"updateKey":"missingKey",u,d,l,Z?A:b),o){const H=this.resolve(l,{...r,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let H=0;H<I.length;H++)F.push(I[H]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(r.lng||this.language):F.push(r.lng||this.language);const U=(H,ce,Y)=>{var Ze;const xe=N&&Y!==b?Y:K;this.options.missingKeyHandler?this.options.missingKeyHandler(H,d,ce,xe,Z,r):(Ze=this.backendConnector)!=null&&Ze.saveMissing&&this.backendConnector.saveMissing(H,d,ce,xe,Z,r),this.emit("missingKey",H,d,ce,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(H=>{const ce=this.pluralResolver.getSuffixes(H,r);_&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(Y=>{U([H],l+Y,r[`defaultValue${Y}`]||A)})}):U(F,l,A))}b=this.extendTranslation(b,e,r,m,n),z&&b===l&&this.options.appendNamespaceToMissingKey&&(b=`${d}${h}${l}`),(z||$)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${h}${l}`:l,$?b:void 0,r))}return a?(m.res=b,m.usedParams=this.getUsedParamsDetails(r),m):b}extendTranslation(e,s,n,r,a){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=De(e)&&(((d=n==null?void 0:n.interpolation)==null?void 0:d.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(h){const m=e.match(this.interpolator.nestingRegexp);u=m&&m.length}let f=n.replace&&!De(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),h){const m=e.match(this.interpolator.nestingRegexp),b=m&&m.length;u<b&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>(a==null?void 0:a[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):this.translate(...m,s),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=De(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=HP.handle(l,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,s={}){let n,r,a,o,l;return De(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,s),h=d.key;r=h;let u=d.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const f=s.count!==void 0&&!De(s.count),m=f&&!s.ordinal&&s.count===0,b=s.context!==void 0&&(De(s.context)||typeof s.context=="number")&&s.context!=="",g=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);u.forEach(x=>{var y,v;this.isValidLookup(n)||(l=x,!hj[`${g[0]}-${x}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(l))&&(hj[`${g[0]}-${x}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(w=>{var P;if(this.isValidLookup(n))return;o=w;const S=[h];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(S,h,w,x,s);else{let C;f&&(C=this.pluralResolver.getSuffix(w,s.count,s));const _=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(s.ordinal&&C.indexOf(A)===0&&S.push(h+C.replace(A,this.options.pluralSeparator)),S.push(h+C),m&&S.push(h+_)),b){const k=`${h}${this.options.contextSeparator||"_"}${s.context}`;S.push(k),f&&(s.ordinal&&C.indexOf(A)===0&&S.push(k+C.replace(A,this.options.pluralSeparator)),S.push(k+C),m&&S.push(k+_))}}let N;for(;N=S.pop();)this.isValidLookup(n)||(a=N,n=this.getResource(w,x,N,s))}))})}),{res:n,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n,r={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,s,n,r):this.resourceStore.getResource(e,s,n,r)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!De(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const a of s)delete r[a]}return r}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}};class mj{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nr.create("languageUtils")}getScriptPartFromCode(e){if(e=Wd(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Wd(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(De(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const r=this.getScriptPartFromCode(n);if(this.isSupportedCode(r))return s=r;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),De(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return De(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):De(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}const gj={zero:0,one:1,two:2,few:3,many:4,other:5},yj={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class WL{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=Nr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const n=Wd(e==="dev"?"en":e),r=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),yj;if(!e.match(/-|_/))return yj;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,s)}return this.pluralRulesCache[a]=o,o}needsPlural(e,s={}){let n=this.getRule(e,s);return n||(n=this.getRule("dev",s)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,s,n={}){return this.getSuffixes(e,n).map(r=>`${s}${r}`)}getSuffixes(e,s={}){let n=this.getRule(e,s);return n||(n=this.getRule("dev",s)),n?n.resolvedOptions().pluralCategories.sort((r,a)=>gj[r]-gj[a]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,s,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,n))}}const vj=(t,e,s,n=".",r=!0)=>{let a=OL(t,e,s);return!a&&r&&De(s)&&(a=_v(t,s,n),a===void 0&&(a=_v(e,s,n))),a},kg=t=>t.replace(/\$/g,"$$$$");class KL{constructor(e={}){var s;this.logger=Nr.create("interpolator"),this.options=e,this.format=((s=e==null?void 0:e.interpolation)==null?void 0:s.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:h,unescapePrefix:u,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:b,nestingSuffixEscaped:g,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:v}=e.interpolation;this.escape=s!==void 0?s:LL,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?_o(a):o||"{{",this.suffix=l?_o(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=h?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?_o(f):m||_o("$t("),this.nestingSuffix=b?_o(b):g||_o(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>(s==null?void 0:s.source)===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,s,n,r){var m;let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const v=vj(s,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,n,{...r,...s,interpolationkey:b}):v}const g=b.split(this.formatSeparator),x=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(vj(s,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...r,...s,interpolationkey:x})};this.resetRegExp();const h=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>kg(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?kg(this.escape(b)):kg(b)}].forEach(b=>{for(l=0;a=b.regex.exec(e);){const g=a[1].trim();if(o=d(g),o===void 0)if(typeof h=="function"){const y=h(e,a,r);o=De(y)?y:""}else if(r&&Object.prototype.hasOwnProperty.call(r,g))o="";else if(u){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),o="";else!De(o)&&!this.useRawValueToEscape&&(o=oj(o));const x=b.safeValue(o);if(e=e.replace(a[0],x),u?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s,n={}){let r,a,o;const l=(c,d)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const u=c.split(new RegExp(`${h}[ ]*{`));let f=`{${u[1]}`;c=u[0],f=this.interpolate(f,o);const m=f.match(/'/g),b=f.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),d&&(o={...d,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${h}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!De(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(d!==-1&&(c=r[1].slice(d).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),r[1]=r[1].slice(0,d)),a=s(l.call(this,r[1].trim(),o),o),a&&r[0]===e&&!De(a))return a;De(a)||(a=oj(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((h,u)=>this.format(h,u,n.lng,{...n,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const GL=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();s[h]||(s[h]=d),d==="false"&&(s[h]=!1),d==="true"&&(s[h]=!0),isNaN(d)||(s[h]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},xj=t=>{const e={};return(s,n,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a={...a,[r.interpolationkey]:void 0});const o=n+JSON.stringify(a);let l=e[o];return l||(l=t(Wd(n),r),e[o]=l),l(s)}},YL=t=>(e,s,n)=>t(Wd(s),n)(e);class QL{constructor(e={}){this.logger=Nr.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const n=s.cacheInBuiltFormats?xj:YL;this.formats={number:n((r,a)=>{const o=new Intl.NumberFormat(r,{...a});return l=>o.format(l)}),currency:n((r,a)=>{const o=new Intl.NumberFormat(r,{...a,style:"currency"});return l=>o.format(l)}),datetime:n((r,a)=>{const o=new Intl.DateTimeFormat(r,{...a});return l=>o.format(l)}),relativetime:n((r,a)=>{const o=new Intl.RelativeTimeFormat(r,{...a});return l=>o.format(l,a.range||"day")}),list:n((r,a)=>{const o=new Intl.ListFormat(r,{...a});return l=>o.format(l)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=xj(s)}format(e,s,n,r={}){const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{var u;const{formatName:d,formatOptions:h}=GL(c);if(this.formats[d]){let f=l;try{const m=((u=r==null?void 0:r.formatParams)==null?void 0:u[r.interpolationkey])||{},b=m.locale||m.lng||r.locale||r.lng||n;f=this.formats[d](l,b,{...h,...r,...m})}catch(m){this.logger.warn(m)}return f}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const ZL=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class XL extends wm{constructor(e,s,n,r={}){var a,o;super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Nr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,n,r.backend,r)}queueLoad(e,s,n,r){const a={},o={},l={},c={};return e.forEach(d=>{let h=!0;s.forEach(u=>{const f=`${d}|${u}`;!n.reload&&this.store.hasResourceBundle(d,u)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,h=!1,o[f]===void 0&&(o[f]=!0),a[f]===void 0&&(a[f]=!0),c[u]===void 0&&(c[u]=!0)))}),h||(l[d]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,n){const r=e.split("|"),a=r[0],o=r[1];s&&this.emit("failedLoading",a,o,s),!s&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{IL(c.loaded,[a],o),ZL(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const h=c.loaded[d];h.length&&h.forEach(u=>{l[d][u]===void 0&&(l[d][u]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,n,r=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:r,wait:a,callback:o});return}this.readingCalls++;const l=(d,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(d&&h&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,r+1,a*2,o)},a);return}o(d,h)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();De(e)&&(e=this.languageUtils.toResolveHierarchy(e)),De(s)&&(s=[s]);const a=this.queueLoad(e,s,n,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e,s=""){const n=e.split("|"),r=n[0],a=n[1];this.read(r,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${a} for language ${r} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${a} for language ${r}`,l),this.loaded(e,o,l)})}saveMissing(e,s,n,r,a,o={},l=()=>{}){var c,d,h,u,f;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((u=(h=this.services)==null?void 0:h.utils)!=null&&u.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){const m={...o,isUpdate:a},b=this.backend.create.bind(this.backend);if(b.length<6)try{let g;b.length===5?g=b(e,s,n,r,m):g=b(e,s,n,r),g&&typeof g.then=="function"?g.then(x=>l(null,x)).catch(l):l(null,g)}catch(g){l(g)}else b(e,s,n,r,l,m)}!e||!e[0]||this.store.addResource(e[0],s,n,r)}}}const bj=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),De(t[1])&&(e.defaultValue=t[1]),De(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wj=t=>{var e,s;return De(t.ns)&&(t.ns=[t.ns]),De(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),De(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((s=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:s.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Oh=()=>{},JL=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Kd extends wm{constructor(e={},s){if(super(),this.options=wj(e),this.services={},this.logger=Nr,this.modules={external:[]},JL(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(De(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=bj();this.options={...n,...this.options,...wj(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Nr.init(r(this.modules.logger),this.options):Nr.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=QL;const h=new mj(this.options);this.store=new uj(this.options.resources,this.options);const u=this.services;u.logger=Nr,u.resourceStore=this.store,u.languageUtils=h,u.pluralResolver=new WL(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(u.formatter=r(d),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new KL(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new XL(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(m,...b)=>{this.emit(m,...b)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new pj(this.services,this.options),this.translator.on("*",(m,...b)=>{this.emit(m,...b)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Oh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...h)=>this.store[d](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...h)=>(this.store[d](...h),this)});const l=Lc(),c=()=>{const d=(h,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),s(h,u)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,s=Oh){var a,o;let n=s;const r=De(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(u=>{u!=="cimode"&&l.indexOf(u)<0&&l.push(u)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>c(h)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(d)})}else n(null)}reloadResources(e,s,n){const r=Lc();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Oh),this.services.backendConnector.reload(e,s,a=>{r.resolve(),n(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&HP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const n=Lc();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...d)=>this.t(...d)),s&&s(l,(...d)=>this.t(...d))},o=l=>{var h,u;!e&&!l&&this.services.languageDetector&&(l=[]);const c=De(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(De(l)?[l]:l);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),(u=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||u.call(h,d)),this.loadResources(d,f=>{a(f,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,s,n){const r=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||r.keyPrefix);const d=this.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(u=>`${c.keyPrefix}${d}${u}`):h=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a,this.t(h,c)};return De(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(...e){var s;return(s=this.translator)==null?void 0:s.translate(...e)}exists(...e){var s;return(s=this.translator)==null?void 0:s.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(a,e)))}loadNamespaces(e,s){const n=Lc();return this.options.ns?(De(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),s&&s(r)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=Lc();De(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{n.resolve(),s&&s(o)}),n):(s&&s(),Promise.resolve())}dir(e){var r,a;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((a=this.services)==null?void 0:a.languageUtils)||new mj(bj());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new Kd(e,s)}cloneInstance(e={},s=Oh){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new Kd(r);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((h,u)=>(h[u]={...c[d][u]},h),c[d]),c),{});a.store=new uj(l,r),a.services.resourceStore=a.store}return a.translator=new pj(a.services,r),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(r,s),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ss=Kd.createInstance();Ss.createInstance=Kd.createInstance;Ss.createInstance;Ss.dir;Ss.init;Ss.loadResources;Ss.reloadResources;Ss.use;Ss.changeLanguage;Ss.getFixedT;Ss.t;Ss.exists;Ss.setDefaultNamespace;Ss.hasLoadedNamespace;Ss.loadNamespaces;Ss.loadLanguages;const{slice:e$,forEach:t$}=[];function s$(t){return t$.call(e$.call(arguments,1),e=>{if(e)for(const s in e)t[s]===void 0&&(t[s]=e[s])}),t}function n$(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(t))}const jj=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,r$=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let a=`${t}=${r}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!jj.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!jj.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},Nj={create(t,e,s,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+s*60*1e3)),n&&(r.domain=n),document.cookie=r$(t,e,r)},read(t){const e=`${t}=`,s=document.cookie.split(";");for(let n=0;n<s.length;n++){let r=s[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var i$={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Nj.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:s,cookieMinutes:n,cookieDomain:r,cookieOptions:a}=e;s&&typeof document<"u"&&Nj.create(s,t,n,r,a)}},a$={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,s;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(s=o[l].substring(c+1))}}return s}},o$={name:"hash",lookup(t){var r;let{lookupHash:e,lookupFromHashIndex:s}=t,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(n=l[c].substring(d+1))}}if(n)return n;if(!n&&s>-1){const l=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(r=l[typeof s=="number"?s:0])==null?void 0:r.replace("/",""):void 0}}}return n}};let Eo=null;const Sj=()=>{if(Eo!==null)return Eo;try{if(Eo=typeof window<"u"&&window.localStorage!==null,!Eo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Eo=!1}return Eo};var l$={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Sj())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:s}=e;s&&Sj()&&window.localStorage.setItem(s,t)}};let To=null;const kj=()=>{if(To!==null)return To;try{if(To=typeof window<"u"&&window.sessionStorage!==null,!To)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{To=!1}return To};var c$={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&kj())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:s}=e;s&&kj()&&window.sessionStorage.setItem(s,t)}},d$={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:s,userLanguage:n,language:r}=navigator;if(s)for(let a=0;a<s.length;a++)e.push(s[a]);n&&e.push(n),r&&e.push(r)}return e.length>0?e:void 0}},u$={name:"htmlTag",lookup(t){let{htmlTag:e}=t,s;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},h$={name:"path",lookup(t){var r;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(r=s[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},f$={name:"subdomain",lookup(t){var r,a;let{lookupFromSubdomainIndex:e}=t;const s=typeof e=="number"?e+1:1,n=typeof window<"u"&&((a=(r=window.location)==null?void 0:r.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[s]}};let GP=!1;try{document.cookie,GP=!0}catch{}const YP=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];GP||YP.splice(1,1);const p$=()=>({order:YP,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class QP{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,s)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=s$(s,this.options||{},p$()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(i$),this.addDetector(a$),this.addDetector(l$),this.addDetector(c$),this.addDetector(d$),this.addDetector(u$),this.addDetector(h$),this.addDetector(f$),this.addDetector(o$)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return e.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(s=s.concat(r))}}),s=s.filter(n=>n!=null&&!n$(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||s.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}QP.type="languageDetector";const m$={headlines:"Headlines",myKliq:"My Kliq",messages:"Messages",alerts:"Alerts",events:"Events",profile:"Profile"},g$={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",submit:"Submit",back:"Back",next:"Next",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",ok:"OK",search:"Search",filter:"Filter",sort:"Sort"},y$={login:"Log In",logout:"Log Out",signup:"Sign Up",welcome:"Welcome to MyKliq",loginPrompt:"Please log in to continue"},v$={newPost:"What's on your mind?",sharePost:"Share Post",likePost:"Like",commentOn:"Comment",shareWith:"Share with",deletePost:"Delete Post",editPost:"Edit Post",noPostsYet:"No posts yet. Be the first to share something!"},x$={profilePicture:"Profile Picture",backgroundImage:"Background Image",profileInfo:"Profile Information",personalDetails:"Personal Details",editProfile:"Edit Profile",profileMusic:"Profile Music",currentMusic:"Current Profile Music",uploadMusic:"Upload Music",musicSettings:"Profile Music Settings"},b$={pushNotifications:"Push Notifications",enableNotifications:"Enable Notifications",receivingAlerts:"Receiving real-time alerts",getInstantAlerts:"Get instant kliq activity alerts",blockedNotifications:"Blocked - check browser settings",notificationBlocked:"To enable notifications, click the notification icon in your browser's address bar and allow notifications.",stayConnected:"Stay Connected",instantAlerts:"Instant kliq activity alerts",neverMiss:"Never miss friend interactions",realtimeInvitations:"Real-time event invitations"},w$={newMessage:"New Message",sendMessage:"Send Message",typeMessage:"Type a message...",noMessages:"No messages yet",conversation:"Conversation",incognitoMode:"Incognito Mode"},j$={newEvent:"New Event",createEvent:"Create Event",eventTitle:"Event Title",eventDescription:"Event Description",eventLocation:"Location",eventDate:"Date",eventTime:"Time",attending:"Attending",notAttending:"Not Attending",maybe:"Maybe",rsvp:"RSVP"},N$={selectLanguage:"Select Language",currentLanguage:"Current Language",autoDetected:"Auto-detected",changeLanguage:"Change Language"},S$={somethingWrong:"Something went wrong",tryAgain:"Please try again",networkError:"Network error",unauthorized:"Unauthorized access",notFound:"Not found",serverError:"Server error"},k$={saved:"Saved successfully",updated:"Updated successfully",deleted:"Deleted successfully",posted:"Posted successfully",sent:"Sent successfully"},C$={navigation:m$,common:g$,auth:y$,posts:v$,profile:x$,notifications:b$,messages:w$,events:j$,language:N$,errors:S$,success:k$},P$={headlines:"Noticias",myKliq:"Mi Kliq",messages:"Mensajes",alerts:"Alertas",events:"Eventos",profile:"Perfil"},_$={loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",submit:"Enviar",back:"Atrs",next:"Siguiente",close:"Cerrar",confirm:"Confirmar",yes:"S",no:"No",ok:"OK",search:"Buscar",filter:"Filtrar",sort:"Ordenar"},E$={login:"Iniciar Sesin",logout:"Cerrar Sesin",signup:"Registrarse",welcome:"Bienvenido a MyKliq",loginPrompt:"Por favor inicia sesin para continuar"},T$={newPost:"Qu ests pensando?",sharePost:"Compartir Publicacin",likePost:"Me Gusta",commentOn:"Comentar",shareWith:"Compartir con",deletePost:"Eliminar Publicacin",editPost:"Editar Publicacin",noPostsYet:"An no hay publicaciones. S el primero en compartir algo!"},M$={profilePicture:"Foto de Perfil",backgroundImage:"Imagen de Fondo",profileInfo:"Informacin del Perfil",personalDetails:"Detalles Personales",editProfile:"Editar Perfil",profileMusic:"Msica del Perfil",currentMusic:"Msica Actual del Perfil",uploadMusic:"Subir Msica",musicSettings:"Configuracin de Msica del Perfil"},A$={pushNotifications:"Notificaciones Push",enableNotifications:"Habilitar Notificaciones",receivingAlerts:"Recibiendo alertas en tiempo real",getInstantAlerts:"Recibe alertas instantneas de actividad del kliq",blockedNotifications:"Bloqueado - revisa la configuracin del navegador",notificationBlocked:"Para habilitar notificaciones, haz clic en el cono de notificacin en la barra de direcciones de tu navegador y permite las notificaciones.",stayConnected:"Mantente Conectado",instantAlerts:"Alertas instantneas de actividad del kliq",neverMiss:"Nunca te pierdas las interacciones de amigos",realtimeInvitations:"Invitaciones a eventos en tiempo real"},F$={newMessage:"Nuevo Mensaje",sendMessage:"Enviar Mensaje",typeMessage:"Escribe un mensaje...",noMessages:"An no hay mensajes",conversation:"Conversacin",incognitoMode:"Modo Incgnito"},R$={newEvent:"Nuevo Evento",createEvent:"Crear Evento",eventTitle:"Ttulo del Evento",eventDescription:"Descripcin del Evento",eventLocation:"Ubicacin",eventDate:"Fecha",eventTime:"Hora",attending:"Asistiendo",notAttending:"No Asistiendo",maybe:"Tal vez",rsvp:"Confirmar Asistencia"},I$={selectLanguage:"Seleccionar Idioma",currentLanguage:"Idioma Actual",autoDetected:"Detectado automticamente",changeLanguage:"Cambiar Idioma"},O$={somethingWrong:"Algo sali mal",tryAgain:"Por favor intntalo de nuevo",networkError:"Error de red",unauthorized:"Acceso no autorizado",notFound:"No encontrado",serverError:"Error del servidor"},D$={saved:"Guardado exitosamente",updated:"Actualizado exitosamente",deleted:"Eliminado exitosamente",posted:"Publicado exitosamente",sent:"Enviado exitosamente"},L$={navigation:P$,common:_$,auth:E$,posts:T$,profile:M$,notifications:A$,messages:F$,events:R$,language:I$,errors:O$,success:D$},$$={headlines:"Actualits",myKliq:"Mon Kliq",messages:"Messages",alerts:"Alertes",events:"vnements",profile:"Profil"},U$={loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",submit:"Soumettre",back:"Retour",next:"Suivant",close:"Fermer",confirm:"Confirmer",yes:"Oui",no:"Non",ok:"OK",search:"Rechercher",filter:"Filtrer",sort:"Trier"},z$={login:"Se Connecter",logout:"Se Dconnecter",signup:"S'inscrire",welcome:"Bienvenue sur MyKliq",loginPrompt:"Veuillez vous connecter pour continuer"},B$={newPost:" quoi pensez-vous ?",sharePost:"Partager la Publication",likePost:"J'aime",commentOn:"Commenter",shareWith:"Partager avec",deletePost:"Supprimer la Publication",editPost:"Modifier la Publication",noPostsYet:"Aucune publication pour le moment. Soyez le premier  partager quelque chose !"},V$={profilePicture:"Photo de Profil",backgroundImage:"Image d'Arrire-plan",profileInfo:"Informations du Profil",personalDetails:"Dtails Personnels",editProfile:"Modifier le Profil",profileMusic:"Musique du Profil",currentMusic:"Musique Actuelle du Profil",uploadMusic:"Tlcharger de la Musique",musicSettings:"Paramtres de Musique du Profil"},q$={pushNotifications:"Notifications Push",enableNotifications:"Activer les Notifications",receivingAlerts:"Rception d'alertes en temps rel",getInstantAlerts:"Recevez des alertes instantanes d'activit du kliq",blockedNotifications:"Bloqu - vrifiez les paramtres du navigateur",notificationBlocked:"Pour activer les notifications, cliquez sur l'icne de notification dans la barre d'adresse de votre navigateur et autorisez les notifications.",stayConnected:"Restez Connect",instantAlerts:"Alertes instantanes d'activit du kliq",neverMiss:"Ne manquez jamais les interactions d'amis",realtimeInvitations:"Invitations  des vnements en temps rel"},H$={newMessage:"Nouveau Message",sendMessage:"Envoyer un Message",typeMessage:"Tapez un message...",noMessages:"Aucun message pour le moment",conversation:"Conversation",incognitoMode:"Mode Incognito"},W$={newEvent:"Nouvel vnement",createEvent:"Crer un vnement",eventTitle:"Titre de l'vnement",eventDescription:"Description de l'vnement",eventLocation:"Lieu",eventDate:"Date",eventTime:"Heure",attending:"Participant",notAttending:"Non Participant",maybe:"Peut-tre",rsvp:"RSVP"},K$={selectLanguage:"Slectionner la Langue",currentLanguage:"Langue Actuelle",autoDetected:"Dtect automatiquement",changeLanguage:"Changer de Langue"},G$={somethingWrong:"Quelque chose s'est mal pass",tryAgain:"Veuillez ressayer",networkError:"Erreur rseau",unauthorized:"Accs non autoris",notFound:"Non trouv",serverError:"Erreur du serveur"},Y$={saved:"Enregistr avec succs",updated:"Mis  jour avec succs",deleted:"Supprim avec succs",posted:"Publi avec succs",sent:"Envoy avec succs"},Q$={navigation:$$,common:U$,auth:z$,posts:B$,profile:V$,notifications:q$,messages:H$,events:W$,language:K$,errors:G$,success:Y$},Z$={headlines:"Schlagzeilen",myKliq:"Mein Kliq",messages:"Nachrichten",alerts:"Benachrichtigungen",events:"Veranstaltungen",profile:"Profil"},X$={loading:"Ldt...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",submit:"Senden",back:"Zurck",next:"Weiter",close:"Schlieen",confirm:"Besttigen",yes:"Ja",no:"Nein",ok:"OK",search:"Suchen",filter:"Filtern",sort:"Sortieren"},J$={login:"Anmelden",logout:"Abmelden",signup:"Registrieren",welcome:"Willkommen bei MyKliq",loginPrompt:"Bitte melden Sie sich an, um fortzufahren"},e6={newPost:"Was denkst du?",sharePost:"Beitrag Teilen",likePost:"Gefllt mir",commentOn:"Kommentieren",shareWith:"Teilen mit",deletePost:"Beitrag Lschen",editPost:"Beitrag Bearbeiten",noPostsYet:"Noch keine Beitrge. Sei der Erste, der etwas teilt!"},t6={profilePicture:"Profilbild",backgroundImage:"Hintergrundbild",profileInfo:"Profil-Informationen",personalDetails:"Persnliche Details",editProfile:"Profil Bearbeiten",profileMusic:"Profil-Musik",currentMusic:"Aktuelle Profil-Musik",uploadMusic:"Musik Hochladen",musicSettings:"Profil-Musik Einstellungen"},s6={pushNotifications:"Push-Benachrichtigungen",enableNotifications:"Benachrichtigungen Aktivieren",receivingAlerts:"Empfangen von Echtzeit-Benachrichtigungen",getInstantAlerts:"Erhalten Sie sofortige Kliq-Aktivitts-Benachrichtigungen",blockedNotifications:"Blockiert - Browsereinstellungen prfen",notificationBlocked:"Um Benachrichtigungen zu aktivieren, klicken Sie auf das Benachrichtigungssymbol in der Adressleiste Ihres Browsers und erlauben Sie Benachrichtigungen.",stayConnected:"Verbunden Bleiben",instantAlerts:"Sofortige Kliq-Aktivitts-Benachrichtigungen",neverMiss:"Verpassen Sie nie Freunde-Interaktionen",realtimeInvitations:"Echtzeit-Veranstaltungseinladungen"},n6={newMessage:"Neue Nachricht",sendMessage:"Nachricht Senden",typeMessage:"Nachricht eingeben...",noMessages:"Noch keine Nachrichten",conversation:"Unterhaltung",incognitoMode:"Inkognito-Modus"},r6={newEvent:"Neue Veranstaltung",createEvent:"Veranstaltung Erstellen",eventTitle:"Veranstaltungstitel",eventDescription:"Veranstaltungsbeschreibung",eventLocation:"Ort",eventDate:"Datum",eventTime:"Zeit",attending:"Teilnehmend",notAttending:"Nicht Teilnehmend",maybe:"Vielleicht",rsvp:"RSVP"},i6={selectLanguage:"Sprache Auswhlen",currentLanguage:"Aktuelle Sprache",autoDetected:"Automatisch erkannt",changeLanguage:"Sprache ndern"},a6={somethingWrong:"Etwas ist schief gelaufen",tryAgain:"Bitte versuchen Sie es erneut",networkError:"Netzwerkfehler",unauthorized:"Unbefugter Zugang",notFound:"Nicht gefunden",serverError:"Serverfehler"},o6={saved:"Erfolgreich gespeichert",updated:"Erfolgreich aktualisiert",deleted:"Erfolgreich gelscht",posted:"Erfolgreich verffentlicht",sent:"Erfolgreich gesendet"},l6={navigation:Z$,common:X$,auth:J$,posts:e6,profile:t6,notifications:s6,messages:n6,events:r6,language:i6,errors:a6,success:o6},c6={headlines:"Manchetes",myKliq:"Meu Kliq",messages:"Mensagens",alerts:"Alertas",events:"Eventos",profile:"Perfil"},d6={loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",submit:"Enviar",back:"Voltar",next:"Prximo",close:"Fechar",confirm:"Confirmar",yes:"Sim",no:"No",ok:"OK",search:"Pesquisar",filter:"Filtrar",sort:"Classificar"},u6={login:"Entrar",logout:"Sair",signup:"Cadastrar",welcome:"Bem-vindo ao MyKliq",loginPrompt:"Por favor, faa login para continuar"},h6={newPost:"No que voc est pensando?",sharePost:"Compartilhar Post",likePost:"Curtir",commentOn:"Comentar",shareWith:"Compartilhar com",deletePost:"Excluir Post",editPost:"Editar Post",noPostsYet:"Ainda no h posts. Seja o primeiro a compartilhar algo!"},f6={profilePicture:"Foto do Perfil",backgroundImage:"Imagem de Fundo",profileInfo:"Informaes do Perfil",personalDetails:"Detalhes Pessoais",editProfile:"Editar Perfil",profileMusic:"Msica do Perfil",currentMusic:"Msica Atual do Perfil",uploadMusic:"Enviar Msica",musicSettings:"Configuraes de Msica do Perfil"},p6={pushNotifications:"Notificaes Push",enableNotifications:"Ativar Notificaes",receivingAlerts:"Recebendo alertas em tempo real",getInstantAlerts:"Receba alertas instantneos de atividade do kliq",blockedNotifications:"Bloqueado - verifique as configuraes do navegador",notificationBlocked:"Para ativar notificaes, clique no cone de notificao na barra de endereos do seu navegador e permita as notificaes.",stayConnected:"Permanea Conectado",instantAlerts:"Alertas instantneos de atividade do kliq",neverMiss:"Nunca perca interaes de amigos",realtimeInvitations:"Convites para eventos em tempo real"},m6={newMessage:"Nova Mensagem",sendMessage:"Enviar Mensagem",typeMessage:"Digite uma mensagem...",noMessages:"Ainda no h mensagens",conversation:"Conversa",incognitoMode:"Modo Incgnito"},g6={newEvent:"Novo Evento",createEvent:"Criar Evento",eventTitle:"Ttulo do Evento",eventDescription:"Descrio do Evento",eventLocation:"Local",eventDate:"Data",eventTime:"Hora",attending:"Participando",notAttending:"No Participando",maybe:"Talvez",rsvp:"RSVP"},y6={selectLanguage:"Selecionar Idioma",currentLanguage:"Idioma Atual",autoDetected:"Detectado automaticamente",changeLanguage:"Alterar Idioma"},v6={somethingWrong:"Algo deu errado",tryAgain:"Por favor, tente novamente",networkError:"Erro de rede",unauthorized:"Acesso no autorizado",notFound:"No encontrado",serverError:"Erro do servidor"},x6={saved:"Salvo com sucesso",updated:"Atualizado com sucesso",deleted:"Excludo com sucesso",posted:"Postado com sucesso",sent:"Enviado com sucesso"},b6={navigation:c6,common:d6,auth:u6,posts:h6,profile:f6,notifications:p6,messages:m6,events:g6,language:y6,errors:v6,success:x6},w6={headlines:"Notizie",myKliq:"Il Mio Kliq",messages:"Messaggi",alerts:"Avvisi",events:"Eventi",profile:"Profilo"},j6={loading:"Caricamento...",save:"Salva",cancel:"Annulla",delete:"Elimina",edit:"Modifica",submit:"Invia",back:"Indietro",next:"Avanti",close:"Chiudi",confirm:"Conferma",yes:"S",no:"No",ok:"OK",search:"Cerca",filter:"Filtra",sort:"Ordina"},N6={login:"Accedi",logout:"Esci",signup:"Registrati",welcome:"Benvenuto su MyKliq",loginPrompt:"Per favore accedi per continuare"},S6={newPost:"A cosa stai pensando?",sharePost:"Condividi Post",likePost:"Mi Piace",commentOn:"Commenta",shareWith:"Condividi con",deletePost:"Elimina Post",editPost:"Modifica Post",noPostsYet:"Ancora nessun post. Sii il primo a condividere qualcosa!"},k6={profilePicture:"Foto Profilo",backgroundImage:"Immagine di Sfondo",profileInfo:"Informazioni Profilo",personalDetails:"Dettagli Personali",editProfile:"Modifica Profilo",profileMusic:"Musica del Profilo",currentMusic:"Musica Attuale del Profilo",uploadMusic:"Carica Musica",musicSettings:"Impostazioni Musica del Profilo"},C6={pushNotifications:"Notifiche Push",enableNotifications:"Abilita Notifiche",receivingAlerts:"Ricevendo avvisi in tempo reale",getInstantAlerts:"Ricevi avvisi istantanei di attivit del kliq",blockedNotifications:"Bloccato - controlla le impostazioni del browser",notificationBlocked:"Per abilitare le notifiche, clicca sull'icona delle notifiche nella barra degli indirizzi del browser e consenti le notifiche.",stayConnected:"Rimani Connesso",instantAlerts:"Avvisi istantanei di attivit del kliq",neverMiss:"Non perdere mai le interazioni degli amici",realtimeInvitations:"Inviti a eventi in tempo reale"},P6={newMessage:"Nuovo Messaggio",sendMessage:"Invia Messaggio",typeMessage:"Scrivi un messaggio...",noMessages:"Ancora nessun messaggio",conversation:"Conversazione",incognitoMode:"Modalit Incognita"},_6={newEvent:"Nuovo Evento",createEvent:"Crea Evento",eventTitle:"Titolo Evento",eventDescription:"Descrizione Evento",eventLocation:"Posizione",eventDate:"Data",eventTime:"Ora",attending:"Partecipando",notAttending:"Non Partecipando",maybe:"Forse",rsvp:"RSVP"},E6={selectLanguage:"Seleziona Lingua",currentLanguage:"Lingua Attuale",autoDetected:"Rilevato automaticamente",changeLanguage:"Cambia Lingua"},T6={somethingWrong:"Qualcosa  andato storto",tryAgain:"Per favore riprova",networkError:"Errore di rete",unauthorized:"Accesso non autorizzato",notFound:"Non trovato",serverError:"Errore del server"},M6={saved:"Salvato con successo",updated:"Aggiornato con successo",deleted:"Eliminato con successo",posted:"Pubblicato con successo",sent:"Inviato con successo"},A6={navigation:w6,common:j6,auth:N6,posts:S6,profile:k6,notifications:C6,messages:P6,events:_6,language:E6,errors:T6,success:M6},F6={headlines:"",myKliq:"Kliq",messages:"",alerts:"",events:"",profile:""},R6={loading:"...",save:"",cancel:"",delete:"",edit:"",submit:"",back:"",next:"",close:"",confirm:"",yes:"",no:"",ok:"",search:"",filter:"",sort:""},I6={login:"",logout:"",signup:"",welcome:"MyKliq",loginPrompt:""},O6={newPost:"",sharePost:"",likePost:"",commentOn:"",shareWith:"",deletePost:"",editPost:"",noPostsYet:""},D6={profilePicture:"",backgroundImage:"",profileInfo:"",personalDetails:"",editProfile:"",profileMusic:"",currentMusic:"",uploadMusic:"",musicSettings:""},L6={pushNotifications:"",enableNotifications:"",receivingAlerts:"",getInstantAlerts:"kliq",blockedNotifications:" - ",notificationBlocked:"",stayConnected:"",instantAlerts:"kliq",neverMiss:"",realtimeInvitations:""},$6={newMessage:"",sendMessage:"",typeMessage:"...",noMessages:"",conversation:"",incognitoMode:""},U6={newEvent:"",createEvent:"",eventTitle:"",eventDescription:"",eventLocation:"",eventDate:"",eventTime:"",attending:"",notAttending:"",maybe:"",rsvp:""},z6={selectLanguage:"",currentLanguage:"",autoDetected:"",changeLanguage:""},B6={somethingWrong:"",tryAgain:"",networkError:"",unauthorized:"",notFound:"",serverError:""},V6={saved:"",updated:"",deleted:"",posted:"",sent:""},q6={navigation:F6,common:R6,auth:I6,posts:O6,profile:D6,notifications:L6,messages:$6,events:U6,language:z6,errors:B6,success:V6},H6={headlines:"",myKliq:"Kliq",messages:"",alerts:"",events:"",profile:""},W6={loading:"...",save:"",cancel:"",delete:"",edit:"",submit:"",back:"",next:"",close:"",confirm:"",yes:"",no:"",ok:"OK",search:"",filter:"",sort:""},K6={login:"",logout:"",signup:"",welcome:"MyKliq",loginPrompt:""},G6={newPost:"",sharePost:"",likePost:"",commentOn:"",shareWith:"",deletePost:"",editPost:"",noPostsYet:""},Y6={profilePicture:"",backgroundImage:"",profileInfo:"",personalDetails:"",editProfile:"",profileMusic:"",currentMusic:"",uploadMusic:"",musicSettings:""},Q6={pushNotifications:"",enableNotifications:"",receivingAlerts:"",getInstantAlerts:"kliq",blockedNotifications:" - ",notificationBlocked:"",stayConnected:"",instantAlerts:"kliq",neverMiss:"",realtimeInvitations:""},Z6={newMessage:"",sendMessage:"",typeMessage:"...",noMessages:"",conversation:"",incognitoMode:""},X6={newEvent:"",createEvent:"",eventTitle:"",eventDescription:"",eventLocation:"",eventDate:"",eventTime:"",attending:"",notAttending:"",maybe:"",rsvp:"RSVP"},J6={selectLanguage:"",currentLanguage:"",autoDetected:"",changeLanguage:""},eU={somethingWrong:"",tryAgain:"",networkError:"",unauthorized:"",notFound:"",serverError:""},tU={saved:"",updated:"",deleted:"",posted:"",sent:""},sU={navigation:H6,common:W6,auth:K6,posts:G6,profile:Y6,notifications:Q6,messages:Z6,events:X6,language:J6,errors:eU,success:tU},nU={headlines:"",myKliq:" Kliq",messages:"",alerts:"",events:"",profile:""},rU={loading:" ...",save:"",cancel:"",delete:"",edit:"",submit:"",back:"",next:"",close:"",confirm:"",yes:"",no:"",ok:"",search:"",filter:"",sort:""},iU={login:"",logout:"",signup:"",welcome:"MyKliq   ",loginPrompt:" "},aU={newPost:"  ?",sharePost:" ",likePost:"",commentOn:"",shareWith:"",deletePost:" ",editPost:" ",noPostsYet:"  .    !"},oU={profilePicture:" ",backgroundImage:" ",profileInfo:" ",personalDetails:" ",editProfile:" ",profileMusic:" ",currentMusic:"  ",uploadMusic:" ",musicSettings:"  "},lU={pushNotifications:" ",enableNotifications:" ",receivingAlerts:"   ",getInstantAlerts:"kliq    ",blockedNotifications:" -   ",notificationBlocked:"         .",stayConnected:" ",instantAlerts:"kliq   ",neverMiss:"   ",realtimeInvitations:"  "},cU={newMessage:" ",sendMessage:" ",typeMessage:" ...",noMessages:"  ",conversation:"",incognitoMode:" "},dU={newEvent:" ",createEvent:" ",eventTitle:" ",eventDescription:" ",eventLocation:"",eventDate:"",eventTime:"",attending:"",notAttending:"",maybe:"",rsvp:"  "},uU={selectLanguage:" ",currentLanguage:" ",autoDetected:" ",changeLanguage:" "},hU={somethingWrong:" ",tryAgain:"  ",networkError:" ",unauthorized:"  ",notFound:"  ",serverError:" "},fU={saved:" ",updated:" ",deleted:" ",posted:" ",sent:" "},pU={navigation:nU,common:rU,auth:iU,posts:aU,profile:oU,notifications:lU,messages:cU,events:dU,language:uU,errors:hU,success:fU},mU={headlines:" ",myKliq:"",messages:"",alerts:"",events:"",profile:" "},gU={loading:" ...",save:"",cancel:"",delete:"",edit:"",submit:"",back:"",next:"",close:"",confirm:"",yes:"",no:"",ok:"",search:"",filter:"",sort:""},yU={login:" ",logout:" ",signup:" ",welcome:"   MyKliq",loginPrompt:"   "},vU={newPost:"   ",sharePost:" ",likePost:"",commentOn:"",shareWith:" ",deletePost:" ",editPost:" ",noPostsYet:"   .     !"},xU={profilePicture:"  ",backgroundImage:" ",profileInfo:"  ",personalDetails:" ",editProfile:"  ",profileMusic:"  ",currentMusic:"   ",uploadMusic:" ",musicSettings:"   "},bU={pushNotifications:" ",enableNotifications:" ",receivingAlerts:"    ",getInstantAlerts:"     ",blockedNotifications:" -    ",notificationBlocked:"          .",stayConnected:" ",instantAlerts:"   ",neverMiss:"    ",realtimeInvitations:"    "},wU={newMessage:" ",sendMessage:" ",typeMessage:" ...",noMessages:"   ",conversation:"",incognitoMode:" "},jU={newEvent:" ",createEvent:" ",eventTitle:" ",eventDescription:" ",eventLocation:"",eventDate:"",eventTime:"",attending:"",notAttending:" ",maybe:"",rsvp:" "},NU={selectLanguage:" ",currentLanguage:" ",autoDetected:"  ",changeLanguage:" "},SU={somethingWrong:"  ",tryAgain:"   ",networkError:"  ",unauthorized:"  ",notFound:" ",serverError:"  "},kU={saved:"  ",updated:"  ",deleted:"  ",posted:"  ",sent:"  "},CU={navigation:mU,common:gU,auth:yU,posts:vU,profile:xU,notifications:bU,messages:wU,events:jU,language:NU,errors:SU,success:kU},PU={en:{translation:C$},es:{translation:L$},fr:{translation:Q$},de:{translation:l6},pt:{translation:b6},it:{translation:A6},zh:{translation:q6},ja:{translation:sU},ko:{translation:pU},ar:{translation:CU}};Ss.use(QP).use(_L).init({resources:PU,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["navigator","localStorage","sessionStorage","cookie","htmlTag"],lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",lookupCookie:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","sessionStorage","cookie"],excludeCacheFor:["cimode"]}});const _U=Qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=p.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...r},a)=>{const o=n?w2:"button";return i.jsx(o,{className:te(_U({variant:e,size:s,className:t})),ref:a,...r})});D.displayName="Button";const he=p.forwardRef(({className:t,type:e,...s},n)=>i.jsx("input",{type:e,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));he.displayName="Input";const X=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));X.displayName="Card";const Ce=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("flex flex-col space-y-1.5 p-6",t),...e}));Ce.displayName="CardHeader";const Pe=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("text-2xl font-semibold leading-none tracking-tight",t),...e}));Pe.displayName="CardTitle";const Sr=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("text-sm text-muted-foreground",t),...e}));Sr.displayName="CardDescription";const J=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("p-6 pt-0",t),...e}));J.displayName="CardContent";const EU=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("flex items-center p-6 pt-0",t),...e}));EU.displayName="CardFooter";var Cg="focusScope.autoFocusOnMount",Pg="focusScope.autoFocusOnUnmount",Cj={bubbles:!1,cancelable:!0},TU="FocusScope",Ju=p.forwardRef((t,e)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=mt(r),h=mt(a),u=p.useRef(null),f=Le(e,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?u.current=S:wi(u.current,{select:!0})},x=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||wi(u.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&wi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){_j.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Cg,Cj);l.addEventListener(Cg,d),l.dispatchEvent(y),y.defaultPrevented||(MU(OU(ZP(l)),{select:!0}),document.activeElement===g&&wi(l))}return()=>{l.removeEventListener(Cg,d),setTimeout(()=>{const y=new CustomEvent(Pg,Cj);l.addEventListener(Pg,h),l.dispatchEvent(y),y.defaultPrevented||wi(g??document.body,{select:!0}),l.removeEventListener(Pg,h),_j.remove(m)},0)}}},[l,d,h,m]);const b=p.useCallback(g=>{if(!s&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[w,S]=AU(v);w&&S?!g.shiftKey&&y===S?(g.preventDefault(),s&&wi(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),s&&wi(S,{select:!0})):y===v&&g.preventDefault()}},[s,n,m.paused]);return i.jsx(Ne.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});Ju.displayName=TU;function MU(t,{select:e=!1}={}){const s=document.activeElement;for(const n of t)if(wi(n,{select:e}),document.activeElement!==s)return}function AU(t){const e=ZP(t),s=Pj(e,t),n=Pj(e.reverse(),t);return[s,n]}function ZP(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Pj(t,e){for(const s of t)if(!FU(s,{upTo:e}))return s}function FU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RU(t){return t instanceof HTMLInputElement&&"select"in t}function wi(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&RU(t)&&e&&t.select()}}var _j=IU();function IU(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=Ej(t,e),t.unshift(e)},remove(e){var s;t=Ej(t,e),(s=t[0])==null||s.resume()}}}function Ej(t,e){const s=[...t],n=s.indexOf(e);return n!==-1&&s.splice(n,1),s}function OU(t){return t.filter(e=>e.tagName!=="A")}var _g=0;function jm(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Tj()),document.body.insertAdjacentElement("beforeend",t[1]??Tj()),_g++,()=>{_g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_g--}},[])}function Tj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wr=function(){return wr=Object.assign||function(e){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wr.apply(this,arguments)};function XP(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function DU(t,e,s){if(s||arguments.length===2)for(var n=0,r=e.length,a;n<r;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",LU="with-scroll-bars-hidden",$U="--removed-body-scroll-bar-size";function Eg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UU(t,e){var s=p.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(n){var r=s.value;r!==n&&(s.value=n,s.callback(n,r))}}}})[0];return s.callback=e,s.facade}var zU=typeof window<"u"?p.useLayoutEffect:p.useEffect,Mj=new WeakMap;function BU(t,e){var s=UU(null,function(n){return t.forEach(function(r){return Eg(r,n)})});return zU(function(){var n=Mj.get(s);if(n){var r=new Set(n),a=new Set(t),o=s.current;r.forEach(function(l){a.has(l)||Eg(l,null)}),a.forEach(function(l){r.has(l)||Eg(l,o)})}Mj.set(s,t)},[t]),s}function VU(t){return t}function qU(t,e){e===void 0&&(e=VU);var s=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(a){var o=e(a,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),s}}}};return r}function HU(t){t===void 0&&(t={});var e=qU(null);return e.options=wr({async:!0,ssr:!1},t),e}var JP=function(t){var e=t.sideCar,s=XP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,wr({},s))};JP.isSideCarExport=!0;function WU(t,e){return t.useMedium(e),JP}var e_=HU(),Tg=function(){},Nm=p.forwardRef(function(t,e){var s=p.useRef(null),n=p.useState({onScrollCapture:Tg,onWheelCapture:Tg,onTouchMoveCapture:Tg}),r=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,u=t.shards,f=t.sideCar,m=t.noIsolation,b=t.inert,g=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,v=t.gapMode,w=XP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,N=BU([s,e]),P=wr(wr({},w),r);return p.createElement(p.Fragment,null,h&&p.createElement(S,{sideCar:e_,removeScrollBar:d,shards:u,noIsolation:m,inert:b,setCallbacks:a,allowPinchZoom:!!g,lockRef:s,gapMode:v}),o?p.cloneElement(p.Children.only(l),wr(wr({},P),{ref:N})):p.createElement(y,wr({},P,{className:c,ref:N}),l))});Nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nm.classNames={fullWidth:vf,zeroRight:yf};var KU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KU();return e&&t.setAttribute("nonce",e),t}function YU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function QU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ZU=function(){var t=0,e=null;return{add:function(s){t==0&&(e=GU())&&(YU(e,s),QU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XU=function(){var t=ZU();return function(e,s){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},t_=function(){var t=XU(),e=function(s){var n=s.styles,r=s.dynamic;return t(n,r),null};return e},JU={left:0,top:0,right:0,gap:0},Mg=function(t){return parseInt(t||"",10)||0},e8=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Mg(s),Mg(n),Mg(r)]},t8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JU;var e=e8(t),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-s+e[2]-e[0])}},s8=t_(),cl="data-scroll-locked",n8=function(t,e,s,n){var r=t.left,a=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(LU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(cl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(cl,`] {
    `).concat($U,": ").concat(l,`px;
  }
`)},Aj=function(){var t=parseInt(document.body.getAttribute(cl)||"0",10);return isFinite(t)?t:0},r8=function(){p.useEffect(function(){return document.body.setAttribute(cl,(Aj()+1).toString()),function(){var t=Aj()-1;t<=0?document.body.removeAttribute(cl):document.body.setAttribute(cl,t.toString())}},[])},i8=function(t){var e=t.noRelative,s=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;r8();var a=p.useMemo(function(){return t8(r)},[r]);return p.createElement(s8,{styles:n8(a,!e,r,s?"":"!important")})},Ev=!1;if(typeof window<"u")try{var Dh=Object.defineProperty({},"passive",{get:function(){return Ev=!0,!0}});window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{Ev=!1}var Mo=Ev?{passive:!1}:!1,a8=function(t){return t.tagName==="TEXTAREA"},s_=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!a8(t)&&s[e]==="visible")},o8=function(t){return s_(t,"overflowY")},l8=function(t){return s_(t,"overflowX")},Fj=function(t,e){var s=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=n_(t,n);if(r){var a=r_(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},c8=function(t){var e=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;return[e,s,n]},d8=function(t){var e=t.scrollLeft,s=t.scrollWidth,n=t.clientWidth;return[e,s,n]},n_=function(t,e){return t==="v"?o8(e):l8(e)},r_=function(t,e){return t==="v"?c8(e):d8(e)},u8=function(t,e){return t==="h"&&e==="rtl"?-1:1},h8=function(t,e,s,n,r){var a=u8(t,window.getComputedStyle(e).direction),o=a*n,l=s.target,c=e.contains(l),d=!1,h=o>0,u=0,f=0;do{var m=r_(t,l),b=m[0],g=m[1],x=m[2],y=g-x-a*b;(b||y)&&n_(t,l)&&(u+=y,f+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(u)<1||!r)||!h&&(Math.abs(f)<1||!r))&&(d=!0),d},Lh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rj=function(t){return[t.deltaX,t.deltaY]},Ij=function(t){return t&&"current"in t?t.current:t},f8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},p8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},m8=0,Ao=[];function g8(t){var e=p.useRef([]),s=p.useRef([0,0]),n=p.useRef(),r=p.useState(m8++)[0],a=p.useState(t_)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var g=DU([t.lockRef.current],(t.shards||[]).map(Ij),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Lh(g),v=s.current,w="deltaX"in g?g.deltaX:v[0]-y[0],S="deltaY"in g?g.deltaY:v[1]-y[1],N,P=g.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&P.type==="range")return!1;var _=Fj(C,P);if(!_)return!0;if(_?N=C:(N=C==="v"?"h":"v",_=Fj(C,P)),!_)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=N),!N)return!0;var A=n.current||N;return h8(A,x,g,A==="h"?w:S,!0)},[]),c=p.useCallback(function(g){var x=g;if(!(!Ao.length||Ao[Ao.length-1]!==a)){var y="deltaY"in x?Rj(x):Lh(x),v=e.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&f8(N.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(Ij).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=w.length>0?l(x,w[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),d=p.useCallback(function(g,x,y,v){var w={name:g,delta:x,target:y,should:v,shadowParent:y8(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),h=p.useCallback(function(g){s.current=Lh(g),n.current=void 0},[]),u=p.useCallback(function(g){d(g.type,Rj(g),g.target,l(g,t.lockRef.current))},[]),f=p.useCallback(function(g){d(g.type,Lh(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return Ao.push(a),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Mo),document.addEventListener("touchmove",c,Mo),document.addEventListener("touchstart",h,Mo),function(){Ao=Ao.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Mo),document.removeEventListener("touchmove",c,Mo),document.removeEventListener("touchstart",h,Mo)}},[]);var m=t.removeScrollBar,b=t.inert;return p.createElement(p.Fragment,null,b?p.createElement(a,{styles:p8(r)}):null,m?p.createElement(i8,{gapMode:t.gapMode}):null)}function y8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const v8=WU(e_,g8);var eh=p.forwardRef(function(t,e){return p.createElement(Nm,wr({},t,{ref:e,sideCar:v8}))});eh.classNames=Nm.classNames;var x8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fo=new WeakMap,$h=new WeakMap,Uh={},Ag=0,i_=function(t){return t&&(t.host||i_(t.parentNode))},b8=function(t,e){return e.map(function(s){if(t.contains(s))return s;var n=i_(s);return n&&t.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},w8=function(t,e,s,n){var r=b8(e,Array.isArray(t)?t:[t]);Uh[s]||(Uh[s]=new WeakMap);var a=Uh[s],o=[],l=new Set,c=new Set(r),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};r.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))h(f);else try{var m=f.getAttribute(n),b=m!==null&&m!=="false",g=(Fo.get(f)||0)+1,x=(a.get(f)||0)+1;Fo.set(f,g),a.set(f,x),o.push(f),g===1&&b&&$h.set(f,!0),x===1&&f.setAttribute(s,"true"),b||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return h(e),l.clear(),Ag++,function(){o.forEach(function(u){var f=Fo.get(u)-1,m=a.get(u)-1;Fo.set(u,f),a.set(u,m),f||($h.has(u)||u.removeAttribute(n),$h.delete(u)),m||u.removeAttribute(s)}),Ag--,Ag||(Fo=new WeakMap,Fo=new WeakMap,$h=new WeakMap,Uh={})}},Sm=function(t,e,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=x8(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),w8(n,r,s,"aria-hidden")):function(){return null}},eb="Dialog",[a_,eJ]=Ns(eb),[j8,ar]=a_(eb),o_=t=>{const{__scopeDialog:e,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d=!1,h]=Ar({prop:n,defaultProp:r,onChange:a});return i.jsx(j8,{scope:e,triggerRef:l,contentRef:c,contentId:Qn(),titleId:Qn(),descriptionId:Qn(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(u=>!u),[h]),modal:o,children:s})};o_.displayName=eb;var l_="DialogTrigger",c_=p.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=ar(l_,s),a=Le(e,r.triggerRef);return i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":nb(r.open),...n,ref:a,onClick:ne(t.onClick,r.onOpenToggle)})});c_.displayName=l_;var tb="DialogPortal",[N8,d_]=a_(tb,{forceMount:void 0}),u_=t=>{const{__scopeDialog:e,forceMount:s,children:n,container:r}=t,a=ar(tb,e);return i.jsx(N8,{scope:e,forceMount:s,children:p.Children.map(n,o=>i.jsx(us,{present:s||a.open,children:i.jsx(gc,{asChild:!0,container:r,children:o})}))})};u_.displayName=tb;var ap="DialogOverlay",h_=p.forwardRef((t,e)=>{const s=d_(ap,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=ar(ap,t.__scopeDialog);return a.modal?i.jsx(us,{present:n||a.open,children:i.jsx(k8,{...r,ref:e})}):null});h_.displayName=ap;var S8=na("DialogOverlay.RemoveScroll"),k8=p.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=ar(ap,s);return i.jsx(eh,{as:S8,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(Ne.div,{"data-state":nb(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mo="DialogContent",f_=p.forwardRef((t,e)=>{const s=d_(mo,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,a=ar(mo,t.__scopeDialog);return i.jsx(us,{present:n||a.open,children:a.modal?i.jsx(C8,{...r,ref:e}):i.jsx(P8,{...r,ref:e})})});f_.displayName=mo;var C8=p.forwardRef((t,e)=>{const s=ar(mo,t.__scopeDialog),n=p.useRef(null),r=Le(e,s.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return Sm(a)},[]),i.jsx(p_,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,a=>a.preventDefault())})}),P8=p.forwardRef((t,e)=>{const s=ar(mo,t.__scopeDialog),n=p.useRef(!1),r=p.useRef(!1);return i.jsx(p_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),p_=p.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=t,l=ar(mo,s),c=p.useRef(null),d=Le(e,c);return jm(),i.jsxs(i.Fragment,{children:[i.jsx(Ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(So,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(_8,{titleId:l.titleId}),i.jsx(T8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sb="DialogTitle",m_=p.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=ar(sb,s);return i.jsx(Ne.h2,{id:r.titleId,...n,ref:e})});m_.displayName=sb;var g_="DialogDescription",y_=p.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=ar(g_,s);return i.jsx(Ne.p,{id:r.descriptionId,...n,ref:e})});y_.displayName=g_;var v_="DialogClose",x_=p.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=ar(v_,s);return i.jsx(Ne.button,{type:"button",...n,ref:e,onClick:ne(t.onClick,()=>r.onOpenChange(!1))})});x_.displayName=v_;function nb(t){return t?"open":"closed"}var b_="DialogTitleWarning",[tJ,w_]=O3(b_,{contentName:mo,titleName:sb,docsSlug:"dialog"}),_8=({titleId:t})=>{const e=w_(b_),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},E8="DialogDescriptionWarning",T8=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w_(E8).contentName}}.`;return p.useEffect(()=>{var a;const r=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},M8=o_,A8=c_,F8=u_,j_=h_,N_=f_,S_=m_,k_=y_,R8=x_;const Yt=M8,mi=A8,I8=F8,C_=p.forwardRef(({className:t,...e},s)=>i.jsx(j_,{ref:s,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));C_.displayName=j_.displayName;const Ut=p.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(I8,{children:[i.jsx(C_,{}),i.jsxs(N_,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white text-black p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,i.jsxs(R8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ds,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=N_.displayName;const zt=({className:t,...e})=>i.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zt.displayName="DialogHeader";const Bt=p.forwardRef(({className:t,...e},s)=>i.jsx(S_,{ref:s,className:te("text-lg font-semibold leading-none tracking-tight",t),...e}));Bt.displayName=S_.displayName;const jr=p.forwardRef(({className:t,...e},s)=>i.jsx(k_,{ref:s,className:te("text-sm text-muted-foreground",t),...e}));jr.displayName=k_.displayName;var O8="Label",P_=p.forwardRef((t,e)=>i.jsx(Ne.label,{...t,ref:e,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));P_.displayName=O8;var __=P_;const D8=Qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=p.forwardRef(({className:t,...e},s)=>i.jsx(__,{ref:s,className:te(D8(),t),...e}));je.displayName=__.displayName;function rb({label:t,error:e,className:s,...n}){return i.jsxs("div",{className:"space-y-2",children:[t&&i.jsx(je,{htmlFor:n.id,children:t}),i.jsx(he,{type:"tel",placeholder:"+1 (555) 123-4567",className:te("bg-input border-border text-foreground placeholder-muted-foreground",e&&"border-destructive",s),...n}),e&&i.jsx("p",{className:"text-sm text-destructive",children:e})]})}function dn(){const[t,e]=p.useState("text-black"),{data:s}=it({queryKey:["/api/user/theme"]});return p.useEffect(()=>{if(s!=null&&s.backgroundColor){const n=s.backgroundColor==="#000000"||s.backgroundColor==="black"||s.backgroundColor.startsWith("#")&&parseInt(s.backgroundColor.slice(1),16)<3355443;e(n?"text-white":"text-black")}else e("text-black")},[s]),i.jsx("footer",{className:"mt-12 pt-8 border-t border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsxs("div",{className:`flex flex-col md:flex-row justify-between items-center gap-4 text-sm ${t}`,children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[i.jsx("span",{className:"font-medium",children:" 2025 MyKliq"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ls,{href:"/privacy-policy",className:"hover:opacity-75 transition-opacity",children:"Privacy Policy"}),i.jsx(ls,{href:"/disclaimer",className:"hover:opacity-75 transition-opacity",children:"Disclaimer"})]})]}),i.jsx("div",{className:"text-center md:text-right",children:i.jsx("p",{className:"max-w-md",children:"By using MyKliq, you agree to our terms of service and privacy policy. Content shared is subject to community guidelines."})})]}),i.jsx("div",{className:`text-center mt-4 pt-4 border-t border-border ${t}`,children:i.jsx("a",{href:"https://futureshockholdings.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:opacity-75 transition-opacity",children:"Owned and Operated by Futureshock Holdings, LLC"})})]})})}function Oj(){const[t,e]=p.useState(""),[s,n]=p.useState(""),[r,a]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(""),{toast:h}=Ct(),u=async()=>{try{const b=await(await fe("POST","/api/auth/send-verification",{phoneNumber:t,inviteCode:s.trim()||void 0})).json();b.success&&(l(!0),d(b.mockCode),h({title:"Verification code sent!",description:`Code sent to ${t}${b.mockCode?` (Mock: ${b.mockCode})`:""}`}))}catch{h({title:"Error",description:"Failed to send verification code",variant:"destructive"})}},f=async()=>{try{await fe("POST","/api/auth/verify-phone",{phoneNumber:t,verificationCode:r,inviteCode:s.trim()}),window.location.href=`/signup?inviteCode=${encodeURIComponent(s.trim())}`}catch{h({title:"Error",description:"Verification failed. Please try again.",variant:"destructive"})}};return i.jsxs("div",{className:"min-h-screen bg-background text-foreground overflow-hidden relative",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-primary rounded-full animate-pulse"}),i.jsx("div",{className:"absolute top-32 right-8 w-16 h-16 bg-secondary rounded-full animate-bounce"}),i.jsx("div",{className:"absolute bottom-20 left-6 w-12 h-12 bg-mykliq-green rounded-full animate-pulse"}),i.jsx("div",{className:"absolute bottom-40 right-12 w-8 h-8 bg-mykliq-orange rounded-full animate-bounce"})]}),i.jsxs("div",{className:"relative z-10 w-full max-w-sm md:max-w-2xl lg:max-w-4xl xl:max-w-5xl mx-auto bg-card min-h-screen",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary via-secondary to-mykliq-green h-32 md:h-40 lg:h-48 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"}),i.jsxs("div",{className:"absolute bottom-4 left-4 md:bottom-6 md:left-6 lg:bottom-8 lg:left-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:"MyKliq"}),i.jsx("p",{className:"text-white/90 text-sm md:text-base lg:text-lg",children:"Your Exclusive Social Circle"})]})]}),i.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-primary mb-2",children:"Relive the Golden Age of Social Networking with Modern Features"}),i.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Connect with your closest friends in a private, customizable space."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(X,{className:"bg-gradient-to-r from-primary/20 to-mykliq-purple/20 border-primary/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(bs,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-primary",children:"Exclusive Friend Limit"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Only 28 friends max - quality over quantity!"})]})]})})}),i.jsx(X,{className:"bg-gradient-to-r from-mykliq-purple/20 to-primary/20 border-mykliq-purple/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hi,{className:"w-8 h-8 text-mykliq-purple"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-mykliq-purple",children:"Moviecons"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Emoji's and GIF's are cool, but actual video and audio from your favorite shows and movies are better"})]})]})})}),i.jsx(X,{className:"bg-gradient-to-r from-secondary/20 to-mykliq-green/20 border-secondary/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(OI,{className:"w-8 h-8 text-secondary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-secondary",children:"Pyramid Rankings"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Organize your friends in a hierarchy that matters to you"})]})]})})}),i.jsx(X,{className:"bg-gradient-to-r from-mykliq-orange/20 to-retro-yellow/20 border-mykliq-orange/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(O0,{className:"w-8 h-8 text-mykliq-orange"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-mykliq-orange",children:"Full Customization"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Personalize colors, fonts, and themes to make it yours"})]})]})})}),i.jsx(X,{className:"bg-gradient-to-r from-mykliq-green/20 to-secondary/20 border-mykliq-green/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(um,{className:"w-8 h-8 text-mykliq-green"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-mykliq-green",children:"Content Filtering"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Filter out unwanted content with keyword blocking"})]})]})})}),i.jsx(X,{className:"bg-gradient-to-r from-mykliq-blue/20 to-mykliq-purple/20 border-mykliq-blue/30",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gv,{className:"w-8 h-8 text-mykliq-blue"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-mykliq-blue",children:"Social Integration"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Link other social accounts to create a one stop social experience"})]})]})})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(D,{onClick:()=>{console.log("Join MyKliq Now clicked - redirecting to signup"),window.location.href="/signup"},className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/80 hover:to-secondary/80 text-primary-foreground font-bold py-3","data-testid":"button-join-now",children:"Join MyKliq Now!"}),i.jsxs(Yt,{children:[i.jsx(mi,{asChild:!0,children:i.jsx(D,{variant:"outline",className:"w-full bg-card border-border text-card-foreground hover:bg-accent",children:"Join with Invite Code"})}),i.jsxs(Ut,{className:"bg-card border-border text-card-foreground max-w-sm mx-auto",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-primary",children:"Join a Kliq!"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(rb,{label:"Your phone number",value:t,onChange:m=>e(m.target.value),disabled:o}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Invitation code"}),i.jsx(he,{value:s,onChange:m=>n(m.target.value),placeholder:"KLIQ-XXXX-XXXX",className:"bg-gray-700 border-gray-600 text-white",disabled:o})]}),o?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Enter 6-digit code"}),i.jsx(he,{value:r,onChange:m=>a(m.target.value),placeholder:"000000",maxLength:6,className:"bg-gray-700 border-gray-600 text-white text-center text-lg"}),c&&i.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:["Mock code for testing: ",c]})]}),i.jsx(D,{onClick:f,disabled:r.length!==6,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold",children:"Verify & Join MyKliq"})]}):i.jsx(D,{onClick:u,disabled:!t||!s.trim(),className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-bold",children:"Join MyKliq"})]})]})]}),i.jsxs("div",{className:"text-center pt-3 space-y-2",children:[i.jsx(ls,{href:"/login",children:i.jsxs(D,{variant:"ghost",className:"text-muted-foreground hover:text-primary text-sm underline","data-testid":"link-login",children:[i.jsx(KI,{className:"w-4 h-4 mr-2"}),"Already have an account? Login here"]})}),i.jsx("div",{children:i.jsx(ls,{href:"/forgot-password",children:i.jsx(D,{variant:"ghost",className:"text-muted-foreground hover:text-primary text-sm underline","data-testid":"link-forgot-password",children:"Forgot Password?"})})})]})]}),i.jsxs("div",{className:"text-center pt-6 border-t border-gray-800 space-y-3",children:[i.jsxs("div",{className:"flex justify-center items-center gap-4 text-xs",children:[i.jsx("button",{className:"text-muted-foreground hover:text-primary underline transition-colors",onClick:()=>window.open("/privacy-policy","_blank"),"data-testid":"link-privacy-policy",children:"Privacy Policy"}),i.jsx("span",{className:"text-gray-600",children:""}),i.jsx("button",{className:"text-muted-foreground hover:text-primary underline transition-colors",onClick:()=>window.open("/disclaimer","_blank"),"data-testid":"link-disclaimer",children:"Disclaimer"})]}),i.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" 2024 MyKliq. All rights reserved."})]})]})]}),i.jsx(dn,{})]})}const tr=p.forwardRef(({className:t,...e},s)=>i.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));tr.displayName="Textarea";var ib="Avatar",[L8,sJ]=Ns(ib),[$8,E_]=L8(ib),T_=p.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[r,a]=p.useState("idle");return i.jsx($8,{scope:s,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(Ne.span,{...n,ref:e})})});T_.displayName=ib;var M_="AvatarImage",A_=p.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:r=()=>{},...a}=t,o=E_(M_,s),l=U8(n,a),c=mt(d=>{r(d),o.onImageLoadingStatusChange(d)});return qt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ne.img,{...a,ref:e,src:n}):null});A_.displayName=M_;var F_="AvatarFallback",R_=p.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...r}=t,a=E_(F_,s),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Ne.span,{...r,ref:e}):null});R_.displayName=F_;function Dj(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U8(t,{referrerPolicy:e,crossOrigin:s}){const n=B8(),r=p.useRef(null),a=n?(r.current||(r.current=new window.Image),r.current):null,[o,l]=p.useState(()=>Dj(a,t));return qt(()=>{l(Dj(a,t))},[a,t]),qt(()=>{const c=u=>()=>{l(u)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,s,e]),o}function z8(){return()=>{}}function B8(){return p.useSyncExternalStore(z8,()=>!0,()=>!1)}var I_=T_,O_=A_,D_=R_;const Us=p.forwardRef(({className:t,...e},s)=>i.jsx(I_,{ref:s,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Us.displayName=I_.displayName;const zs=p.forwardRef(({className:t,...e},s)=>i.jsx(O_,{ref:s,className:te("aspect-square h-full w-full",t),...e}));zs.displayName=O_.displayName;const Bs=p.forwardRef(({className:t,...e},s)=>i.jsx(D_,{ref:s,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Bs.displayName=D_.displayName;const V8=Qu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:t,variant:e,...s}){return i.jsx("div",{className:te(V8({variant:e}),t),...s})}function q8({filters:t,onAddFilter:e,onRemoveFilter:s}){const[n,r]=p.useState(""),a=()=>{n.trim()&&(e(n.trim().toLowerCase()),r(""))},o=l=>{l.key==="Enter"&&a()};return i.jsxs(X,{className:"bg-card border-border",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(um,{className:"w-5 h-5"})," Content Filters"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Hide posts containing these keywords from your feed"})]}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:n,onChange:l=>r(l.target.value),onKeyPress:o,placeholder:"Enter keyword to filter...",className:"flex-1 bg-input border-border text-foreground placeholder-muted-foreground"}),i.jsx(D,{onClick:a,disabled:!n.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:i.jsx(ci,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-foreground",children:["Active Filters (",t.length,")"]}),t.length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No filters set. All posts will be visible."}):i.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>i.jsxs(ze,{variant:"destructive",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 cursor-pointer group",onClick:()=>s(l.id),children:[l.keyword,i.jsx(ds,{className:"w-3 h-3 ml-1 group-hover:scale-110 transition-transform"})]},l.id))})]}),i.jsx("div",{className:"bg-muted/30 border border-border rounded-lg p-3",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",i.jsx("strong",{children:"Tip:"})," Filters are case-insensitive and will hide any post containing these keywords. Add filters for topics you'd rather not see in your feed."]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Common Filters"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["drama","politics","negative","spam","toxic","hate"].map(l=>{const c=t.some(d=>d.keyword===l);return i.jsxs(D,{variant:"outline",size:"sm",onClick:()=>!c&&e(l),disabled:c,className:`text-xs ${c?"bg-muted text-muted-foreground cursor-not-allowed":"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-border"}`,children:[c?" ":"+ ",l]},l)})})]})]})]})}var ab="Popover",[L_,nJ]=Ns(ab,[xa]),th=xa(),[H8,ba]=L_(ab),$_=t=>{const{__scopePopover:e,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:o=!1}=t,l=th(e),c=p.useRef(null),[d,h]=p.useState(!1),[u=!1,f]=Ar({prop:n,defaultProp:r,onChange:a});return i.jsx(X0,{...l,children:i.jsx(H8,{scope:e,contentId:Qn(),triggerRef:c,open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:o,children:s})})};$_.displayName=ab;var U_="PopoverAnchor",W8=p.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=ba(U_,s),a=th(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return p.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Xu,{...a,...n,ref:e})});W8.displayName=U_;var z_="PopoverTrigger",B_=p.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=ba(z_,s),a=th(s),o=Le(e,r.triggerRef),l=i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":K_(r.open),...n,ref:o,onClick:ne(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:i.jsx(Xu,{asChild:!0,...a,children:l})});B_.displayName=z_;var ob="PopoverPortal",[K8,G8]=L_(ob,{forceMount:void 0}),V_=t=>{const{__scopePopover:e,forceMount:s,children:n,container:r}=t,a=ba(ob,e);return i.jsx(K8,{scope:e,forceMount:s,children:i.jsx(us,{present:s||a.open,children:i.jsx(gc,{asChild:!0,container:r,children:n})})})};V_.displayName=ob;var ic="PopoverContent",q_=p.forwardRef((t,e)=>{const s=G8(ic,t.__scopePopover),{forceMount:n=s.forceMount,...r}=t,a=ba(ic,t.__scopePopover);return i.jsx(us,{present:n||a.open,children:a.modal?i.jsx(Q8,{...r,ref:e}):i.jsx(Z8,{...r,ref:e})})});q_.displayName=ic;var Y8=na("PopoverContent.RemoveScroll"),Q8=p.forwardRef((t,e)=>{const s=ba(ic,t.__scopePopover),n=p.useRef(null),r=Le(e,n),a=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return Sm(o)},[]),i.jsx(eh,{as:Y8,allowPinchZoom:!0,children:i.jsx(H_,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ne(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Z8=p.forwardRef((t,e)=>{const s=ba(ic,t.__scopePopover),n=p.useRef(!1),r=p.useRef(!1);return i.jsx(H_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),H_=p.forwardRef((t,e)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...u}=t,f=ba(ic,s),m=th(s);return jm(),i.jsx(Ju,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(So,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(gm,{"data-state":K_(f.open),role:"dialog",id:f.contentId,...m,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W_="PopoverClose",X8=p.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=ba(W_,s);return i.jsx(Ne.button,{type:"button",...n,ref:e,onClick:ne(t.onClick,()=>r.onOpenChange(!1))})});X8.displayName=W_;var J8="PopoverArrow",ez=p.forwardRef((t,e)=>{const{__scopePopover:s,...n}=t,r=th(s);return i.jsx(ym,{...r,...n,ref:e})});ez.displayName=J8;function K_(t){return t?"open":"closed"}var tz=$_,sz=B_,nz=V_,G_=q_;const Lj=tz,$j=sz,Tv=p.forwardRef(({className:t,align:e="center",sideOffset:s=4,...n},r)=>i.jsx(nz,{children:i.jsx(G_,{ref:r,align:e,sideOffset:s,className:te("z-50 w-72 rounded-md border bg-white text-black p-4 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));Tv.displayName=G_.displayName;function Mt(t){return/^401: .*Unauthorized/.test(t.message)}function rz(t,e,s){const n=[];return t.forEach(r=>typeof r!="string"?n.push(r):e[Symbol.split](r).forEach((a,o,l)=>{a!==""&&n.push(a),o<l.length-1&&n.push(s)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function Uj(t,e){const s=/\$/g,n="$$$$";let r=[t];if(e==null)return r;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=s[Symbol.replace](o,n)),r=rz(r,new RegExp(`%\\{${a}\\}`,"g"),o)}return r}const iz=t=>{throw new Error(`missing string: ${t}`)};var bu,wu,Mv;class Y_{constructor(e,{onMissingKey:s=iz}={}){V(this,wu);B(this,"locale");V(this,bu);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(G(this,wu,Mv),this):G(this,wu,Mv).call(this,e),W(this,bu,s)}translate(e,s){return this.translateArray(e,s).join("")}translateArray(e,s){let n=this.locale.strings[e];if(n==null&&(j(this,bu).call(this,e),n=e),typeof n=="object"){if(s&&typeof s.smart_count<"u"){const a=this.locale.pluralize(s.smart_count);return Uj(n[a],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return Uj(n,s)}}bu=new WeakMap,wu=new WeakSet,Mv=function(e){if(!(e!=null&&e.strings))return;const s=this.locale;Object.assign(this.locale,{strings:{...s.strings,...e.strings},pluralize:e.pluralize||s.pluralize})};class Q_{constructor(e,s){B(this,"uppy");B(this,"opts");B(this,"id");B(this,"defaultLocale");B(this,"i18n");B(this,"i18nArray");B(this,"type");B(this,"VERSION");this.uppy=e,this.opts=s??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new Y_([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function Fg(t){return t<10?`0${t}`:t.toString()}function xf(){const t=new Date,e=Fg(t.getHours()),s=Fg(t.getMinutes()),n=Fg(t.getSeconds());return`${e}:${s}:${n}`}const az={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${xf()}]`,...t)},oz={debug:(...t)=>console.debug(`[Uppy] [${xf()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${xf()}]`,...t),error:(...t)=>console.error(`[Uppy] [${xf()}]`,...t)};function Z_(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function lz(t,e=document){return typeof t=="string"?e.querySelector(t):Z_(t)?t:null}function X_(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}var sh,He,J_,Ta,zj,eE,tE,sE,lb,Av,Fv,Gd={},nE=[],cz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nh=Array.isArray;function kr(t,e){for(var s in e)t[s]=e[s];return t}function cb(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Yd(t,e,s){var n,r,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?r=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?sh.call(arguments,2):s),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return bd(t,o,n,r,null)}function bd(t,e,s,n,r){var a={type:t,props:e,key:s,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++J_,__i:-1,__u:0};return r==null&&He.vnode!=null&&He.vnode(a),a}function dz(){return{current:null}}function Hn(t){return t.children}function Ys(t,e){this.props=t,this.context=e}function ac(t,e){if(e==null)return t.__?ac(t.__,t.__i+1):null;for(var s;e<t.__k.length;e++)if((s=t.__k[e])!=null&&s.__e!=null)return s.__e;return typeof t.type=="function"?ac(t):null}function rE(t){var e,s;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((s=t.__k[e])!=null&&s.__e!=null){t.__e=t.__c.base=s.__e;break}return rE(t)}}function Bj(t){(!t.__d&&(t.__d=!0)&&Ta.push(t)&&!op.__r++||zj!=He.debounceRendering)&&((zj=He.debounceRendering)||eE)(op)}function op(){for(var t,e,s,n,r,a,o,l=1;Ta.length;)Ta.length>l&&Ta.sort(tE),t=Ta.shift(),l=Ta.length,t.__d&&(s=void 0,r=(n=(e=t).__v).__e,a=[],o=[],e.__P&&((s=kr({},n)).__v=n.__v+1,He.vnode&&He.vnode(s),db(e.__P,s,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,a,r??ac(n),!!(32&n.__u),o),s.__v=n.__v,s.__.__k[s.__i]=s,oE(a,s,o),s.__e!=r&&rE(s)));op.__r=0}function iE(t,e,s,n,r,a,o,l,c,d,h){var u,f,m,b,g,x,y=n&&n.__k||nE,v=e.length;for(c=uz(s,e,y,c,v),u=0;u<v;u++)(m=s.__k[u])!=null&&(f=m.__i==-1?Gd:y[m.__i]||Gd,m.__i=u,x=db(t,m,f,r,a,o,l,c,d,h),b=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&ub(f.ref,null,m),h.push(m.ref,m.__c||b,m)),g==null&&b!=null&&(g=b),4&m.__u||f.__k===m.__k?c=aE(m,c,t):typeof m.type=="function"&&x!==void 0?c=x:b&&(c=b.nextSibling),m.__u&=-7);return s.__e=g,c}function uz(t,e,s,n,r){var a,o,l,c,d,h=s.length,u=h,f=0;for(t.__k=new Array(r),a=0;a<r;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+f,(o=t.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?bd(null,o,null,null,null):nh(o)?bd(Hn,{children:o},null,null,null):o.constructor==null&&o.__b>0?bd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(d=o.__i=hz(o,s,c,u))!=-1&&(u--,(l=s[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(r>h?f--:r<h&&f++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,o.__u|=4))):t.__k[a]=null;if(u)for(a=0;a<h;a++)(l=s[a])!=null&&!(2&l.__u)&&(l.__e==n&&(n=ac(l)),cE(l,l));return n}function aE(t,e,s){var n,r;if(typeof t.type=="function"){for(n=t.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=t,e=aE(n[r],e,s));return e}t.__e!=e&&(e&&t.type&&!s.contains(e)&&(e=ac(t)),s.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function zn(t,e){return e=e||[],t==null||typeof t=="boolean"||(nh(t)?t.some(function(s){zn(s,e)}):e.push(t)),e}function hz(t,e,s,n){var r,a,o,l=t.key,c=t.type,d=e[s],h=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||h&&l==d.key&&c==d.type)return s;if(n>(h?1:0)){for(r=s-1,a=s+1;r>=0||a<e.length;)if((d=e[o=r>=0?r--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function Vj(t,e,s){e[0]=="-"?t.setProperty(e,s??""):t[e]=s==null?"":typeof s!="number"||cz.test(e)?s:s+"px"}function zh(t,e,s,n,r){var a,o;e:if(e=="style")if(typeof s=="string")t.style.cssText=s;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)s&&e in s||Vj(t.style,e,"");if(s)for(e in s)n&&s[e]==n[e]||Vj(t.style,e,s[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(sE,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=s,s?n?s.u=n.u:(s.u=lb,t.addEventListener(e,a?Fv:Av,a)):t.removeEventListener(e,a?Fv:Av,a);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&s==1?"":s))}}function qj(t){return function(e){if(this.l){var s=this.l[e.type+t];if(e.t==null)e.t=lb++;else if(e.t<s.u)return;return s(He.event?He.event(e):e)}}}function db(t,e,s,n,r,a,o,l,c,d){var h,u,f,m,b,g,x,y,v,w,S,N,P,C,_,A,k,R=e.type;if(e.constructor!=null)return null;128&s.__u&&(c=!!(32&s.__u),a=[l=e.__e=s.__e]),(h=He.__b)&&h(e);e:if(typeof R=="function")try{if(y=e.props,v="prototype"in R&&R.prototype.render,w=(h=R.contextType)&&n[h.__c],S=h?w?w.props.value:h.__:n,s.__c?x=(u=e.__c=s.__c).__=u.__E:(v?e.__c=u=new R(y,S):(e.__c=u=new Ys(y,S),u.constructor=R,u.render=pz),w&&w.sub(u),u.props=y,u.state||(u.state={}),u.context=S,u.__n=n,f=u.__d=!0,u.__h=[],u._sb=[]),v&&u.__s==null&&(u.__s=u.state),v&&R.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=kr({},u.__s)),kr(u.__s,R.getDerivedStateFromProps(y,u.__s))),m=u.props,b=u.state,u.__v=e,f)v&&R.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),v&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(v&&R.getDerivedStateFromProps==null&&y!==m&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,S),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,S)===!1||e.__v==s.__v){for(e.__v!=s.__v&&(u.props=y,u.state=u.__s,u.__d=!1),e.__e=s.__e,e.__k=s.__k,e.__k.some(function(O){O&&(O.__=e)}),N=0;N<u._sb.length;N++)u.__h.push(u._sb[N]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,S),v&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(m,b,g)})}if(u.context=S,u.props=y,u.__P=t,u.__e=!1,P=He.__r,C=0,v){for(u.state=u.__s,u.__d=!1,P&&P(e),h=u.render(u.props,u.state,u.context),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[]}else do u.__d=!1,P&&P(e),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++C<25);u.state=u.__s,u.getChildContext!=null&&(n=kr(kr({},n),u.getChildContext())),v&&!f&&u.getSnapshotBeforeUpdate!=null&&(g=u.getSnapshotBeforeUpdate(m,b)),A=h,h!=null&&h.type===Hn&&h.key==null&&(A=lE(h.props.children)),l=iE(t,nh(A)?A:[A],e,s,n,r,a,o,l,c,d),u.base=e.__e,e.__u&=-161,u.__h.length&&o.push(u),x&&(u.__E=u.__=null)}catch(O){if(e.__v=null,c||a!=null)if(O.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(k=a.length;k--;)cb(a[k]);Rv(e)}else e.__e=s.__e,e.__k=s.__k,O.then||Rv(e);He.__e(O,e,s)}else a==null&&e.__v==s.__v?(e.__k=s.__k,e.__e=s.__e):l=e.__e=fz(s.__e,e,s,n,r,a,o,c,d);return(h=He.diffed)&&h(e),128&e.__u?void 0:l}function Rv(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Rv)}function oE(t,e,s){for(var n=0;n<s.length;n++)ub(s[n],s[++n],s[++n]);He.__c&&He.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(a){a.call(r)})}catch(a){He.__e(a,r.__v)}})}function lE(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:nh(t)?t.map(lE):kr({},t)}function fz(t,e,s,n,r,a,o,l,c){var d,h,u,f,m,b,g,x=s.props,y=e.props,v=e.type;if(v=="svg"?r="http://www.w3.org/2000/svg":v=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!v&&(v?m.localName==v:m.nodeType==3)){t=m,a[d]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(r,v,y.is&&y),l&&(He.__m&&He.__m(e,a),l=!1),a=null}if(v==null)x===y||l&&t.data==y||(t.data=y);else{if(a=a&&sh.call(t.childNodes),x=s.props||Gd,!l&&a!=null)for(x={},d=0;d<t.attributes.length;d++)x[(m=t.attributes[d]).name]=m.value;for(d in x)if(m=x[d],d!="children"){if(d=="dangerouslySetInnerHTML")u=m;else if(!(d in y)){if(d=="value"&&"defaultValue"in y||d=="checked"&&"defaultChecked"in y)continue;zh(t,d,null,m,r)}}for(d in y)m=y[d],d=="children"?f=m:d=="dangerouslySetInnerHTML"?h=m:d=="value"?b=m:d=="checked"?g=m:l&&typeof m!="function"||x[d]===m||zh(t,d,m,x[d],r);if(h)l||u&&(h.__html==u.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(u&&(t.innerHTML=""),iE(e.type=="template"?t.content:t,nh(f)?f:[f],e,s,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,o,a?a[0]:s.__k&&ac(s,0),l,c),a!=null)for(d=a.length;d--;)cb(a[d]);l||(d="value",v=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[d]||v=="progress"&&!b||v=="option"&&b!=x[d])&&zh(t,d,b,x[d],r),d="checked",g!=null&&g!=t[d]&&zh(t,d,g,x[d],r))}return t}function ub(t,e,s){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(r){He.__e(r,s)}}function cE(t,e,s){var n,r;if(He.unmount&&He.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||ub(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){He.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(r=0;r<n.length;r++)n[r]&&cE(n[r],e,s||typeof t.type!="function");s||cb(t.__e),t.__c=t.__=t.__e=void 0}function pz(t,e,s){return this.constructor(t,s)}function mz(t,e,s){var n,r,a,o;e==document&&(e=document.documentElement),He.__&&He.__(t,e),r=(n=typeof s=="function")?null:e.__k,a=[],o=[],db(e,t=(!n&&s||e).__k=Yd(Hn,null,[t]),r||Gd,Gd,e.namespaceURI,!n&&s?[s]:r?null:e.firstChild?sh.call(e.childNodes):null,a,!n&&s?s:r?r.__e:e.firstChild,n,o),oE(a,t,o)}function dE(t,e,s){var n,r,a,o,l=kr({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?r=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?sh.call(arguments,2):s),bd(t.type,l,n||t.key,r||t.ref,null)}sh=nE.slice,He={__e:function(t,e,s,n){for(var r,a,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(t)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,n||{}),o=r.__d),o)return r.__E=r}catch(l){t=l}throw t}},J_=0,Ys.prototype.setState=function(t,e){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=kr({},this.state),typeof t=="function"&&(t=t(kr({},s),this.props)),t&&kr(s,t),t!=null&&this.__v&&(e&&this._sb.push(e),Bj(this))},Ys.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Bj(this))},Ys.prototype.render=Hn,Ta=[],eE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tE=function(t,e){return t.__v.__b-e.__v.__b},op.__r=0,sE=/(PointerCapture)$|Capture$/i,lb=0,Av=qj(!1),Fv=qj(!0);var Qd,Ft,Rg,Hj,Zd=0,uE=[],Lt=He,Wj=Lt.__b,Kj=Lt.__r,Gj=Lt.diffed,Yj=Lt.__c,Qj=Lt.unmount,Zj=Lt.__;function hb(t,e){Lt.__h&&Lt.__h(Ft,t,Zd||e),Zd=0;var s=Ft.__H||(Ft.__H={__:[],__h:[]});return t>=s.__.length&&s.__.push({}),s.__[t]}function lp(t){return Zd=1,gz(fE,t)}function gz(t,e,s){var n=hb(Qd++,2);if(n.t=t,!n.__c&&(n.__=[s?s(e):fE(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],d=n.t(c,l);c!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=Ft,!Ft.__f)){var r=function(l,c,d){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!a||a.call(this,l,c,d);var u=n.__c.props!==l;return h.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(u=!0)}}),a&&a.call(this,l,c,d)||u};Ft.__f=!0;var a=Ft.shouldComponentUpdate,o=Ft.componentWillUpdate;Ft.componentWillUpdate=function(l,c,d){if(this.__e){var h=a;a=void 0,r(l,c,d),a=h}o&&o.call(this,l,c,d)},Ft.shouldComponentUpdate=r}return n.__N||n.__}function Iv(t,e){var s=hb(Qd++,3);!Lt.__s&&hE(s.__H,e)&&(s.__=t,s.u=e,Ft.__H.__h.push(s))}function bf(t){return Zd=5,fb(function(){return{current:t}},[])}function fb(t,e){var s=hb(Qd++,7);return hE(s.__H,e)&&(s.__=t(),s.__H=e,s.__h=t),s.__}function yz(t,e){return Zd=8,fb(function(){return t},e)}function vz(){for(var t;t=uE.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(wf),t.__H.__h.forEach(Ov),t.__H.__h=[]}catch(e){t.__H.__h=[],Lt.__e(e,t.__v)}}Lt.__b=function(t){Ft=null,Wj&&Wj(t)},Lt.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Zj&&Zj(t,e)},Lt.__r=function(t){Kj&&Kj(t),Qd=0;var e=(Ft=t.__c).__H;e&&(Rg===Ft?(e.__h=[],Ft.__h=[],e.__.forEach(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(e.__h.forEach(wf),e.__h.forEach(Ov),e.__h=[],Qd=0)),Rg=Ft},Lt.diffed=function(t){Gj&&Gj(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(uE.push(e)!==1&&Hj===Lt.requestAnimationFrame||((Hj=Lt.requestAnimationFrame)||xz)(vz)),e.__H.__.forEach(function(s){s.u&&(s.__H=s.u),s.u=void 0})),Rg=Ft=null},Lt.__c=function(t,e){e.some(function(s){try{s.__h.forEach(wf),s.__h=s.__h.filter(function(n){return!n.__||Ov(n)})}catch(n){e.some(function(r){r.__h&&(r.__h=[])}),e=[],Lt.__e(n,s.__v)}}),Yj&&Yj(t,e)},Lt.unmount=function(t){Qj&&Qj(t);var e,s=t.__c;s&&s.__H&&(s.__H.__.forEach(function(n){try{wf(n)}catch(r){e=r}}),s.__H=void 0,e&&Lt.__e(e,s.__v))};var Xj=typeof requestAnimationFrame=="function";function xz(t){var e,s=function(){clearTimeout(n),Xj&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(s,35);Xj&&(e=requestAnimationFrame(s))}function wf(t){var e=Ft,s=t.__c;typeof s=="function"&&(t.__c=void 0,s()),Ft=e}function Ov(t){var e=Ft;t.__c=t.__(),Ft=e}function hE(t,e){return!t||t.length!==e.length||e.some(function(s,n){return s!==t[n]})}function fE(t,e){return typeof e=="function"?e(t):e}function bz(t,e){for(var s in e)t[s]=e[s];return t}function Jj(t,e){for(var s in t)if(s!=="__source"&&!(s in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function eN(t,e){this.props=t,this.context=e}(eN.prototype=new Ys).isPureReactComponent=!0,eN.prototype.shouldComponentUpdate=function(t,e){return Jj(this.props,t)||Jj(this.state,e)};var tN=He.__b;He.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),tN&&tN(t)};var wz=He.__e;He.__e=function(t,e,s,n){if(t.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return e.__e==null&&(e.__e=s.__e,e.__k=s.__k),r.__c(t,e)}wz(t,e,s,n)};var sN=He.unmount;function pE(t,e,s){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=bz({},t)).__c!=null&&(t.__c.__P===s&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return pE(n,e,s)})),t}function mE(t,e,s){return t&&s&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return mE(n,e,s)}),t.__c&&t.__c.__P===e&&(t.__e&&s.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=s)),t}function Ig(){this.__u=0,this.o=null,this.__b=null}function gE(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Bh(){this.i=null,this.l=null}He.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),sN&&sN(t)},(Ig.prototype=new Ys).__c=function(t,e){var s=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(s);var r=gE(n.__v),a=!1,o=function(){a||(a=!0,s.__R=null,r?r(l):l())};s.__R=o;var l=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=mE(c,c.__c.__P,c.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.o.pop();)d.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},Ig.prototype.componentWillUnmount=function(){this.o=[]},Ig.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var s=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=pE(this.__b,s,n.__O=n.__P)}this.__b=null}var r=e.__a&&Yd(Hn,null,t.fallback);return r&&(r.__u&=-33),[Yd(Hn,null,e.__a?null:t.children),r]};var nN=function(t,e,s){if(++s[1]===s[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(s=t.i;s;){for(;s.length>3;)s.pop()();if(s[1]<s[0])break;t.i=s=s[2]}};(Bh.prototype=new Ys).__a=function(t){var e=this,s=gE(e.__v),n=e.l.get(t);return n[0]++,function(r){var a=function(){e.props.revealOrder?(n.push(r),nN(e,t,n)):r()};s?s(a):a()}},Bh.prototype.render=function(t){this.i=null,this.l=new Map;var e=zn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var s=e.length;s--;)this.l.set(e[s],this.i=[1,0,this.i]);return t.children},Bh.prototype.componentDidUpdate=Bh.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,s){nN(t,s,e)})};var jz=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Nz=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Sz=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,kz=/[A-Z0-9]/g,Cz=typeof document<"u",Pz=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function rN(t,e,s){return e.__k==null&&(e.textContent=""),mz(t,e),typeof s=="function"&&s(),t?t.__c:null}Ys.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ys.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var iN=He.event;function _z(){}function Ez(){return this.cancelBubble}function Tz(){return this.defaultPrevented}He.event=function(t){return iN&&(t=iN(t)),t.persist=_z,t.isPropagationStopped=Ez,t.isDefaultPrevented=Tz,t.nativeEvent=t};var Mz={enumerable:!1,configurable:!0,get:function(){return this.class}},aN=He.vnode;He.vnode=function(t){typeof t.type=="string"&&function(e){var s=e.props,n=e.type,r={},a=n.indexOf("-")===-1;for(var o in s){var l=s[o];if(!(o==="value"&&"defaultValue"in s&&l==null||Cz&&o==="children"&&n==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in s&&s.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||Pz(s.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":Sz.test(o)&&(o=c):c=o="oninput":a&&Nz.test(o)?o=o.replace(kz,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&r[o=c]&&(o="oninputCapture"),r[o]=l}}n=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=zn(s.children).forEach(function(d){d.props.selected=r.value.indexOf(d.props.value)!=-1})),n=="select"&&r.defaultValue!=null&&(r.value=zn(s.children).forEach(function(d){d.props.selected=r.multiple?r.defaultValue.indexOf(d.props.value)!=-1:r.defaultValue==d.props.value})),s.class&&!s.className?(r.class=s.class,Object.defineProperty(r,"className",Mz)):(s.className&&!s.class||s.class&&s.className)&&(r.class=r.className=s.className),e.props=r}(t),t.$$typeof=jz,aN&&aN(t)};var oN=He.__r;He.__r=function(t){oN&&oN(t),t.__c};var lN=He.diffed;He.diffed=function(t){lN&&lN(t);var e=t.props,s=t.__e;s!=null&&t.type==="textarea"&&"value"in e&&e.value!==s.value&&(s.value=e.value==null?"":e.value)};function Az(t){let e=null,s;return(...n)=>(s=n,e||(e=Promise.resolve().then(()=>(e=null,t(...s)))),e)}var ju;const _p=class _p extends Q_{constructor(){super(...arguments);V(this,ju);B(this,"isTargetDOMEl");B(this,"el");B(this,"parent");B(this,"title")}getTargetPlugin(s){let n;if(typeof(s==null?void 0:s.addTarget)=="function")n=s,n instanceof _p||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:_p}}));else if(typeof s=="function"){const r=s;this.uppy.iteratePlugins(a=>{a instanceof r&&(n=a)})}return n}mount(s,n){const r=n.id,a=lz(s);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),W(this,ju,Az(d=>{this.uppy.getPlugin(this.id)&&(rN(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${r} to a DOM element '${s}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),rN(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||X_(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(s);if(o)return this.uppy.log(`Installing ${r} to ${o.id}`),this.parent=o,this.el=o.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let l=`Invalid target option given to ${r}.`;throw typeof s=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(s,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(s){var n;this.el!=null&&((n=j(this,ju))==null||n.call(this,s))}unmount(){var s;this.isTargetDOMEl&&((s=this.el)==null||s.remove()),this.onUnmount()}onMount(){}onUnmount(){}};ju=new WeakMap;let oc=_p;const Fz="@uppy/store-default",Rz="The default simple object-based store for Uppy.",Iz="4.3.2",Oz="MIT",Dz="lib/index.js",Lz="module",$z={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Uz=["file uploader","uppy","uppy-store"],zz="https://uppy.io",Bz={url:"https://github.com/transloadit/uppy/issues"},Vz={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},qz={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Hz=["src","lib","dist","CHANGELOG.md"],Wz={name:Fz,description:Rz,version:Iz,license:Oz,main:Dz,type:Lz,scripts:$z,keywords:Uz,homepage:zz,bugs:Bz,devDependencies:Vz,repository:qz,files:Hz};var Sl,Ep,vE;class yE{constructor(){V(this,Ep);B(this,"state",{});V(this,Sl,new Set)}getState(){return this.state}setState(e){const s={...this.state},n={...this.state,...e};this.state=n,G(this,Ep,vE).call(this,s,n,e)}subscribe(e){return j(this,Sl).add(e),()=>{j(this,Sl).delete(e)}}}Sl=new WeakMap,Ep=new WeakSet,vE=function(...e){j(this,Sl).forEach(s=>{s(...e)})},B(yE,"VERSION",Wz.version);function xE(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const cN={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function bE(t){var s;if(t.type)return t.type;const e=t.name?(s=xE(t.name).extension)==null?void 0:s.toLowerCase():null;return e&&e in cN?cN[e]:"application/octet-stream"}function Kz(t){return t.charCodeAt(0).toString(32)}function dN(t){let e="";return t.replace(/[^A-Z0-9]/gi,s=>(e+=`-${Kz(s)}`,"/"))+e}function Gz(t,e){let s=e||"uppy";return typeof t.name=="string"&&(s+=`-${dN(t.name.toLowerCase())}`),t.type!==void 0&&(s+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(s+=`-${dN(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(s+=`-${t.data.size}`),t.data.lastModified!==void 0&&(s+=`-${t.data.lastModified}`),s}function Yz(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function Qz(t,e){if(Yz(t))return t.id;const s=bE(t);return Gz({...t,type:s},e)}function Zz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pb=Zz,Xz=typeof ph=="object"&&ph&&ph.Object===Object&&ph,Jz=Xz,e7=Jz,t7=typeof self=="object"&&self&&self.Object===Object&&self,s7=e7||t7||Function("return this")(),wE=s7,n7=wE,r7=function(){return n7.Date.now()},i7=r7,a7=/\s/;function o7(t){for(var e=t.length;e--&&a7.test(t.charAt(e)););return e}var l7=o7,c7=l7,d7=/^\s+/;function u7(t){return t&&t.slice(0,c7(t)+1).replace(d7,"")}var h7=u7,f7=wE,p7=f7.Symbol,jE=p7,uN=jE,NE=Object.prototype,m7=NE.hasOwnProperty,g7=NE.toString,$c=uN?uN.toStringTag:void 0;function y7(t){var e=m7.call(t,$c),s=t[$c];try{t[$c]=void 0;var n=!0}catch{}var r=g7.call(t);return n&&(e?t[$c]=s:delete t[$c]),r}var v7=y7,x7=Object.prototype,b7=x7.toString;function w7(t){return b7.call(t)}var j7=w7,hN=jE,N7=v7,S7=j7,k7="[object Null]",C7="[object Undefined]",fN=hN?hN.toStringTag:void 0;function P7(t){return t==null?t===void 0?C7:k7:fN&&fN in Object(t)?N7(t):S7(t)}var _7=P7;function E7(t){return t!=null&&typeof t=="object"}var T7=E7,M7=_7,A7=T7,F7="[object Symbol]";function R7(t){return typeof t=="symbol"||A7(t)&&M7(t)==F7}var I7=R7,O7=h7,pN=pb,D7=I7,mN=NaN,L7=/^[-+]0x[0-9a-f]+$/i,$7=/^0b[01]+$/i,U7=/^0o[0-7]+$/i,z7=parseInt;function B7(t){if(typeof t=="number")return t;if(D7(t))return mN;if(pN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=O7(t);var s=$7.test(t);return s||U7.test(t)?z7(t.slice(2),s?2:8):L7.test(t)?mN:+t}var V7=B7,q7=pb,Og=i7,gN=V7,H7="Expected a function",W7=Math.max,K7=Math.min;function G7(t,e,s){var n,r,a,o,l,c,d=0,h=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(H7);e=gN(e)||0,q7(s)&&(h=!!s.leading,u="maxWait"in s,a=u?W7(gN(s.maxWait)||0,e):a,f="trailing"in s?!!s.trailing:f);function m(P){var C=n,_=r;return n=r=void 0,d=P,o=t.apply(_,C),o}function b(P){return d=P,l=setTimeout(y,e),h?m(P):o}function g(P){var C=P-c,_=P-d,A=e-C;return u?K7(A,a-_):A}function x(P){var C=P-c,_=P-d;return c===void 0||C>=e||C<0||u&&_>=a}function y(){var P=Og();if(x(P))return v(P);l=setTimeout(y,g(P))}function v(P){return l=void 0,f&&n?m(P):(n=r=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=r=l=void 0}function S(){return l===void 0?o:v(Og())}function N(){var P=Og(),C=x(P);if(n=arguments,r=this,c=P,C){if(l===void 0)return b(c);if(u)return clearTimeout(l),l=setTimeout(y,e),m(c)}return l===void 0&&(l=setTimeout(y,e)),o}return N.cancel=w,N.flush=S,N}var SE=G7;const Y7=fi(SE);var Q7=SE,Z7=pb,X7="Expected a function";function J7(t,e,s){var n=!0,r=!0;if(typeof t!="function")throw new TypeError(X7);return Z7(s)&&(n="leading"in s?!!s.leading:n,r="trailing"in s?!!s.trailing:r),Q7(t,e,{leading:n,maxWait:e,trailing:r})}var e9=J7;const t9=fi(e9);var s9=function(){var e={},s=e._fns={};e.emit=function(o,l,c,d,h,u,f){var m=n(o);m.length&&r(o,m,[l,c,d,h,u,f])},e.on=function(o,l){s[o]||(s[o]=[]),s[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],h=0,u=d?d.length:0;for(h;h<u;h++)d[h]!==l&&c.push(d[h])}c.length?this._fns[o]=c:delete this._fns[o]};function n(a){var o=s[a]?s[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(s),h=0,u=d.length;for(h;h<u;h++){var f=d[h];if(f==="*"&&(o=o.concat(s[f])),c.length===2&&c[0]===f){o=o.concat(s[f]);break}}return o}function r(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const n9=fi(s9);let r9="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",i9=(t=21)=>{let e="",s=t|0;for(;s--;)e+=r9[Math.random()*64|0];return e};const a9="@uppy/core",o9="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",l9="4.5.3",c9="MIT",d9="lib/index.js",u9="dist/style.min.css",h9="module",f9=["*.css"],p9={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},m9=["file uploader","uppy","uppy-plugin"],g9="https://uppy.io",y9={url:"https://github.com/transloadit/uppy/issues"},v9={type:"git",url:"git+https://github.com/transloadit/uppy.git"},x9=["src","lib","dist","CHANGELOG.md"],b9={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},w9={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},j9={name:a9,description:o9,version:l9,license:c9,main:d9,style:u9,type:h9,sideEffects:f9,scripts:p9,keywords:m9,homepage:g9,bugs:y9,repository:v9,files:x9,dependencies:b9,devDependencies:w9};function N9(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const S9={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var k9=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const s=e<0;let n=Math.abs(e);if(s&&(n=-n),n===0)return"0 B";const r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),r.length-1),o=Number(n/1024**a),l=r[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Ia=fi(k9);function kE(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}kE.prototype.match=function(t){var e=!0,s=this.parts,n,r=s.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<r;n++)s[n]!=="*"&&(n<a.length?e=s[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var C9=function(t,e,s){var n=new kE(t,s||/[\/\.]/);return typeof e<"u"?n.match(e):n},P9=C9,_9=/[\/\+\.]/,E9=function(t,e){function s(n){var r=P9(n,t,_9);return r&&r.length>=2}return e?s(e.split(";")[0]):s};const T9=fi(E9),M9={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Dn extends Error{constructor(s,n){super(s);B(this,"isUserFacing");B(this,"file");B(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class A9{constructor(e,s){B(this,"getI18n");B(this,"getOpts");this.getI18n=s,this.getOpts=()=>{var r;const n=e();if(((r=n.restrictions)==null?void 0:r.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,s){const{maxTotalFileSize:n,maxNumberOfFiles:r}=this.getOpts().restrictions;if(r&&e.filter(o=>!o.isGhost).length+s.length>r)throw new Dn(`${this.getI18n()("youCanOnlyUploadX",{smart_count:r})}`);if(n){const a=[...e,...s].reduce((o,l)=>o+(l.size??0),0);if(a>n)throw new Dn(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Ia(n),size:Ia(a)}))}}validateSingleFile(e){const{maxFileSize:s,minFileSize:n,allowedFileTypes:r}=this.getOpts().restrictions;if(r&&!r.some(o=>o.includes("/")?e.type?T9(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=r.join(", ");throw new Dn(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(s&&e.size!=null&&e.size>s)throw new Dn(this.getI18n()("exceedsSize",{size:Ia(s),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new Dn(this.getI18n()("inferiorSize",{size:Ia(n)}),{file:e})}validate(e,s){s.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,s)}validateMinNumberOfFiles(e){const{minNumberOfFiles:s}=this.getOpts().restrictions;if(s&&Object.keys(e).length<s)throw new Dn(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:s}))}getMissingRequiredMetaFields(e){const s=new Dn(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,r=[];for(const a of n)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&r.push(a);return{missingFields:r,error:s}}}function F9(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),r=parseInt(n[0],10),a=parseInt(n[1],10);return r<15||r===15&&a<15063||r>18||r===18&&a>=18218}const Vh={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Tn,Mn,Nu,qa,kl,Cl,Ha,Me,Ea,Lv,CE,$v,PE,Uv,zv,Bv,Vv,Tp,qv,Wa,_E,EE,$i,Su,Xc,TE,jf,Jc;const Mp=class Mp{constructor(e){V(this,Me);V(this,Tn,Object.create(null));V(this,Mn);V(this,Nu);V(this,qa,n9());V(this,kl,new Set);V(this,Cl,new Set);V(this,Ha,new Set);B(this,"defaultLocale");B(this,"locale");B(this,"opts");B(this,"store");B(this,"i18n");B(this,"i18nArray");B(this,"scheduledAutoProceed",null);B(this,"wasOffline",!1);V(this,Tp,(e,s)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const r={bytesTotal:s.bytesTotal,percentage:s.bytesTotal!=null&&Number.isFinite(s.bytesTotal)&&s.bytesTotal>0?Math.round(s.bytesUploaded/s.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...r,bytesUploaded:s.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...r}}),j(this,Wa).call(this)});V(this,Wa,t9(()=>G(this,Me,qv).call(this),500,{leading:!0,trailing:!0}));V(this,$i,this.updateOnlineStatus.bind(this));V(this,Su,new Map);this.defaultLocale=S9;const s={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:M9,meta:{},onBeforeFileAdded:(r,a)=>!Object.hasOwn(a,r.id),onBeforeUpload:r=>r,store:new yE,logger:az,infoTimeout:5e3},n={...s,...e};this.opts={...n,restrictions:{...s.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=oz),this.log(`Using Core v${Mp.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Vh,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:F9(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),W(this,Mn,new A9(()=>this.opts,()=>this.i18n)),W(this,Nu,this.store.subscribe((r,a,o)=>{this.emit("state-update",r,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),G(this,Me,EE).call(this)}emit(e,...s){j(this,qa).emit(e,...s)}on(e,s){return j(this,qa).on(e,s),this}once(e,s){return j(this,qa).once(e,s),this}off(e,s){return j(this,qa).off(e,s),this}updateAll(e){this.iteratePlugins(s=>{s.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const s=this.getState().files;this.setState({files:{...s,...Object.fromEntries(Object.entries(e).map(([n,r])=>[n,{...s[n],...r}]))}})}setFileState(e,s){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:s})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),s=new Y_([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=s.translate.bind(s),this.i18nArray=s.translateArray.bind(s),this.locale=s.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(s=>{s.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},n=Object.create(null);Object.keys(s).forEach(r=>{n[r]={...s[r],progress:{...s[r].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...Vh})}clear(){const{capabilities:e,currentUploads:s}=this.getState();if(Object.keys(s).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Vh,files:{}})}addPreProcessor(e){j(this,kl).add(e)}removePreProcessor(e){return j(this,kl).delete(e)}addPostProcessor(e){j(this,Ha).add(e)}removePostProcessor(e){return j(this,Ha).delete(e)}addUploader(e){j(this,Cl).add(e)}removeUploader(e){return j(this,Cl).delete(e)}setMeta(e){const s={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(r=>{n[r]={...n[r],meta:{...n[r].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:s,files:n})}setFileMeta(e,s){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const r={...n[e].meta,...s};n[e]={...n[e],meta:r},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(s=>this.getFile(s))}getObjectOfFilesPerState(){const{files:e,totalProgress:s,error:n}=this.getState(),r=Object.values(e),a=[],o=[],l=[],c=[],d=[],h=[],u=[],f=[],m=[];for(const b of r){const{progress:g}=b;!g.uploadComplete&&g.uploadStarted&&(a.push(b),b.isPaused||f.push(b)),g.uploadStarted||o.push(b),(g.uploadStarted||g.preprocess||g.postprocess)&&l.push(b),g.uploadStarted&&c.push(b),b.isPaused&&d.push(b),g.uploadComplete&&h.push(b),b.error&&u.push(b),(g.preprocess||g.postprocess)&&m.push(b)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:h,erroredFiles:u,inProgressFiles:a,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:c.length>0,isAllComplete:s===100&&h.length===r.length&&m.length===0,isAllErrored:!!n&&u.length===r.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:r.some(b=>b.isGhost)}}validateRestrictions(e,s=this.getFiles()){try{j(this,Mn).validate(s,[e])}catch(n){return n}return null}validateSingleFile(e){try{j(this,Mn).validateSingleFile(e)}catch(s){return s.message}return null}validateAggregateRestrictions(e){const s=this.getFiles();try{j(this,Mn).validateAggregateRestrictions(s,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:s}=this.getState();return!!(s[e]&&!s[e].isGhost)}addFile(e){G(this,Me,$v).call(this,e);const{nextFilesState:s,validFilesToAdd:n,errors:r}=G(this,Me,zv).call(this,[e]),a=r.filter(l=>l.isRestriction);if(G(this,Me,Ea).call(this,a),r.length>0)throw r[0];this.setState({files:s});const[o]=n;return this.emit("file-added",o),this.emit("files-added",n),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),G(this,Me,Uv).call(this),o.id}addFiles(e){G(this,Me,$v).call(this);const{nextFilesState:s,validFilesToAdd:n,errors:r}=G(this,Me,zv).call(this,e),a=r.filter(l=>l.isRestriction);G(this,Me,Ea).call(this,a);const o=r.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:s}),n.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),n.length>0&&G(this,Me,Uv).call(this)}removeFiles(e){const{files:s,currentUploads:n}=this.getState(),r={...s},a={...n},o=Object.create(null);e.forEach(h=>{s[h]&&(o[h]=s[h],delete r[h])});function l(h){return o[h]===void 0}Object.keys(a).forEach(h=>{const u=n[h].fileIDs.filter(l);if(u.length===0){delete a[h];return}const{capabilities:f}=this.getState();if(u.length!==n[h].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[h]={...n[h],fileIDs:u}});const c={currentUploads:a,files:r};Object.keys(r).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),j(this,Wa).call(this);const d=Object.keys(o);d.forEach(h=>{this.emit("file-removed",o[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const s=this.getFile(e),r=!(s.isPaused||!1);return this.setFileState(e,{isPaused:r}),this.emit("upload-pause",s,r),r}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const r={...e[n],isPaused:!0};e[n]=r}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const r={...e[n],isPaused:!1,error:null};e[n]=r}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await G(this,Me,Vv).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),s=Object.keys(e);s.length&&this.removeFiles(s),this.setState(Vh)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const s=G(this,Me,Xc).call(this,[e],{forceAllowNewUpload:!0});return G(this,Me,Jc).call(this,s)}logout(){this.iteratePlugins(e=>{var s,n;(n=(s=e.provider)==null?void 0:s.logout)==null||n.call(s)})}[Symbol.for("uppy test: updateTotalProgress")](){return G(this,Me,qv).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...s){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const n=new e(this,...s),r=n.id;if(!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(r);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${r}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${r} v${e.VERSION}`),n.type in j(this,Tn)?j(this,Tn)[n.type].push(n):j(this,Tn)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const s of Object.values(j(this,Tn))){const n=s.find(r=>r.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return j(this,Tn)[e]}iteratePlugins(e){Object.values(j(this,Tn)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const s=j(this,Tn)[e.type],n=s.findIndex(o=>o.id===e.id);n!==-1&&s.splice(n,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),j(this,Nu).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",j(this,$i)),window.removeEventListener("offline",j(this,$i)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,s="info",n=3e3){const r=typeof e=="object";this.setState({info:[...this.getState().info,{type:s,message:r?e.message:e,details:r?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,s){const{logger:n}=this.opts;switch(s){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,s){j(this,Su).set(e,s)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const s=j(this,Su).get(e.remote.requestClientId);if(s==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return s}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?G(this,Me,Jc).call(this,e):(G(this,Me,jf).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return G(this,Me,Xc).call(this,...e)}addResultData(e,s){if(!G(this,Me,TE).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),r={...n[e],result:{...n[e].result,...s}};this.setState({currentUploads:{...n,[e]:r}})}async upload(){var r;(r=j(this,Tn).uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(G(this,Me,Bv).call(this).length>0){const a=await G(this,Me,Vv).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(e=n,this.setState({files:e})),Promise.resolve().then(()=>j(this,Mn).validateMinNumberOfFiles(e)).catch(a=>{throw G(this,Me,Ea).call(this,[a]),a}).then(()=>{if(!G(this,Me,CE).call(this,e))throw new Dn(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(h=>h.fileIDs),l=[];Object.keys(e).forEach(h=>{const u=this.getFile(h);!u.progress.uploadStarted&&o.indexOf(h)===-1&&l.push(u.id)});const c=G(this,Me,Xc).call(this,l),d=await G(this,Me,Jc).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};Tn=new WeakMap,Mn=new WeakMap,Nu=new WeakMap,qa=new WeakMap,kl=new WeakMap,Cl=new WeakMap,Ha=new WeakMap,Me=new WeakSet,Ea=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const s=e.filter(o=>o.isUserFacing),n=4,r=s.slice(0,n),a=s.slice(n);r.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Lv=function(e){const{missingFields:s,error:n}=j(this,Mn).getMissingRequiredMetaFields(e);return s.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:s,error:n.message}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(s.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},CE=function(e){let s=!0;for(const n of Object.values(e))G(this,Me,Lv).call(this,n)||(s=!1);return s},$v=function(e){const{allowNewUpload:s}=this.getState();if(s===!1){const n=new Dn(this.i18n("noMoreFilesAllowed"),{file:e});throw G(this,Me,Ea).call(this,[n]),n}},PE=function(e){const s=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=bE(s),r=N9(n,s),a=xE(r).extension,o=Qz(s,this.getID()),l=s.meta||{};l.name=r,l.type=n;const c=Number.isFinite(s.data.size)?s.data.size:null;return{source:s.source||"",id:o,name:r,extension:a||"",meta:{...this.getState().meta,...l},type:n,data:s.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:s.isRemote||!1,remote:s.remote,preview:s.preview}},Uv=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},zv=function(e){var o;let{files:s}=this.getState(),n={...s};const r=[],a=[];for(const l of e)try{let c=G(this,Me,PE).call(this,l);const d=(o=s[c.id])==null?void 0:o.isGhost;d&&(c={...s[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const h=this.opts.onBeforeFileAdded(c,n);if(s=this.getState().files,n={...s,...n},!h&&this.checkIfFileAlreadyExists(c.id))throw new Dn(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(h===!1&&!d)throw new Dn("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof h=="object"&&h!==null&&(c=h),j(this,Mn).validateSingleFile(c),n[c.id]=c,r.push(c)}catch(c){a.push(c)}try{j(this,Mn).validateAggregateRestrictions(Object.values(s),r)}catch(l){return a.push(l),{nextFilesState:s,validFilesToAdd:[],errors:a}}return{nextFilesState:n,validFilesToAdd:r,errors:a}},Bv=function(){const{files:e}=this.getState();return Object.keys(e).filter(s=>{const n=e[s];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},Vv=async function(){const e=G(this,Me,Bv).call(this),s={...this.getState().files};if(e.forEach(r=>{s[r]={...s[r],isPaused:!1,error:null}}),this.setState({files:s,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=G(this,Me,Xc).call(this,e,{forceAllowNewUpload:!0});return G(this,Me,Jc).call(this,n)},Tp=new WeakMap,qv=function(){const e=G(this,Me,_E).call(this);let s=null;e!=null&&(s=Math.round(e*100),s>100?s=100:s<0&&(s=0)),this.emit("progress",s??0),this.setState({totalProgress:s??0})},Wa=new WeakMap,_E=function(){const s=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(s.length===0)return 0;if(s.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,r=s.filter(n),a=s.filter(c=>!n(c));if(r.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=r.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=r.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},EE=function(){const e=(r,a,o)=>{let l=r.message||"Unknown error";r.details&&(l+=` ${r.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(r,a,o)=>{if(e(a,r,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(r==null?void 0:r.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),G(this,Me,Ea).call(this,[l])}else G(this,Me,Ea).call(this,[a])});let s=null;this.on("upload-stalled",(r,a)=>{const{message:o}=r,l=a.map(c=>c.meta.name).join(", ");s||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),s=setTimeout(()=>{s=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=r=>{const a=r.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",n),this.on("upload-progress",j(this,Tp)),this.on("upload-success",(r,a)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const o=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...o,postprocess:j(this,Ha).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),r.size==null&&this.setFileState(r.id,{size:a.bytesUploaded||o.bytesTotal}),j(this,Wa).call(this)}),this.on("preprocess-progress",(r,a)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:a}})}),this.on("preprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const a={...this.getState().files};a[r.id]={...a[r.id],progress:{...a[r.id].progress}},delete a[r.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(r,a)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:a}})}),this.on("postprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const a={...this.getState().files};a[r.id]={...a[r.id],progress:{...a[r.id].progress}},delete a[r.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{j(this,Wa).call(this)}),this.on("dashboard:file-edit-complete",r=>{r&&G(this,Me,Lv).call(this,r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",j(this,$i)),window.addEventListener("offline",j(this,$i)),setTimeout(j(this,$i),3e3))},$i=new WeakMap,Su=new WeakMap,Xc=function(e,s={}){const{forceAllowNewUpload:n=!1}=s,{allowNewUpload:r,currentUploads:a}=this.getState();if(!r&&!n)throw new Error("Cannot create a new upload: already uploading.");const o=i9();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},TE=function(e){const{currentUploads:s}=this.getState();return s[e]},jf=function(e){const s={...this.getState().currentUploads};delete s[e],this.setState({currentUploads:s})},Jc=async function(e){const s=()=>{const{currentUploads:o}=this.getState();return o[e]};let n=s();const r=[...j(this,kl),...j(this,Cl),...j(this,Ha)];try{for(let o=n.step||0;o<r.length&&n;o++){const l=r[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:o}}});const{fileIDs:c}=n;await l(c,e),n=s()}}catch(o){throw G(this,Me,jf).call(this,e),o}if(n){n.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const o=n.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),n=s()}let a;return n&&(a=n.result,G(this,Me,jf).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},B(Mp,"VERSION",j9.version);let Dv=Mp;var R9=0;function E(t,e,s,n,r,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--R9,__i:-1,__u:0,__source:r,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return He.vnode&&He.vnode(d),d}const I9="@uppy/informer",O9="A notification and error pop-up bar for Uppy.",D9="4.3.2",L9="MIT",$9="lib/index.js",U9="dist/style.min.css",z9="module",B9={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},V9=["file uploader","uppy","uppy-plugin","notification","bar","ui"],q9="https://uppy.io",H9={url:"https://github.com/transloadit/uppy/issues"},W9={type:"git",url:"git+https://github.com/transloadit/uppy.git"},K9=["src","lib","dist","CHANGELOG.md"],G9={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},Y9={"@uppy/core":"^4.5.2"},Q9={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Z9={name:I9,description:O9,version:D9,license:L9,main:$9,style:U9,type:z9,scripts:B9,keywords:V9,homepage:q9,bugs:H9,repository:W9,files:K9,dependencies:G9,peerDependencies:Y9,devDependencies:Q9},yN=300;class X9 extends Ys{constructor(){super(...arguments);B(this,"ref",dz())}componentWillEnter(s){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(s,yN)}componentWillLeave(s){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(s,yN)}render(){const{children:s}=this.props;return E("div",{className:"uppy-Informer-animated",ref:this.ref,children:s})}}function J9(t,e){return Object.assign(t,e)}function eB(t,e){return(t==null?void 0:t.key)??e}function tB(t,e){const s=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return s[e]||(s[e]=n=>{t.refs[e]=n})}function Uc(t){const e={};for(let s=0;s<t.length;s++)if(t[s]!=null){const n=eB(t[s],s.toString(36));e[n]=t[s]}return e}function sB(t,e){t=t||{},e=e||{};const s=o=>Object.hasOwn(e,o)?e[o]:t[o],n={};let r=[];for(const o in t)Object.hasOwn(e,o)?r.length&&(n[o]=r,r=[]):r.push(o);const a={};for(const o in e){if(Object.hasOwn(n,o))for(let l=0;l<n[o].length;l++){const c=n[o][l];a[n[o][l]]=s(c)}a[o]=s(o)}for(let o=0;o<r.length;o++)a[r[o]]=s(r[o]);return a}const nB=t=>t;class ME extends Ys{constructor(e,s){super(e,s),this.refs={},this.state={children:Uc(zn(zn(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const s in e)e[s]&&this.performAppear(s)}componentWillReceiveProps(e){const s=Uc(zn(e.children)||[]),n=this.state.children;this.setState(a=>({children:sB(a.children,s)}));let r;for(r in s)if(Object.hasOwn(s,r)){const a=n&&Object.hasOwn(n,r);s[r]&&a&&this.currentlyTransitioningKeys[r]?(this.keysToEnter.push(r),this.keysToAbortLeave.push(r)):s[r]&&!a&&!this.currentlyTransitioningKeys[r]&&this.keysToEnter.push(r)}for(r in n)if(Object.hasOwn(n,r)){const a=s&&Object.hasOwn(s,r);n[r]&&!a&&!this.currentlyTransitioningKeys[r]&&this.keysToLeave.push(r)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:s}=this;this.keysToLeave=[],s.forEach(this.performLeave)}_finishAbort(e){const s=this.keysToAbortLeave.indexOf(e);s!==-1&&this.keysToAbortLeave.splice(s,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const s=this.refs[e];s!=null&&s.componentWillAppear?s.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const s=this.refs[e];s!=null&&s.componentDidAppear&&s.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Uc(zn(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const s=this.refs[e];s!=null&&s.componentWillEnter?s.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const s=this.refs[e];s!=null&&s.componentDidEnter&&s.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Uc(zn(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const r=Uc(zn(this.props.children)||[]);if(r&&Object.hasOwn(r,e))this.performEnter(e);else{const a=J9({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:s,transitionName:n,transitionAppear:r,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...h},{children:u}){const f=Object.entries(u).map(([m,b])=>{if(!b)return;const g=tB(this,m);return dE(e(b),{ref:g,key:m})}).filter(Boolean);return Yd(d,h,f)}}ME.defaultProps={component:"span",childFactory:nB};class AE extends oc{constructor(s,n){super(s,n);B(this,"render",s=>E("div",{className:"uppy uppy-Informer",children:E(ME,{children:s.info.map(n=>E(X9,{children:E("p",{role:"alert",children:[n.message," ",n.details&&E("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:s}=this.opts;s&&this.mount(s,this)}}B(AE,"VERSION",Z9.version);var FE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=r(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=r(o,l));return o}function r(a,o){return o?a?a+" "+o:a+o:a}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(FE);var rB=FE.exports;const sr=fi(rB),iB={position:"relative",width:"100%",minHeight:"100%"},aB={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class oB extends Ys{constructor(s){super(s);B(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});B(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var s;(s=this.focusElement)!=null&&s.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:s}=this.state;s!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:s,rowHeight:n,renderRow:r,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/n),h=Math.floor(c/n);a&&(d=Math.max(0,d-d%a),h+=a);const u=d+h+4,f=s.slice(d,u),m={...iB,height:s.length*n},b={...aB,top:d*n};return E("div",{onScroll:this.handleScroll,...o,children:E("div",{role:"presentation",style:m,children:E("div",{role:"presentation",style:b,children:f.map(r)})})})}}function lB(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:E("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function vN(t,e,s,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/s)}const cB="@uppy/status-bar",dB="A progress bar for Uppy, with many bells and whistles.",uB="4.2.3",hB="MIT",fB="lib/index.js",pB="dist/style.min.css",mB="module",gB={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},yB=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],vB="https://uppy.io",xB={url:"https://github.com/transloadit/uppy/issues"},bB={type:"git",url:"git+https://github.com/transloadit/uppy.git"},wB=["src","lib","dist","CHANGELOG.md"],jB={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},NB={"@uppy/core":"^4.5.2"},SB={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},kB={name:cB,description:dB,version:uB,license:hB,main:fB,style:pB,type:mB,scripts:gB,keywords:yB,homepage:vB,bugs:xB,repository:bB,files:wB,dependencies:jB,peerDependencies:NB,devDependencies:SB},CB={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ur={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function PB(t){const e=Math.floor(t/3600)%24,s=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:s,seconds:n}}function _B(t){const e=PB(t),s=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,r=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${s}${n}${r}`}const EB="",xN=()=>` ${EB} `;function TB(t){const{newFiles:e,isUploadStarted:s,recoveredState:n,i18n:r,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=sr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ur.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&s&&!n?r("uploadXNewFiles",{smart_count:e}):r("uploadXFiles",{smart_count:e});return E("button",{type:"button",className:c,"aria-label":r("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function MB(t){const{i18n:e,uppy:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>s.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:E("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function AB(t){const{i18n:e,uppy:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>s.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:E("g",{fill:"none",fillRule:"evenodd",children:[E("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),E("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function FB(t){const{isAllPaused:e,i18n:s,isAllComplete:n,resumableUploads:r,uppy:a}=t,o=s(e?"resume":"pause");function l(){if(!n){if(!r){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return E("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:E("g",{fill:"none",fillRule:"evenodd",children:[E("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),E("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function RB(t){const{i18n:e,doneButtonHandler:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:s,"data-uppy-super-focusable":!0,children:e("done")})}function RE(){return E("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:E("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function IB(t){const{progress:e}=t,{value:s,mode:n,message:r}=e;return E("div",{className:"uppy-StatusBar-content",children:[E(RE,{}),n==="determinate"?`${Math.round(s*100)}%  `:"",r]})}function OB(t){const{numUploads:e,complete:s,totalUploadedSize:n,totalSize:r,totalETA:a,i18n:o}=t,l=e>1,c=Ia(n);return E("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:s,smart_count:e}),E("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&xN(),r!=null?o("dataUploadedOfTotal",{complete:c,total:Ia(r)}):o("dataUploadedOfUnknown",{complete:c}),xN(),a!=null&&o("xTimeLeft",{time:_B(a)})]})]})}function IE(t){const{i18n:e,complete:s,numUploads:n}=t;return E("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:s,smart_count:n})})}function DB(t){const{i18n:e,newFiles:s,startUpload:n}=t,r=sr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return E("div",{className:"uppy-StatusBar-statusSecondary",children:[E("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:s})}),E("button",{type:"button",className:r,"aria-label":e("uploadXFiles",{smart_count:s}),onClick:n,children:e("upload")})]})}function LB(t){const{i18n:e,supportsUploadProgress:s,totalProgress:n,showProgressDetails:r,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:h,totalUploadedSize:u,totalSize:f,totalETA:m,startUpload:b}=t,g=c&&a;if(!a||o)return null;const x=e(l?"paused":"uploading");function y(){return!l&&!g&&r?s?E(OB,{numUploads:d,complete:h,totalUploadedSize:u,totalSize:f,totalETA:m,i18n:e}):E(IE,{i18n:e,complete:h,numUploads:d}):null}return E("div",{className:"uppy-StatusBar-content",title:x,children:[l?null:E(RE,{}),E("div",{className:"uppy-StatusBar-status",children:[E("div",{className:"uppy-StatusBar-statusPrimary",children:s&&n!==0?`${x}: ${n}%`:x}),y(),g?E(DB,{i18n:e,newFiles:c,startUpload:b}):null]})]})}function $B(t){const{i18n:e}=t;return E("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:E("div",{className:"uppy-StatusBar-status",children:E("div",{className:"uppy-StatusBar-statusPrimary",children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:E("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function UB(t){const{error:e,i18n:s,complete:n,numUploads:r}=t;function a(){const o=`${s("uploadFailed")} 

 ${e}`;alert(o)}return E("div",{className:"uppy-StatusBar-content",title:s("uploadFailed"),children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:E("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),E("div",{className:"uppy-StatusBar-status",children:[E("div",{className:"uppy-StatusBar-statusPrimary",children:[s("uploadFailed"),E("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":s("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),E(IE,{i18n:s,complete:n,numUploads:r})]})]})}function Dg(t){const e=[];let s="indeterminate",n;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;n==null&&(o||l)&&({mode:s,message:n}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const r=e.reduce((a,o)=>a+o/e.length,0);return{mode:s,message:n,value:r}}const{STATE_ERROR:bN,STATE_WAITING:zB,STATE_PREPROCESSING:Lg,STATE_UPLOADING:qh,STATE_POSTPROCESSING:$g,STATE_COMPLETE:Hh}=ur;function BB({newFiles:t,allowNewUpload:e,isUploadInProgress:s,isAllPaused:n,resumableUploads:r,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:u,totalProgress:f,files:m,supportsUploadProgress:b,hideAfterFinish:g=!1,isSomeGhost:x,doneButtonHandler:y=void 0,isUploadStarted:v,i18n:w,startUpload:S,uppy:N,isAllComplete:P,showProgressDetails:C=void 0,numUploads:_,complete:A,totalSize:k,totalETA:R,totalUploadedSize:O}){function $(){switch(u){case $g:case Lg:{const Se=Dg(m);return Se.mode==="determinate"?Se.value*100:f}case bN:return null;case qh:return b?f:null;default:return f}}function z(){switch(u){case $g:case Lg:{const{mode:Se}=Dg(m);return Se==="indeterminate"}case qh:return!b;default:return!1}}const ee=$(),K=ee??100,Z=!a&&t&&(!s&&!n||h)&&e&&!o,F=!c&&u!==zB&&u!==Hh,I=r&&!l&&u===qh,U=a&&!P&&!d,H=y&&u===Hh,ce=sr("uppy-StatusBar-progress",{"is-indeterminate":z()}),Y=sr("uppy-StatusBar",`is-${u}`,{"has-ghosts":x}),xe=(()=>{switch(u){case Lg:case $g:return E(IB,{progress:Dg(m)});case Hh:return E($B,{i18n:w});case bN:return E(UB,{error:a,i18n:w,numUploads:_,complete:A});case qh:return E(LB,{i18n:w,supportsUploadProgress:b,totalProgress:f,showProgressDetails:C,isUploadStarted:v,isAllComplete:P,isAllPaused:n,newFiles:t,numUploads:_,complete:A,totalUploadedSize:O,totalSize:k,totalETA:R,startUpload:S});default:return null}})();return!(Z||U||I||F||H)&&!xe||u===Hh&&g?null:E("div",{className:Y,children:[E("div",{className:ce,style:{width:`${K}%`},role:"progressbar","aria-label":`${K}%`,"aria-valuetext":`${K}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ee}),xe,E("div",{className:"uppy-StatusBar-actions",children:[Z?E(TB,{newFiles:t,isUploadStarted:v,recoveredState:h,i18n:w,isSomeGhost:x,startUpload:S,uploadState:u}):null,U?E(MB,{i18n:w,uppy:N}):null,I?E(FB,{isAllPaused:n,i18n:w,isAllComplete:P,resumableUploads:r,uppy:N}):null,F?E(AB,{i18n:w,uppy:N}):null,H?E(RB,{i18n:w,doneButtonHandler:y}):null]})]})}const VB=2e3,qB=2e3;function HB(t,e,s,n){if(t)return ur.STATE_ERROR;if(e)return ur.STATE_COMPLETE;if(s)return ur.STATE_WAITING;let r=ur.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ur.STATE_UPLOADING;l.preprocess&&(r=ur.STATE_PREPROCESSING),l.postprocess&&r!==ur.STATE_PREPROCESSING&&(r=ur.STATE_POSTPROCESSING)}return r}const WB={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var sy,Ui,zi,Ka,Yr,Ap,OE,ku;let KB=(sy=class extends oc{constructor(s,n){super(s,{...WB,...n});V(this,Ap);V(this,Ui);V(this,zi);V(this,Ka);V(this,Yr);B(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));V(this,ku,()=>{const{recoveredState:s}=this.uppy.getState();if(W(this,Ka,null),W(this,Yr,null),s){W(this,zi,Object.values(s.files).reduce((n,{progress:r})=>n+r.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}W(this,Ui,performance.now()),W(this,zi,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=CB,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(s){const{capabilities:n,files:r,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=s,{newFiles:d,startedFiles:h,completeFiles:u,isUploadStarted:f,isAllComplete:m,isAllPaused:b,isUploadInProgress:g,isSomeGhost:x}=this.uppy.getObjectOfFilesPerState(),y=c?Object.values(r):d,v=!!n.resumableUploads,w=n.uploadProgress!==!1;let S=null,N=0;h.every(C=>C.progress.bytesTotal!=null&&C.progress.bytesTotal!==0)?(S=0,h.forEach(C=>{S+=C.progress.bytesTotal||0,N+=C.progress.bytesUploaded||0})):h.forEach(C=>{N+=C.progress.bytesUploaded||0});const P=G(this,Ap,OE).call(this,{uploaded:N,total:S});return BB({error:l,uploadState:HB(l,m,c,s.files||{}),allowNewUpload:a,totalProgress:o,totalSize:S,totalUploadedSize:N,isAllComplete:!1,isAllPaused:b,isUploadStarted:f,isUploadInProgress:g,isSomeGhost:x,recoveredState:c,complete:u.length,newFiles:y.length,numUploads:h.length,totalETA:P,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:v,supportsUploadProgress:w,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const s=this.el;X_(s)||(s.dir="ltr")}install(){const{target:s}=this.opts;s&&this.mount(s,this),this.uppy.on("upload",j(this,ku)),W(this,Ui,performance.now()),W(this,zi,this.uppy.getFiles().reduce((n,r)=>n+r.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",j(this,ku))}},Ui=new WeakMap,zi=new WeakMap,Ka=new WeakMap,Yr=new WeakMap,Ap=new WeakSet,OE=function(s){if(s.total==null||s.total===0)return null;const n=s.total-s.uploaded;if(n<=0)return null;j(this,Ui)??W(this,Ui,performance.now());const r=performance.now()-j(this,Ui);if(r===0)return Math.round((j(this,Yr)??0)/100)/10;const a=s.uploaded-j(this,zi);if(W(this,zi,s.uploaded),a<=0)return Math.round((j(this,Yr)??0)/100)/10;const o=a/r,l=j(this,Ka)==null?o:vN(o,j(this,Ka),VB,r);W(this,Ka,l);const c=n/l,d=Math.max(j(this,Yr)-r,0),h=j(this,Yr)==null?c:vN(c,d,qB,r);return W(this,Yr,h),W(this,Ui,performance.now()),Math.round(h/100)/10},ku=new WeakMap,B(sy,"VERSION",kB.version),sy);const GB=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function YB(t,e,s){const n=GB.exec(t),r=e.mimeType??(n==null?void 0:n[1])??"plain/text";let a;if((n==null?void 0:n[2])!=null){const o=atob(decodeURIComponent(n[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(n==null?void 0:n[3])!=null&&(a=[decodeURIComponent(n[3])]);return new Blob(a,{type:r})}function wN(t){return t.startsWith("blob:")}function jN(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function rt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var DE=typeof self<"u"?self:global;const Xd=typeof navigator<"u",QB=Xd&&typeof HTMLImageElement>"u",NN=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),LE=DE.Buffer,$E=!!LE,ZB=t=>t!==void 0;function UE(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(ZB).length===0)}function ss(t){let e=new Error(t);throw delete e.stack,e}function SN(t){let e=function(s){let n=0;return s.ifd0.enabled&&(n+=1024),s.exif.enabled&&(n+=2048),s.makerNote&&(n+=2048),s.userComment&&(n+=1024),s.gps.enabled&&(n+=512),s.interop.enabled&&(n+=100),s.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Ug=t=>String.fromCharCode.apply(null,t),kN=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Bn{static from(e,s){return e instanceof this&&e.le===s?e:new Bn(e,void 0,void 0,s)}constructor(e,s=0,n,r){if(typeof r=="boolean"&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-s);let a=new DataView(e,s,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Bn){n===void 0&&(n=e.byteLength-s),(s+=e.byteOffset)+n>e.byteOffset+e.byteLength&&ss("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,s,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else ss("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,s,n=Bn){return e instanceof DataView||e instanceof Bn?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ss("BufferView.set(): Invalid data argument."),this.toUint8().set(e,s),new n(this,s,e.byteLength)}subarray(e,s){return s=s||this._lengthToEnd(e),new Bn(this,e,s)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,s){return new Uint8Array(this.buffer,this.byteOffset+e,s)}getString(e=0,s=this.byteLength){return r=this.getUint8Array(e,s),kN?kN.decode(r):$E?Buffer.from(r).toString("utf8"):decodeURIComponent(escape(Ug(r)));var r}getLatin1String(e=0,s=this.byteLength){let n=this.getUint8Array(e,s);return Ug(n)}getUnicodeString(e=0,s=this.byteLength){const n=[];for(let r=0;r<s&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return Ug(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,s=this.le){return this.dataView.getInt16(e,s)}getInt32(e,s=this.le){return this.dataView.getInt32(e,s)}getUint16(e,s=this.le){return this.dataView.getUint16(e,s)}getUint32(e,s=this.le){return this.dataView.getUint32(e,s)}getFloat32(e,s=this.le){return this.dataView.getFloat32(e,s)}getFloat64(e,s=this.le){return this.dataView.getFloat64(e,s)}getFloat(e,s=this.le){return this.dataView.getFloat32(e,s)}getDouble(e,s=this.le){return this.dataView.getFloat64(e,s)}getUintBytes(e,s,n){switch(s){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,s,n){switch(s){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Hv(t,e){ss(`${t} '${e}' was not loaded, try using full build of exifr.`)}let mb=class extends Map{constructor(e){super(),this.kind=e}get(e,s){return this.has(e)||Hv(this.kind,e),s&&(e in s||function(n,r){ss(`Unknown ${n} '${r}'.`)}(this.kind,e),s[e].enabled||Hv(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var zE=new mb("file parser"),Ln=new mb("segment parser"),gb=new mb("file reader");let XB=DE.fetch;function CN(t,e){return(s=t).startsWith("data:")||s.length>1e4?Kv(t,e,"base64"):NN&&t.includes("://")?Wv(t,e,"url",PN):NN?Kv(t,e,"fs"):Xd?Wv(t,e,"url",PN):void ss("Invalid input argument");var s}async function Wv(t,e,s,n){return gb.has(s)?Kv(t,e,s):n?async function(r,a){let o=await a(r);return new Bn(o)}(t,n):void ss(`Parser ${s} is not loaded`)}async function Kv(t,e,s){let n=new(gb.get(s))(t,e);return await n.read(),n}const PN=t=>XB(t).then(e=>e.arrayBuffer()),Gv=t=>new Promise((e,s)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=s,n.readAsArrayBuffer(t)}),yb=new Map,JB=new Map,eV=new Map,Wh=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],BE=["jfif","xmp","icc","iptc","ihdr"],Yv=["tiff",...BE],Jt=["ifd0","ifd1","exif","gps","interop"],Kh=[...Yv,...Jt],Gh=["makerNote","userComment"],VE=["translateKeys","translateValues","reviveValues","multiSegment"],Yh=[...VE,"sanitize","mergeOutput","silentErrors"];class qE{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class zc extends qE{get needed(){return this.enabled||this.deps.size>0}constructor(e,s,n,r){if(super(),rt(this,"enabled",!1),rt(this,"skip",new Set),rt(this,"pick",new Set),rt(this,"deps",new Set),rt(this,"translateKeys",!1),rt(this,"translateValues",!1),rt(this,"reviveValues",!1),this.key=e,this.enabled=s,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=Jt.includes(e),this.canBeFiltered&&(this.dict=yb.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:ss(`Invalid options argument: ${n}`)}applyInheritables(e){let s,n;for(s of VE)n=e[s],n!==void 0&&(this[s]=n)}translateTagSet(e,s){if(this.dict){let n,r,{tagKeys:a,tagValues:o}=this.dict;for(n of e)typeof n=="string"?(r=o.indexOf(n),r===-1&&(r=a.indexOf(Number(n))),r!==-1&&s.add(Number(a[r]))):s.add(n)}else for(let n of e)s.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,cp(this.pick,this.deps)):this.enabled&&this.pick.size>0&&cp(this.pick,this.deps)}}var ks={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},_N=new Map;class vb extends qE{static useCached(e){let s=_N.get(e);return s!==void 0||(s=new this(e),_N.set(e,s)),s}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):ss(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Xd?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Wh)this[e]=ks[e];for(e of Yh)this[e]=ks[e];for(e of Gh)this[e]=ks[e];for(e of Kh)this[e]=new zc(e,ks[e],void 0,this)}setupFromTrue(){let e;for(e of Wh)this[e]=ks[e];for(e of Yh)this[e]=ks[e];for(e of Gh)this[e]=!0;for(e of Kh)this[e]=new zc(e,!0,void 0,this)}setupFromArray(e){let s;for(s of Wh)this[s]=ks[s];for(s of Yh)this[s]=ks[s];for(s of Gh)this[s]=ks[s];for(s of Kh)this[s]=new zc(s,!1,void 0,this);this.setupGlobalFilters(e,void 0,Jt)}setupFromObject(e){let s;for(s of(Jt.ifd0=Jt.ifd0||Jt.image,Jt.ifd1=Jt.ifd1||Jt.thumbnail,Object.assign(this,e),Wh))this[s]=zg(e[s],ks[s]);for(s of Yh)this[s]=zg(e[s],ks[s]);for(s of Gh)this[s]=zg(e[s],ks[s]);for(s of Yv)this[s]=new zc(s,ks[s],e[s],this);for(s of Jt)this[s]=new zc(s,ks[s],e[s],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Jt,Kh),e.tiff===!0?this.batchEnableWithBool(Jt,!0):e.tiff===!1?this.batchEnableWithUserValue(Jt,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Jt):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Jt)}batchEnableWithBool(e,s){for(let n of e)this[n].enabled=s}batchEnableWithUserValue(e,s){for(let n of e){let r=s[n];this[n].enabled=r!==!1&&r!==void 0}}setupGlobalFilters(e,s,n,r=n){if(e&&e.length){for(let o of r)this[o].enabled=!1;let a=EN(e,n);for(let[o,l]of a)cp(this[o].pick,l),this[o].enabled=!0}else if(s&&s.length){let a=EN(s,n);for(let[o,l]of a)cp(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:s,xmp:n,iptc:r,icc:a}=this;this.makerNote?s.deps.add(37500):s.skip.add(37500),this.userComment?s.deps.add(37510):s.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:s,gps:n,interop:r}=this;r.needed&&(s.deps.add(40965),e.deps.add(40965)),s.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=Jt.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Jt)this[a].finalizeFilters()}get onlyTiff(){return!BE.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Yv)this[e].enabled&&!Ln.has(e)&&Hv("segment parser",e)}}function EN(t,e){let s,n,r,a,o=[];for(r of e){for(a of(s=yb.get(r),n=[],s))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&o.push([r,n])}return o}function zg(t,e){return t!==void 0?t:e!==void 0?e:void 0}function cp(t,e){for(let s of e)t.add(s)}rt(vb,"default",ks);class tV{constructor(e){rt(this,"parsers",{}),rt(this,"output",{}),rt(this,"errors",[]),rt(this,"pushToErrors",s=>this.errors.push(s)),this.options=vb.useCached(e)}async read(e){this.file=await function(s,n){return typeof s=="string"?CN(s,n):Xd&&!QB&&s instanceof HTMLImageElement?CN(s.src,n):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new Bn(s):Xd&&s instanceof Blob?Wv(s,n,"blob",Gv):void ss("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,s=e.getUint16(0);for(let[n,r]of zE)if(r.canHandle(e,s))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),ss("Unknown file format")}async parse(){let{output:e,errors:s}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),s.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&s.length>0&&(e.errors=s),UE(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let s=Object.values(this.parsers).map(async n=>{let r=await n.parse();n.assignToOutput(e,r)});this.options.silentErrors&&(s=s.map(n=>n.catch(this.pushToErrors))),await Promise.all(s)}async extractThumbnail(){this.setup();let{options:e,file:s}=this,n=Ln.get("tiff",e);var r;if(s.tiff?r={start:0,type:"tiff"}:s.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),r===void 0)return;let a=await this.fileParser.ensureSegmentChunk(r),o=this.parsers.tiff=new n(a,e,s),l=await o.extractThumbnail();return s.close&&s.close(),l}}class Zo{static findPosition(e,s){let n=e.getUint16(s+2)+2,r=typeof this.headerLength=="function"?this.headerLength(e,s,n):this.headerLength,a=s+r,o=n-r;return{offset:s,length:n,headerLength:r,start:a,size:o,end:a+o}}static parse(e,s={}){return new this(e,new vb({[this.type]:s}),e).parse()}normalizeInput(e){return e instanceof Bn?e:new Bn(e)}constructor(e,s={},n){rt(this,"errors",[]),rt(this,"raw",new Map),rt(this,"handleError",r=>{if(!this.options.silentErrors)throw r;this.errors.push(r.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,s){let n=eV.get(s),r=JB.get(s),a=yb.get(s),o=this.options[s],l=o.reviveValues&&!!n,c=o.translateValues&&!!r,d=o.translateKeys&&!!a,h={};for(let[u,f]of e)l&&n.has(u)?f=n.get(u)(f):c&&r.has(u)&&(f=this.translateValue(f,r.get(u))),d&&a.has(u)&&(u=a.get(u)||u),h[u]=f;return h}translateValue(e,s){return s[e]||s.DEFAULT||e}assignToOutput(e,s){this.assignObjectToOutput(e,this.constructor.type,s)}assignObjectToOutput(e,s,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[s]?Object.assign(e[s],n):e[s]=n}}rt(Zo,"headerLength",4),rt(Zo,"type",void 0),rt(Zo,"multiSegment",!1),rt(Zo,"canHandle",()=>!1);function sV(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function nV(t){return t>=224&&t<=239}function rV(t,e,s){for(let[n,r]of Ln)if(r.canHandle(t,e,s))return n}class TN extends class{constructor(e,s,n){rt(this,"errors",[]),rt(this,"ensureSegmentChunk",async r=>{let a=r.start,o=r.size||65536;if(this.file.chunked)if(this.file.available(a,o))r.chunk=this.file.subarray(a,o);else try{r.chunk=await this.file.readChunk(a,o)}catch(l){ss(`Couldn't read segment: ${JSON.stringify(r)}. ${l.message}`)}else this.file.byteLength>a+o?r.chunk=this.file.subarray(a,o):r.size===void 0?r.chunk=this.file.subarray(a):ss("Segment unreachable: "+JSON.stringify(r));return r.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=s,this.parsers=n}injectSegment(e,s){this.options[e].enabled&&this.createParser(e,s)}createParser(e,s){let n=new(Ln.get(e))(s,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let s of e){let{type:n,chunk:r}=s,a=this.options[n];if(a&&a.enabled){let o=this.parsers[n];o&&o.append||o||this.createParser(n,r)}}}async readSegments(e){let s=e.map(this.ensureSegmentChunk);await Promise.all(s)}}{constructor(...e){super(...e),rt(this,"appSegments",[]),rt(this,"jpegSegments",[]),rt(this,"unknownSegments",[])}static canHandle(e,s){return s===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Ln.keyList())):(e=e===void 0?Ln.keyList().filter(s=>this.options[s].enabled):e.filter(s=>this.options[s].enabled&&Ln.has(s)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,s){this.setupSegmentFinderArgs(s);let{file:n,findAll:r,wanted:a,remaining:o}=this;if(!r&&this.file.chunked&&(r=Array.from(a).some(l=>{let c=Ln.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;o.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(l=e>c&&!d?!await n.readNextChunk(e):!await n.readNextChunk(c),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,s){s-=2;let n,r,a,o,l,c,{file:d,findAll:h,wanted:u,remaining:f,options:m}=this;for(;e<s;e++)if(d.getUint8(e)===255){if(n=d.getUint8(e+1),nV(n)){if(r=d.getUint16(e+2),a=rV(d,e,r),a&&u.has(a)&&(o=Ln.get(a),l=o.findPosition(d,e),c=m[a],l.type=a,this.appSegments.push(l),!h&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(a)):f.delete(a),f.size===0)))break;m.recordUnknownSegments&&(l=Zo.findPosition(d,e),l.marker=n,this.unknownSegments.push(l)),e+=r+1}else if(sV(n)){if(r=d.getUint16(e+2),n===218&&m.stopAfterSos!==!1)return;m.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(s=>s.multiSegment))return;let e=function(s,n){let r,a,o,l=new Map;for(let c=0;c<s.length;c++)r=s[c],a=r[n],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(r);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([s,n])=>{let r=Ln.get(s,this.options);return r.handleMultiSegments?{type:s,chunk:r.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(s=>s.type===e)}async getOrFindSegment(e){let s=this.getSegment(e);return s===void 0&&(await this.findAppSegments(0,[e]),s=this.getSegment(e)),s}}rt(TN,"type","jpeg"),zE.set("jpeg",TN);const iV=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class aV extends Zo{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,s,n=new Map){let{pick:r,skip:a}=this.options[s];r=new Set(r);let o=r.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let h=this.chunk.getUint16(e);if(o){if(r.has(h)&&(n.set(h,this.parseTag(e,h,s)),r.delete(h),r.size===0))break}else!l&&a.has(h)||n.set(h,this.parseTag(e,h,s));e+=12}return n}parseTag(e,s,n){let{chunk:r}=this,a=r.getUint16(e+2),o=r.getUint32(e+4),l=iV[a];if(l*o<=4?e+=8:e=r.getUint32(e+8),(a<1||a>13)&&ss(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${e}`),e>r.byteLength&&ss(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${r.byteLength}`),a===1)return r.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=r.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return r.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),h=l;for(let u=0;u<o;u++)d[u]=this.parseTagValue(a,e),e+=h;return d}}parseTagValue(e,s){let{chunk:n}=this;switch(e){case 1:return n.getUint8(s);case 3:return n.getUint16(s);case 4:return n.getUint32(s);case 5:return n.getUint32(s)/n.getUint32(s+4);case 6:return n.getInt8(s);case 8:return n.getInt16(s);case 9:return n.getInt32(s);case 10:return n.getInt32(s)/n.getInt32(s+4);case 11:return n.getFloat(s);case 12:return n.getDouble(s);case 13:return n.getUint32(s);default:ss(`Invalid tiff type ${e}`)}}}class Bg extends aV{static canHandle(e,s){return e.getUint8(s+1)===225&&e.getUint32(s+4)===1165519206&&e.getUint16(s+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let s=this[e]();return s.catch!==void 0&&(s=s.catch(this.handleError)),s}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),s=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(s)}}parseBlock(e,s){let n=new Map;return this[s]=n,this.parseTags(e,s,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ss("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&ss(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,SN(this.options));let s=this.parseBlock(this.ifd0Offset,"ifd0");return s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,SN(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,s){let n=e.get(s);n&&n.length===1&&e.set(s,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",MN(...e.get(2),e.get(1))),e.set("longitude",MN(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),s=this.ifd1.get(514);return this.chunk.getUint8Array(e,s)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,s,n,r={};for(s of Jt)if(e=this[s],!UE(e))if(n=this.canTranslate?this.translateBlock(e,s):Object.fromEntries(e),this.options.mergeOutput){if(s==="ifd1")continue;Object.assign(r,n)}else r[s]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,s){if(this.globalOptions.mergeOutput)Object.assign(e,s);else for(let[n,r]of Object.entries(s))this.assignObjectToOutput(e,n,r)}}function MN(t,e,s,n){var r=t+e/60+s/3600;return n!=="S"&&n!=="W"||(r*=-1),r}rt(Bg,"type","tiff"),rt(Bg,"headerLength",10),Ln.set("tiff",Bg);const xb={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},xb,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},xb,{tiff:!1,ifd1:!0,mergeOutput:!1});const oV=Object.assign({},xb,{firstChunkSize:4e4,ifd0:[274]});async function lV(t){let e=new tV(oV);await e.read(t);let s=await e.parse();if(s&&s.ifd0)return s.ifd0[274]}const cV=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ed=!0,td=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,s,n]=e;ed=Number(s)+.1*Number(n)<13.4,td=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);ed=td=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);ed=td=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);ed=td=Number(e)<77}}async function dV(t){let e=await lV(t);return Object.assign({canvas:ed,css:td},cV[e])}class uV extends Bn{constructor(...e){super(...e),rt(this,"ranges",new hV),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,s,n){if(e===0&&this.byteLength===0&&n){let r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{let r=e+s;if(r>this.byteLength){let{dataView:a}=this._extend(r);this._swapDataView(a)}}}_extend(e){let s;s=$E?LE.allocUnsafe(e):new Uint8Array(e);let n=new DataView(s.buffer,s.byteOffset,s.byteLength);return s.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:s,dataView:n}}subarray(e,s,n=!1){return s=s||this._lengthToEnd(e),n&&this._tryExtend(e,s),this.ranges.add(e,s),super.subarray(e,s)}set(e,s,n=!1){n&&this._tryExtend(s,e.byteLength,e);let r=super.set(e,s);return this.ranges.add(s,r.byteLength),r}async ensureChunk(e,s){this.chunked&&(this.ranges.available(e,s)||await this.readChunk(e,s))}available(e,s){return this.ranges.available(e,s)}}class hV{constructor(){rt(this,"list",[])}get length(){return this.list.length}add(e,s,n=0){let r=e+s,a=this.list.filter(o=>AN(e,o.offset,r)||AN(e,o.end,r));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),r=Math.max(r,...a.map(l=>l.end)),s=r-e;let o=a.shift();o.offset=e,o.length=s,o.end=r,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:s,end:r})}available(e,s){let n=e+s;return this.list.some(r=>r.offset<=e&&n<=r.end)}}function AN(t,e,s){return t<=e&&e<=s}class fV extends uV{constructor(e,s){super(0),rt(this,"chunksRead",0),this.input=e,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let s=this.options.chunkSize,n=await this.readChunk(e,s);return!!n&&n.byteLength===s}async readChunk(e,s){if(this.chunksRead++,(s=this.safeWrapAddress(e,s))!==0)return this._readChunk(e,s)}safeWrapAddress(e,s){return this.size!==void 0&&e+s>this.size?Math.max(0,this.size-e):s}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}gb.set("blob",class extends fV{async readWhole(){this.chunked=!1;let t=await Gv(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let s=e?t+e:void 0,n=this.input.slice(t,s),r=await Gv(n);return this.set(r,t,!0)}});const pV="@uppy/thumbnail-generator",mV="Uppy plugin that generates small previews of images to show on your upload UI.",gV="4.2.2",yV="MIT",vV="lib/index.js",xV="module",bV={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},wV=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],jV="https://uppy.io",NV={url:"https://github.com/transloadit/uppy/issues"},SV={type:"git",url:"git+https://github.com/transloadit/uppy.git"},kV=["src","lib","dist","CHANGELOG.md"],CV={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},PV={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},_V={"@uppy/core":"^4.5.2"},EV={name:pV,description:mV,version:gV,license:yV,main:vV,type:xV,scripts:bV,keywords:wV,homepage:jV,bugs:NV,repository:SV,files:kV,dependencies:CV,devDependencies:PV,peerDependencies:_V},TV={strings:{generatingThumbnails:"Generating thumbnails..."}};function MV(t,e,s){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,s)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>YB(t.toDataURL(e,s),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function AV(t,e){let s=t.width,n=t.height;(e.deg===90||e.deg===270)&&(s=t.height,n=t.width);const r=document.createElement("canvas");r.width=s,r.height=n;const a=r.getContext("2d");return a.translate(s/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),r}function FV(t){const e=t.width/t.height,s=5e6,n=4096;let r=Math.floor(Math.sqrt(s*e)),a=Math.floor(s/Math.sqrt(s*e));if(r>n&&(r=n,a=Math.round(r/e)),a>n&&(a=n,r=Math.round(e*a)),t.width>r){const o=document.createElement("canvas");return o.width=r,o.height=a,o.getContext("2d").drawImage(t,0,0,r,a),o}return t}const RV={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class HE extends oc{constructor(s,n){super(s,{...RV,...n});B(this,"queue");B(this,"queueProcessing");B(this,"defaultThumbnailDimension");B(this,"thumbnailType");B(this,"onFileAdded",s=>{!s.preview&&s.data&&jN(s.type)&&!s.isRemote&&this.addToQueue(s.id)});B(this,"onCancelRequest",s=>{const n=this.queue.indexOf(s.id);n!==-1&&this.queue.splice(n,1)});B(this,"onFileRemoved",s=>{const n=this.queue.indexOf(s.id);n!==-1&&this.queue.splice(n,1),s.preview&&wN(s.preview)&&URL.revokeObjectURL(s.preview)});B(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||wN(n.preview))&&this.addToQueue(n.id)})});B(this,"onAllFilesRemoved",()=>{this.queue=[]});B(this,"waitUntilAllProcessed",s=>{s.forEach(r=>{const a=this.uppy.getFile(r);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{s.forEach(r=>{const a=this.uppy.getFile(r);this.uppy.emit("preprocess-complete",a)})};return new Promise(r=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),r()}):(n(),r())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=TV,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(s,n,r){const a=URL.createObjectURL(s.data),o=new Promise((c,d)=>{const h=new Image;h.src=a,h.addEventListener("load",()=>{URL.revokeObjectURL(a),c(h)}),h.addEventListener("error",u=>{URL.revokeObjectURL(a),d(u.error||new Error("Could not create thumbnail"))})}),l=dV(s.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const h=this.getProportionalDimensions(c,n,r,d.deg),u=AV(c,d),f=this.resizeImage(u,h.width,h.height);return MV(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(s,n,r,a){let o=s.width/s.height;return(a===90||a===270)&&(o=s.height/s.width),n!=null?{width:n,height:Math.round(n/o)}:r!=null?{width:Math.round(r*o),height:r}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(s,n,r){let a=FV(s),o=Math.ceil(Math.log2(a.width/n));o<1&&(o=1);let l=n*2**(o-1),c=r*2**(o-1);const d=2;for(;o--;){const h=document.createElement("canvas");h.width=l,h.height=c,h.getContext("2d").drawImage(a,0,0,l,c),a=h,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(s,n){this.uppy.setFileState(s,{preview:n})}addToQueue(s){this.queue.push(s),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const s=this.uppy.getFile(this.queue.shift());return s?this.requestThumbnail(s).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(s){return jN(s.type)&&!s.isRemote?this.createThumbnail(s,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(s.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${s.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(s.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${s.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(s.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}B(HE,"VERSION",EV.version);function FN(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&Z_(t)?[t]:null}const wd=Array.from;function IV(t){const e=wd(t.files);return Promise.resolve(e)}function WE(t,e,s,{onSuccess:n}){t.readEntries(r=>{const a=[...e,...r];r.length?queueMicrotask(()=>{WE(t,a,s,{onSuccess:n})}):n(a)},r=>{s(r),n(e)})}function KE(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((s,n)=>t.file(s,n))},async*values(){const s=t.createReader();yield*await new Promise(r=>{WE(s,[],e,{onSuccess:a=>r(a.map(o=>KE(o,e)))})})},isSameEntry:void 0}}async function*GE(t,e,s=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const r=await t.getFile();r!=null?(r.relativePath=e?n():null,yield r):s!=null&&(yield s)}else if(t.kind==="directory")for await(const r of t.values())yield*GE(r,e?n():t.name);else s!=null&&(yield s)}async function*OV(t,e){const s=await Promise.all(Array.from(t.items,async n=>{let r;return r??(r=KE(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:r,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:r}of s)if(r!=null)try{yield*GE(r,"",n)}catch(a){n!=null?yield n:e(a)}else n!=null&&(yield n)}async function DV(t,e){const s=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const r of OV(t,s))n.push(r);return n}catch{return IV(t)}}let LV="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",YE=(t=21)=>{let e="",s=t|0;for(;s--;)e+=LV[Math.random()*64|0];return e};const $V="@uppy/dashboard",UV="Universal UI plugin for Uppy.",zV="4.4.3",BV="MIT",VV="lib/index.js",qV="dist/style.min.css",HV="module",WV={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},KV=["file uploader","uppy","uppy-plugin","dashboard","ui"],GV="https://uppy.io",YV={url:"https://github.com/transloadit/uppy/issues"},QV={type:"git",url:"git+https://github.com/transloadit/uppy.git"},ZV=["src","lib","dist","CHANGELOG.md"],XV={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},JV={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},eq={"@uppy/core":"^4.5.2"},tq={name:$V,description:UV,version:zV,license:BV,main:VV,style:qV,type:HV,scripts:WV,keywords:KV,homepage:GV,bugs:YV,repository:QV,files:ZV,dependencies:XV,devDependencies:JV,peerDependencies:eq};function sq(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}class QE extends Ys{constructor(){super(...arguments);B(this,"fileInput",null);B(this,"folderInput",null);B(this,"mobilePhotoFileInput",null);B(this,"mobileVideoFileInput",null);B(this,"triggerFileInputClick",()=>{var s;(s=this.fileInput)==null||s.click()});B(this,"triggerFolderInputClick",()=>{var s;(s=this.folderInput)==null||s.click()});B(this,"triggerVideoCameraInputClick",()=>{var s;(s=this.mobileVideoFileInput)==null||s.click()});B(this,"triggerPhotoCameraInputClick",()=>{var s;(s=this.mobilePhotoFileInput)==null||s.click()});B(this,"onFileInputChange",s=>{this.props.handleInputChange(s),s.currentTarget.value=""});B(this,"renderHiddenInput",(s,n)=>{var r;return E("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:s,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(r=this.props.allowedFileTypes)==null?void 0:r.join(", "),ref:n})});B(this,"renderHiddenCameraInput",(s,n,r)=>{const o={photo:"image/*",video:"video/*"}[s];return E("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${s}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:o,ref:r})});B(this,"renderMyDeviceAcquirer",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));B(this,"renderPhotoCamera",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));B(this,"renderVideoCamera",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));B(this,"renderBrowseButton",(s,n)=>{const r=this.props.acquirers.length;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":r===0,children:s})});B(this,"renderDropPasteBrowseTagline",s=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return E("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):s>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:n,browseFolders:r,browse:n}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:n,browseFolders:r,browse:n})})});B(this,"renderAcquirer",s=>{var n;return E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":s.id,children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":s.id,"aria-controls":`uppy-DashboardContent-panel--${s.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===s.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(s.id),children:[E("div",{className:"uppy-DashboardTab-inner",children:s.icon()}),E("div",{className:"uppy-DashboardTab-name",children:s.name})]})})});B(this,"renderAcquirers",s=>{const n=[...s],r=n.splice(s.length-2,s.length);return E(Hn,{children:[n.map(a=>this.renderAcquirer(a)),E("span",{role:"presentation",style:{"white-space":"nowrap"},children:r.map(a=>this.renderAcquirer(a))})]})});B(this,"renderSourcesList",(s,n)=>{const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";n||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),r&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...s.map(u=>({key:u.id,elements:this.renderAcquirer(u)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],h=d.splice(o.length-2,o.length);return E(Hn,{children:[this.renderDropPasteBrowseTagline(o.length),E("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:u,elements:f})=>E(Hn,{children:f},u)),E("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:u,elements:f})=>E(Hn,{children:f},u))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:s}=this.props,n=E("span",{children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:E("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),E("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),r=s("poweredBy",{uppy:n});return E("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:r})}render(){const{showNativePhotoCameraButton:s,showNativeVideoCameraButton:n,nativeCameraFacingMode:r}=this.props;return E("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),s&&this.renderHiddenCameraInput("photo",r,a=>{this.mobilePhotoFileInput=a}),n&&this.renderHiddenCameraInput("video",r,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),E("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&E("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const nq=t=>E("div",{className:sr("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),E(QE,{...t})]});function rq(t){const e=t.files[t.fileCardFor],s=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return E("div",{className:sr("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:E("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:t.i18n("cancel")}),E("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),E("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function iq(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:E("g",{fill:"#686DE0",fillRule:"evenodd",children:[E("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),E("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),E("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function aq(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function oq(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function lq(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function cq(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function dq(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[E("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),E("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function uq(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function bb(t){const e={color:"#838999",icon:dq()};if(!t)return e;const s=t.split("/")[0],n=t.split("/")[1];return s==="text"?{color:"#5a5e69",icon:uq()}:s==="image"?{color:"#686de0",icon:iq()}:s==="audio"?{color:"#068dbb",icon:aq()}:s==="video"?{color:"#19af67",icon:oq()}:s==="application"&&n==="pdf"?{color:"#e25149",icon:lq()}:s==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:cq()}:e}function Wi(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function ZE(t){const{file:e}=t;if(e.preview)return E("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:s,icon:n}=bb(e.type);return E("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[E("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:s},children:n}),E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:E("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function hq(t){const{computedMetaFields:e,requiredMetaFields:s,updateMeta:n,form:r,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=s.includes(l.id);return E("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[E("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:h=>n(h,l.id),fieldCSSClasses:o,required:d,form:r.id},Yd):E("input",{className:o.text,id:c,form:r.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:h=>n(h.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function fq(t){const{files:e,fileCardFor:s,toggleFileCard:n,saveFileCard:r,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:h,canEditFile:u}=t,f=()=>typeof a=="function"?a(e[s]):a,m=e[s],b=f()??[],g=u(m),x={};b.forEach(C=>{x[C.id]=m.meta[C.id]??""});const[y,v]=lp(x),w=yz(C=>{C.preventDefault(),r(y,s)},[r,y,s]),S=(C,_)=>{v({...y,[_]:C})},N=()=>{n(!1)},[P]=lp(()=>{const C=document.createElement("form");return C.setAttribute("tabindex","-1"),C.id=YE(),C});return Iv(()=>(document.body.appendChild(P),P.addEventListener("submit",w),()=>{P.removeEventListener("submit",w),document.body.removeChild(P)}),[P,w]),E("div",{className:sr("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Wi,onDragLeave:Wi,onDrop:Wi,onPaste:Wi,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:E("span",{className:"uppy-DashboardContent-titleFile",children:m.meta?m.meta.name:m.name})})}),E("button",{className:"uppy-DashboardContent-back",type:"button",form:P.id,title:c("finishEditingFile"),onClick:N,children:c("cancel")})]}),E("div",{className:"uppy-Dashboard-FileCard-inner",children:[E("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:bb(m.type).color},children:[E(ZE,{file:m}),g&&E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:C=>{w(C),l(m)},children:c("editImage")})]}),E("div",{className:"uppy-Dashboard-FileCard-info",children:E(hq,{computedMetaFields:b,requiredMetaFields:o,updateMeta:S,form:P,formState:y})}),E("div",{className:"uppy-Dashboard-FileCard-actions",children:[E("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:P.id,children:c("saveChanges")}),E("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:N,form:P.id,children:c("cancel")})]})]})]})}function pq(t,e){if(t===e)return!0;if(!t||!e)return!1;const s=Object.keys(t),n=Object.keys(e),r=s.length;if(n.length!==r)return!1;for(let a=0;a<r;a++){const o=s[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function mq(t,e="Copy the URL below"){return new Promise(s=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const r=()=>{document.body.removeChild(n),window.prompt(e,t),s()};try{return document.execCommand("copy")?(document.body.removeChild(n),s()):r()}catch{return document.body.removeChild(n),r()}})}function gq({file:t,uploadInProgressOrComplete:e,metaFields:s,canEditFile:n,i18n:r,onClick:a}){return!e&&s&&s.length>0||!e&&n(t)?E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":r("editFileWithFilename",{file:t.meta.name}),title:r("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:E("g",{fillRule:"evenodd",children:[E("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),E("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),E("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function yq({i18n:t,onClick:e,file:s}){return E("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:s.meta.name}),title:t("removeFile",{file:s.meta.name}),onClick:()=>e(),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[E("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),E("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function vq({file:t,uppy:e,i18n:s}){const n=r=>{mq(t.uploadURL,s("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(s("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>r.target.focus({preventScroll:!0}))};return E("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":s("copyLink"),title:s("copyLink"),onClick:r=>n(r),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:E("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function xq(t){const{uppy:e,file:s,uploadInProgressOrComplete:n,canEditFile:r,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:h}=t;return E("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[E(gq,{i18n:c,file:s,uploadInProgressOrComplete:n,canEditFile:r,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,s.id):h(s)}}),o&&s.uploadURL?E(vq,{file:s,uppy:e,i18n:c}):null,l?E(yq,{i18n:c,file:s,onClick:()=>e.removeFile(s.id)}):null]})}const Vg="...";function XE(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Vg.length+1)return`${t.slice(0,e-1)}`;const s=e-Vg.length,n=Math.ceil(s/2),r=Math.floor(s/2);return t.slice(0,n)+Vg+t.slice(-r)}const bq=(t,e)=>(typeof e=="function"?e():e).filter(r=>r.id===t)[0].name;function JE(t){const{file:e,toggleFileCard:s,i18n:n,metaFields:r}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>bq(l,r)).join(", ");return E("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",E("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>s(!0,e.id),children:n("editFile")})]})}const wq=t=>{const{author:e,name:s}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return E("div",{className:"uppy-Dashboard-Item-name",title:s,children:XE(s,n())})},jq=t=>{var r;const{author:e}=t.file.meta,s=(r=t.file.remote)==null?void 0:r.providerName,n="";return e?E("div",{className:"uppy-Dashboard-Item-author",children:[E("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:XE(e.name,13)}),s?E(Hn,{children:[` ${n} `,s,` ${n} `]}):null]}):null},Nq=t=>t.file.size&&E("div",{className:"uppy-Dashboard-Item-statusSize",children:Ia(t.file.size)}),Sq=t=>t.file.isGhost&&E("span",{children:["  ",E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),kq=({file:t,onClick:e})=>t.error?E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Cq(t){const{file:e,i18n:s,toggleFileCard:n,metaFields:r,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return E("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[E("div",{className:"uppy-Dashboard-Item-fileName",children:[wq({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),E(kq,{file:e,onClick:()=>alert(e.error)})]}),E("div",{className:"uppy-Dashboard-Item-status",children:[jq({file:e}),Nq({file:e}),Sq({file:e,toggleAddFilesPanel:a,i18n:s})]}),E(JE,{file:e,i18n:s,toggleFileCard:n,metaFields:r})]})}function Pq(t){const{file:e,i18n:s,toggleFileCard:n,metaFields:r,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":bb(e.type).color;return E("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&E("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:E("span",{hidden:!0,children:e.meta.name})}),E(ZE,{file:e}),E(JE,{file:e,i18n:s,toggleFileCard:n,metaFields:r})]})}function _q(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function RN(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function qg(t){return E("div",{className:"uppy-Dashboard-Item-progress",children:E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":RN(t),title:RN(t),onClick:()=>_q(t),children:t.children})})}function Qh({children:t}){return E("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Hg({progress:t}){const e=2*Math.PI*15;return E("g",{children:[E("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),E("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function Eq(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?E("div",{className:"uppy-Dashboard-Item-progress",children:E("div",{className:"uppy-Dashboard-Item-progressIndicator",children:E(Qh,{children:[E("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),E("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?E(qg,{...t,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[E("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),E("path",{d:"M7.9 3H10v2H7.9z"}),E("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),E("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?E(qg,{...t,children:E(Qh,{children:[E(Hg,{progress:t.file.progress.percentage}),t.file.isPaused?E("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):E("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[E("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),E("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?E(qg,{...t,children:E(Qh,{children:[E(Hg,{progress:t.file.progress.percentage}),E("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):E("div",{className:"uppy-Dashboard-Item-progress",children:E("div",{className:"uppy-Dashboard-Item-progressIndicator",children:E(Qh,{children:E(Hg,{progress:t.file.progress.percentage})})})})}class Tq extends Ys{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!pq(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,s=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!s&&!e.error,r=!!e.progress.uploadStarted||!!s,a=e.progress.uploadStarted&&!e.progress.uploadComplete||s,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=sr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":s,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return E("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[E("div",{className:"uppy-Dashboard-Item-preview",children:[E(Pq,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),E(Eq,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),E("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[E(Cq,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),E(xq,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Mq(t,e){const s=[];let n=[];return t.forEach(r=>{n.length<e?n.push(r):(s.push(n),n=[r])}),n.length&&s.push(n),s}function Aq({id:t,i18n:e,uppy:s,files:n,resumableUploads:r,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:u,toggleFileCard:f,handleRequestThumbnail:m,handleCancelThumbnail:b,recoveredState:g,individualCancellation:x,itemsPerRow:y,openFileEditor:v,canEditFile:w,toggleAddFilesPanel:S,containerWidth:N,containerHeight:P}){const C=y===1?71:200,_=fb(()=>{const k=(O,$)=>Number(n[$].isGhost)-Number(n[O].isGhost),R=Object.keys(n);return g&&R.sort(k),Mq(R,y)},[n,y,g]),A=k=>E("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:k.map(R=>E(Tq,{uppy:s,id:t,i18n:e,resumableUploads:r,individualCancellation:x,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:g,isSingleFile:u,containerWidth:N,containerHeight:P,toggleFileCard:f,handleRequestThumbnail:m,handleCancelThumbnail:b,role:"listitem",openFileEditor:v,canEditFile:w,toggleAddFilesPanel:S,file:n[R]},R))},k[0]);return u?E("div",{class:"uppy-Dashboard-files",children:A(_[0])}):E(oB,{class:"uppy-Dashboard-files",role:"list",data:_,renderRow:A,rowHeight:C})}function Fq({activePickerPanel:t,className:e,hideAllPanels:s,i18n:n,state:r,uppy:a}){const o=bf(null);return E("div",{className:sr("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Wi,onDragLeave:Wi,onDrop:Wi,onPaste:Wi,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:n("cancel")})]}),E("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(r,o.current)})]})}const cr={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Rq(t,e,s,n={}){if(t)return cr.STATE_ERROR;if(e)return cr.STATE_COMPLETE;if(s)return cr.STATE_PAUSED;let r=cr.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return cr.STATE_UPLOADING;l.preprocess&&r!==cr.STATE_UPLOADING&&(r=cr.STATE_PREPROCESSING),l.postprocess&&r!==cr.STATE_UPLOADING&&r!==cr.STATE_PREPROCESSING&&(r=cr.STATE_POSTPROCESSING)}return r}function Iq({files:t,i18n:e,isAllComplete:s,isAllErrored:n,isAllPaused:r,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Rq(n,s,r,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function Oq(t){const{i18n:e,isAllComplete:s,hideCancelButton:n,maxNumberOfFiles:r,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&r&&(l=t.totalFileCount<t.maxNumberOfFiles),E("div",{className:"uppy-DashboardContent-bar",children:[!s&&!n?E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):E("div",{}),E("div",{className:"uppy-DashboardContent-title",children:E(Iq,{...t})}),l?E("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:E("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),E("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):E("div",{})]})}const Ro="uppy-transition-slideDownUp",IN=250;function Zh({children:t}){const[e,s]=lp(null),[n,r]=lp(""),a=bf(),o=bf(),l=bf(),c=()=>{r(`${Ro}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{r(`${Ro}-enter ${Ro}-enter-active`),a.current=setTimeout(()=>{r("")},IN)})},d=()=>{r(`${Ro}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{r(`${Ro}-leave ${Ro}-leave-active`),o.current=setTimeout(()=>{s(null),r("")},IN)})};return Iv(()=>{const h=zn(t)[0];e!==h&&(h&&!e?c():e&&!h&&!o.current&&d(),s(h))},[t,e]),Iv(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?dE(e,{className:sr(n,e.props.className)}):null}const ON=900,DN=700,Wg=576,LN=330;function Dq(t){const e=t.totalFileCount===0,s=t.totalFileCount===1,n=t.containerWidth>Wg,r=t.containerHeight>LN,a=sr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Wg,"uppy-size--lg":t.containerWidth>DN,"uppy-size--xl":t.containerWidth>ON,"uppy-size--height-md":t.containerHeight>LN,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&s&&r});let o=1;t.containerWidth>ON?o=5:t.containerWidth>DN?o=4:t.containerWidth>Wg&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(f=>t.files[f].isGhost).length:0,h=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return E("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&sq(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[E("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),E("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:E("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:E("span",{"aria-hidden":"true",children:""})}),E("div",{className:"uppy-Dashboard-innerWrap",children:[E("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&E(Oq,{...t}),c&&E("div",{className:"uppy-Dashboard-serviceMsg",children:[E("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:E("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[E("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),E("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),E("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),E("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),E("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),l?E(Aq,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:s,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):E(QE,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),E(Zh,{children:t.showAddFilesPanel?E(nq,{...t,isSizeMD:n},"AddFiles"):null}),E(Zh,{children:t.fileCardFor?E(fq,{...t},"FileCard"):null}),E(Zh,{children:t.activePickerPanel?E(Fq,{...t},"Picker"):null}),E(Zh,{children:t.showFileEditor?E(rq,{...t},"Editor"):null}),E("div",{className:"uppy-Dashboard-progressindicators",children:t.progressindicators.map(f=>t.uppy.getPlugin(f.id).render(t.state))})]})]})]})}const Lq={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},eT=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function tT(t,e){if(e){const s=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(s)return s}return t}function $q(){let t=!1;return Y7((s,n)=>{const r=tT(s,n),a=r.contains(document.activeElement);if(a&&t)return;const o=r.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=r.querySelector(eT);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function $N(t,e){const s=e[0];s&&(s.focus(),t.preventDefault())}function Uq(t,e){const s=e[e.length-1];s&&(s.focus(),t.preventDefault())}function zq(t){return t.contains(document.activeElement)}function sT(t,e,s){const n=tT(s,e),r=wd(n.querySelectorAll(eT)),a=r.indexOf(document.activeElement);zq(n)?t.shiftKey&&a===0?Uq(t,r):!t.shiftKey&&a===r.length-1&&$N(t,r):$N(t,r)}function Bq(t,e,s){e===null||sT(t,e,s)}const UN=9,Vq=27;function zN(){const t={};return t.promise=new Promise((e,s)=>{t.resolve=e,t.reject=s}),t}const qq={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:lB,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var ny,Pl,Ga,Cu,_l,Fp,Rp,Ip,Ya,Op,Dp,El,ns,Qv,Zv,nT,Xv,Jv,rT;let Hq=(ny=class extends oc{constructor(s,n){var a;const r=(n==null?void 0:n.autoOpen)??null;super(s,{...qq,...n,autoOpen:r});V(this,ns);V(this,Pl);B(this,"modalName",`uppy-Dashboard-${YE()}`);B(this,"superFocus",$q());B(this,"ifFocusedOnUppyRecently",!1);B(this,"dashboardIsDisabled");B(this,"savedScrollPosition");B(this,"savedActiveElement");B(this,"resizeObserver");B(this,"darkModeMediaQuery");B(this,"makeDashboardInsidesVisibleAnywayTimeout");B(this,"removeTarget",s=>{const r=this.getPluginState().targets.filter(a=>a.id!==s.id);this.setPluginState({targets:r})});B(this,"addTarget",s=>{const n=s.id||s.constructor.name,r=s.title||n,a=s.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:n,name:r,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});B(this,"hideAllPanels",()=>{var r;const s=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===n.activePickerPanel&&s.showAddFilesPanel===n.showAddFilesPanel&&s.showFileEditor===n.showFileEditor&&s.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(r=s.activePickerPanel)==null?void 0:r.id))});B(this,"showPanel",s=>{const{targets:n}=this.getPluginState(),r=n.find(a=>a.type==="acquirer"&&a.id===s);this.setPluginState({activePickerPanel:r,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)});B(this,"canEditFile",s=>{const{targets:n}=this.getPluginState();return j(this,Ya).call(this,n).some(a=>this.uppy.getPlugin(a.id).canEditFile(s))});B(this,"openFileEditor",s=>{const{targets:n}=this.getPluginState(),r=j(this,Ya).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),r.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(s)})});B(this,"closeFileEditor",()=>{const{metaFields:s}=this.getPluginState();s&&s.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});B(this,"saveFileEditor",()=>{const{targets:s}=this.getPluginState();j(this,Ya).call(this,s).forEach(r=>{this.uppy.getPlugin(r.id).save()}),this.closeFileEditor()});B(this,"openModal",()=>{const{promise:s,resolve:n}=zN();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const r=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",r,!1),n()};this.el.addEventListener("animationend",r,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s});B(this,"closeModal",s=>{var c;const n=(s==null?void 0:s.manualClose)??!0,{isHidden:r,isClosing:a}=this.getPluginState();if(r||a)return;const{promise:o,resolve:l}=zN();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});B(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);B(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());B(this,"setDarkModeCapability",s=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:s}})});B(this,"handleSystemDarkModeChange",s=>{const n=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});B(this,"toggleFileCard",(s,n)=>{const r=this.uppy.getFile(n);s?this.uppy.emit("dashboard:file-edit-start",r):this.uppy.emit("dashboard:file-edit-complete",r),this.setPluginState({fileCardFor:s?n:null,activeOverlayType:s?"FileCard":null})});B(this,"toggleAddFilesPanel",s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})});B(this,"addFiles",s=>{const n=s.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||r.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}});B(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(s=>{const n=s[0],{width:r,height:a}=n.contentRect;this.setPluginState({containerWidth:r,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),n=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});B(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});B(this,"recordIfFocusedOnUppyRecently",s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});B(this,"disableInteractiveElements",s=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],r=j(this,Pl)??wd(this.el.querySelectorAll(n)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of r)a.tagName==="A"?a.setAttribute("aria-disabled",s):a.disabled=s;s?W(this,Pl,r):W(this,Pl,null),this.dashboardIsDisabled=s});B(this,"updateBrowserHistory",()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});B(this,"handlePopState",s=>{var n;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=s.state)!=null&&n[this.modalName])&&history.back()});B(this,"handleKeyDownInModal",s=>{s.keyCode===Vq&&this.requestCloseModal(),s.keyCode===UN&&sT(s,this.getPluginState().activeOverlayType,this.el)});B(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});B(this,"handlePaste",s=>{this.uppy.iteratePlugins(r=>{var a;r.type==="acquirer"&&((a=r.handleRootPaste)==null||a.call(r,s))});const n=wd(s.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});B(this,"handleInputChange",s=>{s.preventDefault();const n=wd(s.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});B(this,"handleDragOver",s=>{s.preventDefault(),s.stopPropagation();const n=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,s)&&(l=!0)}),l},r=()=>{const{types:l}=s.dataTransfer;return l.some(c=>c==="Files")},a=n(),o=r();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none";return}s.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(s)});B(this,"handleDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(s)});B(this,"handleDrop",async s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,s))});let n=!1;const r=o=>{this.uppy.log(o,"error"),n||(this.uppy.info(o.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await DV(s.dataTransfer,{logDropError:r});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(s)});B(this,"handleRequestThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)});B(this,"handleCancelThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)});B(this,"handleKeyDownInInline",s=>{s.keyCode===UN&&Bq(s,this.getPluginState().activeOverlayType,this.el)});B(this,"handlePasteOnBody",s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)});B(this,"handleComplete",({failed:s})=>{this.opts.closeAfterFinish&&!(s!=null&&s.length)&&this.requestCloseModal()});B(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});V(this,Ga,()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,n=this.uppy.getFiles();if(n.length===1){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r==null||r.setOptions({thumbnailWidth:s});const a={...n[0],preview:void 0};r==null||r.requestThumbnail(a).then(()=>{r==null||r.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});V(this,Cu,s=>{const n=s[0],{metaFields:r}=this.getPluginState(),a=r&&r.length>0,o=this.canEditFile(n);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});B(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const s=FN(this.opts.trigger);s?s.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",j(this,El)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",j(this,Ga)),this.uppy.on("file-removed",j(this,Ga)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",j(this,Cu))});B(this,"removeEvents",()=>{const s=FN(this.opts.trigger);!this.opts.inline&&s&&s.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",j(this,El)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",j(this,Ga)),this.uppy.off("file-removed",j(this,Ga)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",j(this,Cu))});B(this,"superFocusOnEachUpdate",()=>{const s=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,r=this.uppy.getState().info.length===0,a=!this.opts.inline;r&&(a||s||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});B(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});B(this,"saveFileCard",(s,n)=>{this.uppy.setFileMeta(n,s),this.toggleFileCard(!1,n)});V(this,_l,s=>{const n=this.uppy.getPlugin(s.id);return{...s,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});V(this,Fp,s=>{const n=this.uppy.getPlugin(s.id);return typeof n.isSupported!="function"?!0:n.isSupported()});V(this,Rp,s=>s.filter(n=>n.type==="acquirer"&&j(this,Fp).call(this,n)).map(j(this,_l)));V(this,Ip,s=>s.filter(n=>n.type==="progressindicator").map(j(this,_l)));V(this,Ya,s=>s.filter(n=>n.type==="editor").map(j(this,_l)));B(this,"render",s=>{const n=this.getPluginState(),{files:r,capabilities:a,allowNewUpload:o}=s,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:b,isAllComplete:g,isAllPaused:x}=this.uppy.getObjectOfFilesPerState(),y=j(this,Rp).call(this,n.targets),v=j(this,Ip).call(this,n.targets),w=j(this,Ya).call(this,n.targets);let S;return this.opts.theme==="auto"?S=a.darkMode?"dark":"light":S=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Dq({state:s,isHidden:n.isHidden,files:r,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:h,inProgressFiles:u,inProgressNotPausedFiles:f,processingFiles:m,isUploadStarted:b,isAllComplete:g,isAllPaused:x,totalFileCount:Object.keys(r).length,totalProgress:s.totalProgress,allowNewUpload:o,acquirers:y,theme:S,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:v,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:n.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});V(this,Op,()=>{const{plugins:s}=this.opts;s.forEach(n=>{const r=this.uppy.getPlugin(n);r?r.mount(this,r):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});V(this,Dp,()=>{this.uppy.iteratePlugins(j(this,El))});V(this,El,s=>{var r;const n=["acquirer","editor"];s&&!((r=s.opts)!=null&&r.target)&&n.includes(s.type)&&(this.getPluginState().targets.some(o=>s.id===o.id)||s.mount(this,s))});B(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:n}=this.opts;if(s&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:r,allowMultipleUploadBatches:a}=this.uppy.opts;(r||a)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(KB,{id:G(this,ns,Xv).call(this),target:this,...G(this,ns,Qv).call(this)}),this.opts.disableInformer||this.uppy.use(AE,{id:G(this,ns,rT).call(this),target:this,...G(this,ns,nT).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(HE,{id:G(this,ns,Jv).call(this),...G(this,ns,Zv).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),j(this,Op).call(this),j(this,Dp).call(this),this.initEvents()});B(this,"uninstall",()=>{var n;if(!this.opts.disableInformer){const r=this.uppy.getPlugin(`${this.id}:Informer`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableStatusBar){const r=this.uppy.getPlugin(`${this.id}:StatusBar`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableThumbnailGenerator){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r&&this.uppy.removePlugin(r)}const{plugins:s}=this.opts;s.forEach(r=>{const a=this.uppy.getPlugin(r);a&&a.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Lq,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(s){var n,r;super.setOptions(s),(n=this.uppy.getPlugin(G(this,ns,Xv).call(this)))==null||n.setOptions(G(this,ns,Qv).call(this)),(r=this.uppy.getPlugin(G(this,ns,Jv).call(this)))==null||r.setOptions(G(this,ns,Zv).call(this))}},Pl=new WeakMap,Ga=new WeakMap,Cu=new WeakMap,_l=new WeakMap,Fp=new WeakMap,Rp=new WeakMap,Ip=new WeakMap,Ya=new WeakMap,Op=new WeakMap,Dp=new WeakMap,El=new WeakMap,ns=new WeakSet,Qv=function(){const{hideUploadButton:s,hideRetryButton:n,hidePauseResumeButton:r,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:s,hideRetryButton:n,hidePauseResumeButton:r,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Zv=function(){const{thumbnailWidth:s,thumbnailHeight:n,thumbnailType:r,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:s,thumbnailHeight:n,thumbnailType:r,waitForThumbnailsBeforeUpload:a,lazy:!a}},nT=function(){return{}},Xv=function(){return`${this.id}:StatusBar`},Jv=function(){return`${this.id}:ThumbnailGenerator`},rT=function(){return`${this.id}:Informer`},B(ny,"VERSION",tq.version),ny);const Wq=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kq=/^(aria-|data-)/,iT=t=>Object.fromEntries(Object.entries(t).filter(([e])=>Kq.test(e)||Wq.includes(e)));function Gq(t,e){const s=iT(t);return Object.keys(t).some(n=>!Object.hasOwn(s,n)&&t[n]!==e[n])}class aT extends p.Component{constructor(){super(...arguments);B(this,"container");B(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(s){const{uppy:n,open:r,onRequestClose:a}=this.props;if(s.uppy!==n)this.uninstallPlugin(s),this.installPlugin();else if(Gq(this.props,s)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}s.open&&!r?this.plugin.closeModal():!s.open&&r&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:s=this.container,open:n,onRequestClose:r,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:s,open:n,onRequestCloseModal:r};a.use(Hq,l),this.plugin=a.getPlugin(l.id),n&&this.plugin.openModal()}uninstallPlugin(s=this.props){const{uppy:n}=s;n.removePlugin(this.plugin)}render(){return p.createElement("div",{className:"uppy-Container",ref:s=>{this.container=s},...iT(this.props)})}}B(aT,"defaultProps",{open:void 0,onRequestClose:void 0});p.createContext({uppy:void 0,status:"init",progress:0});var Yq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=p;function Qq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zq=typeof Object.is=="function"?Object.is:Qq,Xq=rh.useSyncExternalStore,Jq=rh.useRef,eH=rh.useEffect,tH=rh.useMemo,sH=rh.useDebugValue;Yq.useSyncExternalStoreWithSelector=function(t,e,s,n,r){var a=Jq(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=tH(function(){function c(m){if(!d){if(d=!0,h=m,m=n(m),r!==void 0&&o.hasValue){var b=o.value;if(r(b,m))return u=b}return u=m}if(b=u,Zq(h,m))return b;var g=n(m);return r!==void 0&&r(b,g)?b:(h=m,u=g)}var d=!1,h,u,f=s===void 0?null:s;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,s,n,r]);var l=Xq(t,a[0],a[1]);return eH(function(){o.hasValue=!0,o.value=l},[l]),sH(l),l};function oT(t,e){return Object.hasOwn(t,e)}class nH extends Error{constructor(s,n){super(s);B(this,"isNetworkError");B(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&oT(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class rH extends Error{constructor(s,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");B(this,"cause");B(this,"isNetworkError");B(this,"request");this.cause=s,this.isNetworkError=!0,this.request=n}}function iH(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new rH(e)})}function aH(t){var r;const s=(r=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:r[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${s}`}class oH extends Error{constructor(){super(...arguments);B(this,"name","UserFacingApiError")}}var lT={};function jn(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var lH=jn;jn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};jn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};jn.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},s),this._options.unref&&this._timer.unref(),!0};jn.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};jn.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};jn.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};jn.prototype.start=jn.prototype.try;jn.prototype.errors=function(){return this._errors};jn.prototype.attempts=function(){return this._attempts};jn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,s=0,n=0;n<this._errors.length;n++){var r=this._errors[n],a=r.message,o=(t[a]||0)+1;t[a]=o,o>=s&&(e=r,s=o)}return e};(function(t){var e=lH;t.operation=function(s){var n=t.timeouts(s);return new e(n,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},t.timeouts=function(s){if(s instanceof Array)return[].concat(s);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in s)n[r]=s[r];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return s&&s.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(s,n){var r=n.randomize?Math.random()+1:1,a=Math.round(r*Math.max(n.minTimeout,1)*Math.pow(n.factor,s));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(s,n,r){if(n instanceof Array&&(r=n,n=null),!r){r=[];for(var a in s)typeof s[a]=="function"&&r.push(a)}for(var o=0;o<r.length;o++){var l=r[o],c=s[l];s[l]=(function(h){var u=t.operation(n),f=Array.prototype.slice.call(arguments,1),m=f.pop();f.push(function(b){u.retry(b)||(b&&(arguments[0]=u.mainError()),m.apply(this,arguments))}),u.attempt(function(){h.apply(s,f)})}).bind(s,c),s[l].options=n}}})(lT);var cH=lT;const dH=fi(cH),uH=Object.prototype.toString,hH=t=>uH.call(t)==="[object Error]",fH=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function pH(t){return t&&hH(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:fH.has(t.message):!1}class ex extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const BN=(t,e,s)=>{const n=s.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function VN(t,e){return new Promise((s,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const r=dH.operation(e),a=()=>{var l;r.stop(),n((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),r.stop()};r.attempt(async l=>{try{const c=await t(l);o(),s(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof ex)throw c.originalError;if(c instanceof TypeError&&!pH(c))throw c;if(BN(c,l,e),await e.shouldRetry(c)||(r.stop(),n(c)),await e.onFailedAttempt(c),!r.retry(c))throw r.mainError()}catch(d){BN(d,l,e),o(),n(d)}}})})}const mH="@uppy/companion-client",gH="Client library for communication with Companion. Intended for use in Uppy plugins.",yH="4.5.2",vH="MIT",xH="lib/index.js",bH="module",wH={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},jH=["file uploader","uppy","uppy-plugin","companion","provider"],NH="https://uppy.io",SH={url:"https://github.com/transloadit/uppy/issues"},kH={type:"git",url:"git+https://github.com/transloadit/uppy.git"},CH=["src","lib","dist","CHANGELOG.md"],PH={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},_H={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},EH={"@uppy/core":"^4.5.2"},TH={name:mH,description:gH,version:yH,license:vH,main:xH,type:bH,scripts:wH,keywords:jH,homepage:NH,bugs:SH,repository:kH,files:CH,dependencies:PH,devDependencies:_H,peerDependencies:EH};class MH extends Error{constructor(){super("Authorization required");B(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function AH(t){return t.replace(/\/$/,"")}const qN=10,FH=5*60*1e3,RH=401;class IH extends Error{constructor({statusCode:s,message:n}){super(n);B(this,"statusCode");this.name="HttpError",this.statusCode=s}}async function OH(t){if(t.status===RH)throw new MH;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,s;try{s=await t.json(),s.message&&(e=`${e} message: ${s.message}`),s.requestId&&(e=`${e} request-Id: ${s.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&s.message?new oH(s.message):new IH({statusCode:t.status,message:e})}function DH(t,e,s){const{progress:n,bytesUploaded:r,bytesTotal:a}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",s,{uploadStarted:s.progress.uploadStarted??0,bytesUploaded:r,bytesTotal:a}))}var Qa,ma,tx,Lp,sx;class cT{constructor(e,s){V(this,ma);V(this,Qa);B(this,"uppy");B(this,"opts");V(this,Lp,async({file:e,postBody:s,signal:n})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...s},{signal:n})).token});this.uppy=e,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),W(this,Qa,s.companionHeaders)}setCompanionHeaders(e){W(this,Qa,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return j(this,Qa)}get hostname(){const{companion:e}=this.uppy.getState(),s=this.opts.companionUrl;return AH(e!=null&&e[s]?e[s]:s)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...j(this,Qa)}}onReceiveResponse(e){const{headers:s}=e,r=this.uppy.getState().companion||{},a=this.opts.companionUrl;s.has("i-am")&&s.get("i-am")!==r[a]&&this.uppy.setState({companion:{...r,[a]:s.get("i-am")}})}async request({path:e,method:s="GET",data:n,skipPostResponse:r,signal:a}){try{const o=await this.headers(!n),l=await iH(G(this,ma,tx).call(this,e),{method:s,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return r||this.onReceiveResponse(l),await OH(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new nH(`Could not ${s} ${G(this,ma,tx).call(this,e)}`,{cause:o})}}async get(e,s){return this.request({...s,path:e})}async post(e,s,n){return this.request({...n,path:e,method:"POST",data:s})}async delete(e,s,n){return this.request({...n,path:e,method:"DELETE",data:s})}async uploadRemoteFile(e,s,n){try{const{signal:r,getQueue:a}=n||{};return await VN(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),G(this,ma,sx).call(this,{file:e,queue:a(),signal:r});const c=await a().wrapPromiseFunction(async(...h)=>{try{return await j(this,Lp).call(this,...h)}catch(u){if(u.isAuthError)throw new ex(u);if(u.cause==null)throw u;const f=u.cause,m=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!m()?new ex(f):f}},{priority:-1})({file:e,postBody:s,signal:r}).abortOn(r);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),G(this,ma,sx).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:r})},{retries:qN,signal:r,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(r){if(r.name==="AbortError")return;throw this.uppy.emit("upload-error",e,r),r}}}Qa=new WeakMap,ma=new WeakSet,tx=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Lp=new WeakMap,sx=async function({file:e,queue:s,signal:n}){let r;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=aH(e.remote.companionUrl);let h,u,f,{isPaused:m}=e;const b=(C,_)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${C}" to socket ${e.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:C,payload:_??{}}))};function g(){a.resumableUploads&&b(m?"pause":"resume")}const x=async()=>{u&&u.abort(),u=new AbortController;const C=A=>{var k;this.uppy.setFileState(e.id,{serverToken:null}),(k=u==null?void 0:u.abort)==null||k.call(u),l(A)};function _(){clearTimeout(f),!m&&(f=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),FH))}try{await s.wrapPromiseFunction(async()=>{await VN(async()=>new Promise((k,R)=>{h=new WebSocket(`${d}/api/${c}`),_(),h.addEventListener("close",()=>{h=void 0,R(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",$=>{this.uppy.log(`Companion socket error ${JSON.stringify($)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{g()}),h.addEventListener("message",$=>{var z,ee,K;_();try{const{action:Z,payload:F}=JSON.parse($.data);switch(Z){case"progress":{DH(this,F,this.uppy.getFile(e.id));break}case"success":{const I=(z=F.response)==null?void 0:z.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:F.url,status:((ee=F.response)==null?void 0:ee.status)??200,body:I?JSON.parse(I):void 0}),(K=u==null?void 0:u.abort)==null||K.call(u),o();break}case"error":{const{message:I}=F.error;throw Object.assign(new Error(I),{cause:F.error})}default:this.uppy.log(`Companion socket unknown action ${Z}`,"warning")}}catch(Z){C(Z)}});const O=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(f),h&&h.close(),h=void 0};u.signal.addEventListener("abort",()=>{O()})}),{retries:qN,signal:u.signal,onFailedAttempt:()=>{u.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(u.signal)}catch(A){if(u.signal.aborted)return;C(A)}},y=C=>{a.resumableUploads&&(m=C,h&&g())},v=C=>{var _;a.individualCancellation&&C.id===e.id&&(b("cancel"),(_=u==null?void 0:u.abort)==null||_.call(u),this.uppy.log(`upload ${e.id} was removed`),o())},w=()=>{var C;b("cancel"),(C=u==null?void 0:u.abort)==null||C.call(u),this.uppy.log(`upload ${e.id} was canceled`),o()},S=(C,_)=>{(C==null?void 0:C.id)===e.id&&y(_)},N=()=>y(!0),P=()=>y(!1);this.uppy.on("file-removed",v),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",S),this.uppy.on("pause-all",N),this.uppy.on("resume-all",P),r=()=>{this.uppy.off("file-removed",v),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",S),this.uppy.off("pause-all",N),this.uppy.off("resume-all",P)},n.addEventListener("abort",()=>{u==null||u.abort()}),x()})}finally{r==null||r()}},B(cT,"VERSION",TH.version);var gr,Pu;class LH{constructor(e){V(this,gr);V(this,Pu,[]);W(this,gr,e)}on(e,s){return j(this,Pu).push([e,s]),j(this,gr).on(e,s)}remove(){for(const[e,s]of j(this,Pu).splice(0))j(this,gr).off(e,s)}onFilePause(e,s){this.on("upload-pause",(n,r)=>{e===(n==null?void 0:n.id)&&s(r)})}onFileRemove(e,s){this.on("file-removed",n=>{e===n.id&&s(n.id)})}onPause(e,s){this.on("upload-pause",(n,r)=>{e===(n==null?void 0:n.id)&&s(r)})}onRetry(e,s){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&s()})}onRetryAll(e,s){this.on("retry-all",()=>{j(this,gr).getFile(e)&&s()})}onPauseAll(e,s){this.on("pause-all",()=>{j(this,gr).getFile(e)&&s()})}onCancelAll(e,s){this.on("cancel-all",(...n)=>{j(this,gr).getFile(e)&&s(...n)})}onResumeAll(e,s){this.on("resume-all",()=>{j(this,gr).getFile(e)&&s()})}}gr=new WeakMap,Pu=new WeakMap;const{AbortController:Kg}=globalThis,dT=(t="Aborted",e)=>{const s=new DOMException(t,"AbortError");return e!=null&&oT(e,"cause")&&Object.defineProperty(s,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),s};function $H(t){const e=s=>"error"in s&&!!s.error;return t.filter(s=>!e(s))}function UH(t){return t.filter(e=>{var s;return!((s=e.progress)!=null&&s.uploadStarted)||!e.isRestored})}function HN(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function zH(t){return new Error("Cancelled",{cause:t})}function WN(t){var e;if(t!=null){const s=()=>this.abort(t.reason);t.addEventListener("abort",s,{once:!0});const n=()=>{t.removeEventListener("abort",s)};(e=this.then)==null||e.call(this,n,n)}return this}var Qr,yr,Zr,Tl,vr,Ml,Za,vs,nx,sd,uT,hT,fT,$p,Al;class BH{constructor(e){V(this,vs);V(this,Qr,0);V(this,yr,[]);V(this,Zr,!1);V(this,Tl);V(this,vr,1);V(this,Ml);V(this,Za);B(this,"limit");V(this,$p,()=>this.resume());V(this,Al,()=>{if(j(this,Zr)){W(this,Za,setTimeout(j(this,Al),0));return}W(this,vr,this.limit),this.limit=Math.ceil((j(this,Ml)+j(this,vr))/2);for(let e=j(this,vr);e<=this.limit;e++)G(this,vs,sd).call(this);j(this,Ml)-j(this,vr)>3?W(this,Za,setTimeout(j(this,Al),2e3)):W(this,vr,Math.floor(j(this,vr)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,s){return!j(this,Zr)&&j(this,Qr)<this.limit?G(this,vs,nx).call(this,e):G(this,vs,hT).call(this,e,s)}wrapSyncFunction(e,s){return(...n)=>{const r=this.run(()=>(e(...n),queueMicrotask(()=>r.done()),()=>{}),s);return{abortOn:WN,abort(){r.abort()}}}}wrapPromiseFunction(e,s){return(...n)=>{let r;const a=new Promise((o,l)=>{r=this.run(()=>{let c,d;try{d=Promise.resolve(e(...n))}catch(h){d=Promise.reject(h)}return d.then(h=>{c?l(c):(r.done(),o(h))},h=>{c?l(c):(r.done(),l(h))}),h=>{c=zH(h)}},s)});return a.abort=o=>{r.abort(o)},a.abortOn=WN,a}}resume(){W(this,Zr,!1),clearTimeout(j(this,Tl));for(let e=0;e<this.limit;e++)G(this,vs,sd).call(this)}pause(e=null){W(this,Zr,!0),clearTimeout(j(this,Tl)),e!=null&&W(this,Tl,setTimeout(j(this,$p),e))}rateLimit(e){clearTimeout(j(this,Za)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(W(this,Ml,this.limit-1),this.limit=j(this,vr),W(this,Za,setTimeout(j(this,Al),e)))}get isPaused(){return j(this,Zr)}}Qr=new WeakMap,yr=new WeakMap,Zr=new WeakMap,Tl=new WeakMap,vr=new WeakMap,Ml=new WeakMap,Za=new WeakMap,vs=new WeakSet,nx=function(e){W(this,Qr,j(this,Qr)+1);let s=!1,n;try{n=e()}catch(r){throw W(this,Qr,j(this,Qr)-1),r}return{abort:r=>{s||(s=!0,W(this,Qr,j(this,Qr)-1),n==null||n(r),G(this,vs,sd).call(this))},done:()=>{s||(s=!0,W(this,Qr,j(this,Qr)-1),G(this,vs,sd).call(this))}}},sd=function(){queueMicrotask(()=>G(this,vs,uT).call(this))},uT=function(){if(j(this,Zr)||j(this,Qr)>=this.limit||j(this,yr).length===0)return;const e=j(this,yr).shift();if(e==null)throw new Error("Invariant violation: next is null");const s=G(this,vs,nx).call(this,e.fn);e.abort=s.abort,e.done=s.done},hT=function(e,s){const n={fn:e,priority:(s==null?void 0:s.priority)||0,abort:()=>{G(this,vs,fT).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=j(this,yr).findIndex(a=>n.priority>a.priority);return r===-1?j(this,yr).push(n):j(this,yr).splice(r,0,n),n},fT=function(e){const s=j(this,yr).indexOf(e);s!==-1&&j(this,yr).splice(s,1)},$p=new WeakMap,Al=new WeakMap;const VH="@uppy/aws-s3",qH="Upload to Amazon S3 with Uppy",HH="4.3.2",WH="MIT",KH="lib/index.js",GH="module",YH={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},QH=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],ZH="https://uppy.io",XH={url:"https://github.com/transloadit/uppy/issues"},JH={type:"git",url:"git+https://github.com/transloadit/uppy.git"},eW=["src","lib","dist","CHANGELOG.md"],tW={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},sW={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},nW={"@uppy/core":"^4.5.2"},rW={name:VH,description:qH,version:HH,license:WH,main:KH,type:GH,scripts:YH,keywords:QH,homepage:ZH,bugs:XH,repository:JH,files:eW,dependencies:tW,devDependencies:sW,peerDependencies:nW};function iW({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:s="",SignedHeaders:n,HashedPayload:r}){const a=Object.keys(n).map(o=>o.toLowerCase()).sort();return[t,e,s,...a.map(o=>`${o}:${n[o]}`),"",a.join(";"),r].join(`
`)}const wb=new TextEncoder,jb={name:"HMAC",hash:"SHA-256"};async function aW(t){const{subtle:e}=globalThis.crypto;return e.digest(jb.hash,wb.encode(t))}async function oW(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?wb.encode(t):t,jb,!1,["sign"])}function KN(t){const e=new Uint8Array(t);let s="";for(let n=0;n<e.length;n++)s+=e[n].toString(16).padStart(2,"0");return s}async function Bc(t,e){const{subtle:s}=globalThis.crypto;return s.sign(jb,await oW(t),wb.encode(e))}async function lW({accountKey:t,accountSecret:e,sessionToken:s,bucketName:n,Key:r,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",h=`${d}.${a}.amazonaws.com`,u=`/${n}/${encodeURI(r).replace(/[;?:@&=+$,#!'()*]/g,A=>`%${A.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",m=new Date().toISOString().replace(/[-:]|\.\d+/g,""),b=m.slice(0,8),g=`${b}/${a}/${d}/aws4_request`,x=new URL(`https://${h}${u}`);x.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),x.searchParams.set("X-Amz-Content-Sha256",f),x.searchParams.set("X-Amz-Credential",`${t}/${g}`),x.searchParams.set("X-Amz-Date",m),x.searchParams.set("X-Amz-Expires",o),x.searchParams.set("X-Amz-Security-Token",s),x.searchParams.set("X-Amz-SignedHeaders","host"),c&&x.searchParams.set("partNumber",c),l&&x.searchParams.set("uploadId",l),x.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const y=iW({CanonicalUri:u,CanonicalQueryString:x.search.slice(1),SignedHeaders:{host:h},HashedPayload:f}),v=KN(await aW(y)),w=["AWS4-HMAC-SHA256",m,g,v].join(`
`),S=await Bc(`AWS4${e}`,b),N=await Bc(S,a),P=await Bc(N,d),C=await Bc(P,"aws4_request"),_=KN(await Bc(C,w));return x.searchParams.set("X-Amz-Signature",_),x}const cW=1024*1024,GN={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function dW(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const Nf=Symbol("pausing upload, not an actual error");var An,hn,xr,Xr,Jr,_u,Eu,Fl,Xa,Rl,Tu,Il,Mu,rr,pT,mT,rx,Au,Fu,gT;class uW{constructor(e,s){V(this,rr);B(this,"options");V(this,An,new Kg);V(this,hn,[]);V(this,xr,[]);V(this,Xr);V(this,Jr);V(this,_u,!1);V(this,Eu);V(this,Fl);V(this,Xa);V(this,Rl);V(this,Tu,e=>(e==null?void 0:e.cause)===Nf?null:j(this,Eu).call(this,e));V(this,Il,1e4);V(this,Mu,5*cW);V(this,Au,e=>s=>{if(!s.lengthComputable)return;j(this,xr)[e].uploaded=dW(s.loaded);const n=j(this,xr).reduce((r,a)=>r+a.uploaded,0);this.options.onProgress(n,j(this,Xr).size)});V(this,Fu,e=>s=>{j(this,hn)[e]=null,j(this,xr)[e].etag=s,j(this,xr)[e].done=!0;const n={PartNumber:e+1,ETag:s};this.options.onPartComplete(n)});var n;this.options={...GN,...s},(n=this.options).getChunkSize??(n.getChunkSize=GN.getChunkSize),W(this,Xr,e),W(this,Jr,s.file),W(this,Fl,this.options.onSuccess),W(this,Eu,this.options.onError),W(this,Xa,this.options.shouldUseMultipart),W(this,Rl,s.uploadId&&s.key),G(this,rr,pT).call(this)}start(){j(this,_u)?(j(this,An).signal.aborted||j(this,An).abort(Nf),W(this,An,new Kg),G(this,rr,rx).call(this)):j(this,Rl)?(this.options.companionComm.restoreUploadFile(j(this,Jr),{uploadId:this.options.uploadId,key:this.options.key}),G(this,rr,rx).call(this)):G(this,rr,mT).call(this)}pause(){j(this,An).abort(Nf),W(this,An,new Kg)}abort(e){e!=null&&e.really?G(this,rr,gT).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return j(this,xr)}}An=new WeakMap,hn=new WeakMap,xr=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,_u=new WeakMap,Eu=new WeakMap,Fl=new WeakMap,Xa=new WeakMap,Rl=new WeakMap,Tu=new WeakMap,Il=new WeakMap,Mu=new WeakMap,rr=new WeakSet,pT=function(){const e=j(this,Xr).size,s=typeof j(this,Xa)=="function"?j(this,Xa).call(this,j(this,Jr)):!!j(this,Xa);if(s&&e>j(this,Mu)){let n=Math.max(this.options.getChunkSize(j(this,Xr)),j(this,Mu)),r=Math.floor(e/n);r>j(this,Il)&&(r=j(this,Il),n=e/j(this,Il)),W(this,hn,Array(r));for(let a=0,o=0;a<e;a+=n,o++){const l=Math.min(e,a+n),c=()=>{const d=a;return j(this,Xr).slice(d,l)};if(j(this,hn)[o]={getData:c,onProgress:j(this,Au).call(this,o),onComplete:j(this,Fu).call(this,o),shouldUseMultipart:s},j(this,Rl)){const d=a+n>e?e-a:n;j(this,hn)[o].setAsUploaded=()=>{j(this,hn)[o]=null,j(this,xr)[o].uploaded=d}}}}else W(this,hn,[{getData:()=>j(this,Xr),onProgress:j(this,Au).call(this,0),onComplete:j(this,Fu).call(this,0),shouldUseMultipart:s}]);W(this,xr,j(this,hn).map(()=>({uploaded:0})))},mT=function(){this.options.companionComm.uploadFile(j(this,Jr),j(this,hn),j(this,An).signal).then(j(this,Fl),j(this,Tu)),W(this,_u,!0)},rx=function(){this.options.companionComm.resumeUploadFile(j(this,Jr),j(this,hn),j(this,An).signal).then(j(this,Fl),j(this,Tu))},Au=new WeakMap,Fu=new WeakMap,gT=function(){j(this,An).abort(),this.options.companionComm.abortFileUpload(j(this,Jr)).catch(e=>this.options.log(e))};function gs(t){if(t!=null&&t.aborted)throw dT("The operation was aborted",{cause:t.reason})}function hW(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Ru,Fn,Iu,Ou,Du,Lu,Ol,Dl,Ll,$l,Ja,Ul,Rn,bo,yT,ix;class fW{constructor(e,s,n,r){V(this,bo);V(this,Ru);V(this,Fn,new WeakMap);V(this,Iu);V(this,Ou);V(this,Du);V(this,Lu);V(this,Ol);V(this,Dl);V(this,Ll);V(this,$l);V(this,Ja);V(this,Ul);V(this,Rn);W(this,Dl,e),W(this,Ja,n),W(this,Rn,r),this.setOptions(s)}setOptions(e){const s=j(this,Dl);"abortMultipartUpload"in e&&W(this,Ru,s.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&W(this,Iu,s.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&W(this,Ou,s.wrapPromiseFunction(e.signPart)),"listParts"in e&&W(this,Lu,s.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&W(this,$l,s.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&W(this,Ll,e.retryDelays??[]),"uploadPartBytes"in e&&W(this,Ul,s.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&W(this,Du,s.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,s){let n;for(;n=j(this,Fn).get(e.data),n!=null;)try{return await n}catch{}const r=j(this,Iu).call(this,j(this,Rn).call(this,e),s),a=()=>{r.abort(s.reason),j(this,Fn).delete(e.data)};return s.addEventListener("abort",a,{once:!0}),j(this,Fn).set(e.data,r),r.then(async o=>{s.removeEventListener("abort",a),j(this,Ja).call(this,e,o),j(this,Fn).set(e.data,o)},()=>{s.removeEventListener("abort",a),j(this,Fn).delete(e.data)}),r}async abortFileUpload(e){const s=j(this,Fn).get(e.data);if(s==null)return;j(this,Fn).delete(e.data),j(this,Ja).call(this,e,Object.create(null));let n;try{n=await s}catch{return}await j(this,Ru).call(this,j(this,Rn).call(this,e),n)}async uploadFile(e,s,n){if(gs(n),s.length===1&&!s[0].shouldUseMultipart)return G(this,bo,ix).call(this,e,s[0],n);const{uploadId:r,key:a}=await this.getUploadId(e,n);gs(n);try{const o=await Promise.all(s.map((l,c)=>this.uploadChunk(e,c+1,l,n)));return gs(n),await j(this,$l).call(this,j(this,Rn).call(this,e),{key:a,uploadId:r,parts:o,signal:n},n).abortOn(n)}catch(o){throw(o==null?void 0:o.cause)!==Nf&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,s){j(this,Fn).set(e.data,s)}async resumeUploadFile(e,s,n){if(gs(n),s.length===1&&s[0]!=null&&!s[0].shouldUseMultipart)return G(this,bo,ix).call(this,e,s[0],n);const{uploadId:r,key:a}=await this.getUploadId(e,n);gs(n);const o=await j(this,Lu).call(this,j(this,Rn).call(this,e),{uploadId:r,key:a,signal:n},n).abortOn(n);gs(n);const l=await Promise.all(s.map((c,d)=>{var f;const h=d+1,u=o.find(({PartNumber:m})=>m===h);return u==null?this.uploadChunk(e,h,c,n):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:h,ETag:u.ETag})}));return gs(n),j(this,$l).call(this,j(this,Rn).call(this,e),{key:a,uploadId:r,parts:l,signal:n},n).abortOn(n)}async uploadChunk(e,s,n,r){gs(r);const{uploadId:a,key:o}=await this.getUploadId(e,r),l=j(this,Ll).values(),c=j(this,Ll).values(),d=()=>{const h=l.next();return h==null||h.done?null:h.value};for(;;){gs(r);const h=n.getData(),{onProgress:u,onComplete:f}=n;let m;try{m=await j(this,Ou).call(this,j(this,Rn).call(this,e),{uploadId:a,key:o,partNumber:s,body:h,signal:r}).abortOn(r)}catch(b){const g=d();if(g==null||r.aborted)throw b;await new Promise(x=>setTimeout(x,g));continue}gs(r);try{return{PartNumber:s,...await j(this,Ul).call(this,{signature:m,body:h,size:h.size,onProgress:u,onComplete:f,signal:r}).abortOn(r)}}catch(b){if(!await G(this,bo,yT).call(this,b,c))throw b}}}}Ru=new WeakMap,Fn=new WeakMap,Iu=new WeakMap,Ou=new WeakMap,Du=new WeakMap,Lu=new WeakMap,Ol=new WeakMap,Dl=new WeakMap,Ll=new WeakMap,$l=new WeakMap,Ja=new WeakMap,Ul=new WeakMap,Rn=new WeakMap,bo=new WeakSet,yT=async function(e,s){var a;const n=j(this,Dl),r=(a=e==null?void 0:e.source)==null?void 0:a.status;if(r==null)return!1;if(r===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||j(this,Ol)==null){const o=s.next();if(o==null||o.done)return!1;W(this,Ol,o.value)}n.rateLimit(0),await new Promise(o=>setTimeout(o,j(this,Ol)))}}else if(r===429){if(!n.isPaused){const o=s.next();if(o==null||o.done)return!1;n.rateLimit(o.value)}}else{if(r>400&&r<500&&r!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const o=s.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},ix=async function(e,s,n){const{method:r="POST",url:a,fields:o,headers:l}=await j(this,Du).call(this,j(this,Rn).call(this,e),{signal:n}).abortOn(n);let c;const d=s.getData();if(r.toUpperCase()==="POST"){const b=new FormData;Object.entries(o).forEach(([g,x])=>b.set(g,x)),b.set("file",d),c=b}else c=d;const{onProgress:h,onComplete:u}=s,f=await j(this,Ul).call(this,{signature:{url:a,headers:l,method:r},body:c,size:d.size,onProgress:h,onComplete:u,signal:n}).abortOn(n),m=o==null?void 0:o.key;return j(this,Ja).call(this,e,{key:m}),{...f,location:f.location??hW(a),bucket:o==null?void 0:o.bucket,key:m}};function Io(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function YN(t){const e=t.Expiration;if(e){const s=Math.floor((new Date(e)-Date.now())/1e3);if(s>9)return s}}function QN({meta:t,allowedMetaFields:e,querify:s=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(r=>t[r]!=null).map(r=>{const a=s?`metadata[${r}]`:r,o=String(t[r]);return[a,o]})):{}}const pW={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var zl,_s,Kt,ox,ji,In,vT,Up,Bl,xT,bT,$u,Vl,eo,Uu;const zp=class zp extends Q_{constructor(s,n){super(s,{...pW,uploadPartBytes:zp.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});V(this,Kt);V(this,zl);V(this,_s);B(this,"requests");B(this,"uploaderEvents");B(this,"uploaders");V(this,In);V(this,Up,(s,{key:n,uploadId:r})=>{const a=this.uppy.getFile(s.id);a!=null&&this.uppy.setFileState(s.id,{s3Multipart:{...a.s3Multipart,key:n,uploadId:r}})});V(this,Bl,s=>this.uppy.getFile(s.id)||s);V(this,$u,async s=>{if(s.length===0)return;const n=this.uppy.getFilesByIds(s),r=$H(n),a=UH(r);this.uppy.emit("upload-start",a);const o=r.map(c=>{if(c.isRemote){const d=()=>this.requests;j(this,eo).call(this,!1);const h=new AbortController,u=m=>{m.id===c.id&&h.abort()};this.uppy.on("file-removed",u);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,G(this,Kt,bT).call(this,c),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",u)},{priority:-1})(),f}return G(this,Kt,xT).call(this,c)}),l=await Promise.allSettled(o);return j(this,eo).call(this,!0),l});V(this,Vl,()=>{var s;(s=j(this,_s))==null||s.setCompanionHeaders(this.opts.headers)});V(this,eo,s=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:s}})});V(this,Uu,()=>{j(this,eo).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",G(this,Kt,ox).call(this,n);const r={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(r))this.opts[a]==null&&(this.opts[a]=r[a].bind(this));this.requests=this.opts.rateLimitedQueue??new BH(this.opts.limit),W(this,zl,new fW(this.requests,this.opts,j(this,Up),j(this,Bl))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return j(this,_s)}setOptions(s){j(this,zl).setOptions(s),super.setOptions(s),G(this,Kt,ox).call(this,s)}resetUploaderReferences(s,n){this.uploaders[s]&&(this.uploaders[s].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[s]=null),this.uploaderEvents[s]&&(this.uploaderEvents[s].remove(),this.uploaderEvents[s]=null)}createMultipartUpload(s,n){G(this,Kt,ji).call(this,"createMultipartUpload"),gs(n);const r=HN(this.opts.allowedMetaFields,s.meta),a=QN({meta:s.meta,allowedMetaFields:r});return j(this,_s).post("s3/multipart",{filename:s.name,type:s.type,metadata:a},{signal:n}).then(Io)}listParts(s,{key:n,uploadId:r,signal:a},o){a??(a=o),G(this,Kt,ji).call(this,"listParts"),gs(a);const l=encodeURIComponent(n);return j(this,_s).get(`s3/multipart/${encodeURIComponent(r)}?key=${l}`,{signal:a}).then(Io)}completeMultipartUpload(s,{key:n,uploadId:r,parts:a,signal:o},l){o??(o=l),G(this,Kt,ji).call(this,"completeMultipartUpload"),gs(o);const c=encodeURIComponent(n),d=encodeURIComponent(r);return j(this,_s).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:h,PartNumber:u})=>({ETag:h,PartNumber:u}))},{signal:o}).then(Io)}async createSignedURL(s,n){const r=await G(this,Kt,vT).call(this,n),a=YN(r.credentials)||604800,{uploadId:o,key:l,partNumber:c}=n;return{method:"PUT",expires:a,fields:{},url:`${await lW({accountKey:r.credentials.AccessKeyId,accountSecret:r.credentials.SecretAccessKey,sessionToken:r.credentials.SessionToken,expires:a,bucketName:r.bucket,Region:r.region,Key:l??`${crypto.randomUUID()}-${s.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":s.type}}}signPart(s,{uploadId:n,key:r,partNumber:a,signal:o}){if(G(this,Kt,ji).call(this,"signPart"),gs(o),n==null||r==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(r);return j(this,_s).get(`s3/multipart/${encodeURIComponent(n)}/${a}?key=${l}`,{signal:o}).then(Io)}abortMultipartUpload(s,{key:n,uploadId:r,signal:a}){G(this,Kt,ji).call(this,"abortMultipartUpload");const o=encodeURIComponent(n),l=encodeURIComponent(r);return j(this,_s).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Io)}getUploadParameters(s,n){G(this,Kt,ji).call(this,"getUploadParameters");const{meta:r}=s,{type:a,name:o}=r,l=HN(this.opts.allowedMetaFields,s.meta),c=QN({meta:r,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return j(this,_s).get(`s3/params?${d}`,n)}static async uploadPartBytes({signature:{url:s,expires:n,headers:r,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:h}){if(gs(h),s==null)throw new Error("Cannot upload to an undefined URL");return new Promise((u,f)=>{const m=new XMLHttpRequest;m.open(a,s,!0),r&&Object.keys(r).forEach(x=>{m.setRequestHeader(x,r[x])}),m.responseType="text",typeof n=="number"&&(m.timeout=n*1e3);function b(){m.abort()}function g(){h==null||h.removeEventListener("abort",b)}h==null||h.addEventListener("abort",b),m.upload.addEventListener("progress",x=>{c(x)}),m.addEventListener("abort",()=>{g(),f(dT())}),m.addEventListener("timeout",()=>{g();const x=new Error("Request has expired");x.source={status:403},f(x)}),m.addEventListener("load",()=>{if(g(),m.status===403&&m.responseText.includes("<Message>Request has expired</Message>")){const S=new Error("Request has expired");S.source=m,f(S);return}if(m.status<200||m.status>=300){const S=new Error("Non 2xx");S.source=m,f(S);return}c==null||c({loaded:l,lengthComputable:!0});const x=m.getAllResponseHeaders().trim().split(/[\r\n]+/),y={__proto__:null};for(const S of x){const N=S.split(": "),P=N.shift(),C=N.join(": ");y[P]=C}const{etag:v,location:w}=y;if(a.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),v==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(v),u({...y,ETag:v})}),m.addEventListener("error",x=>{g();const y=new Error("Unknown error");y.source=x.target,f(y)}),m.send(o)})}install(){j(this,eo).call(this,!0),this.uppy.addPreProcessor(j(this,Vl)),this.uppy.addUploader(j(this,$u)),this.uppy.on("cancel-all",j(this,Uu))}uninstall(){this.uppy.removePreProcessor(j(this,Vl)),this.uppy.removeUploader(j(this,$u)),this.uppy.off("cancel-all",j(this,Uu))}};zl=new WeakMap,_s=new WeakMap,Kt=new WeakSet,ox=function(s){s==null||!("endpoint"in s||"companionUrl"in s||"headers"in s||"companionHeaders"in s||"cookiesRule"in s||"companionCookiesRule"in s)||("companionUrl"in s&&!("endpoint"in s)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in s&&!("headers"in s)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in s&&!("cookiesRule"in s)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in s?W(this,_s,new cT(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in s&&j(this,Vl).call(this),"cookiesRule"in s&&(j(this,_s).opts.companionCookiesRule=s.cookiesRule)))},ji=function(s){if(!j(this,_s))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${s}\` implementation.`)},In=new WeakMap,vT=async function(s){if(gs(s==null?void 0:s.signal),j(this,In)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(G(this,Kt,ji).call(this,"getTemporarySecurityCredentials"),W(this,In,j(this,_s).get("s3/sts",s).then(Io))):W(this,In,n(s)),W(this,In,await j(this,In)),setTimeout(()=>{W(this,In,null)},(YN(j(this,In).credentials)||0)*500)}return j(this,In)},Up=new WeakMap,Bl=new WeakMap,xT=function(s){return new Promise((n,r)=>{const a=(h,u)=>{const f=this.uppy.getFile(s.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:u})},o=h=>{this.uppy.log(h),this.uppy.emit("upload-error",s,h),this.resetUploaderReferences(s.id),r(h)},l=h=>{const u={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(s.id),this.uppy.emit("upload-success",j(this,Bl).call(this,s),u),h.location&&this.uppy.log(`Download ${s.name} from ${h.location}`),n(void 0)},c=new uW(s.data,{companionComm:j(this,zl),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",j(this,Bl).call(this,s),h)},file:s,shouldUseMultipart:this.opts.shouldUseMultipart,...s.s3Multipart});this.uploaders[s.id]=c;const d=new LH(this.uppy);this.uploaderEvents[s.id]=d,d.onFileRemove(s.id,h=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),n(`upload ${h} was removed`)}),d.onCancelAll(s.id,()=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),n(`upload ${s.id} was canceled`)}),d.onFilePause(s.id,h=>{h?c.pause():c.start()}),d.onPauseAll(s.id,()=>{c.pause()}),d.onResumeAll(s.id,()=>{c.start()}),c.start()})},bT=function(s){var n;return{...(n=s.remote)==null?void 0:n.body,protocol:"s3-multipart",size:s.data.size,metadata:s.meta}},$u=new WeakMap,Vl=new WeakMap,eo=new WeakMap,Uu=new WeakMap,B(zp,"VERSION",rW.version);let ax=zp;function dp({maxNumberOfFiles:t=1,maxFileSize:e=10485760,allowedFileTypes:s,onGetUploadParameters:n,onComplete:r,buttonClassName:a,children:o}){const[l,c]=p.useState(!1),[d]=p.useState(()=>new Dv({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:s||["*"]},autoProceed:!1}).use(ax,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",h=>{r==null||r(h),c(!1)}));return i.jsxs("div",{children:[i.jsx(D,{onClick:()=>c(!0),className:a,children:o}),i.jsx(aT,{uppy:d,open:l,onRequestClose:()=>c(!1),proudlyDisplayPoweredByUppy:!1})]})}function lx({open:t,onOpenChange:e,onSuccess:s,type:n,userId:r}){const[a,o]=p.useState(""),[l,c]=p.useState(null),[d,h]=p.useState(!1),{toast:u}=Ct(),f=async()=>{try{const x=await fe("POST","/api/media/upload");if(console.log("Upload parameters response:",x),!(x!=null&&x.uploadURL))throw console.error("Invalid response:",x),new Error("No upload URL received from server");return{method:"PUT",url:x.uploadURL}}catch(x){throw console.error("Error getting upload parameters:",x),u({title:"Upload Error",description:"Failed to get upload URL. Please try again.",variant:"destructive"}),x}},m=async x=>{var y;if(console.log("Upload complete result:",x),x.successful&&x.successful.length>0){const v=x.successful[0],S=v.type.startsWith("image/")?"image":"video",N=v.uploadURL||((y=v.response)==null?void 0:y.uploadURL);c({url:N,type:S}),u({title:"Media uploaded!",description:"Your media file has been uploaded successfully."})}else x.failed&&x.failed.length>0&&(console.error("Upload failed:",x.failed),u({title:"Upload failed",description:"Failed to upload media. Please try again.",variant:"destructive"}))},b=async()=>{if(n==="event"){if(!l){u({title:"Error",description:"Please upload media for your event",variant:"destructive"});return}const x={objectURL:l.url,type:l.type};s(x),e(!1),o(""),c(null);return}if(!l&&!a.trim()){u({title:"Error",description:"Please add some content or media to your "+n,variant:"destructive"});return}h(!0);try{const x={userId:r,content:a.trim()||null,mediaUrl:(l==null?void 0:l.url)||null,mediaType:(l==null?void 0:l.type)||null};if(n==="story"){const y=new Date;y.setHours(y.getHours()+24),x.expiresAt=y.toISOString()}await fe("POST",`/api/${n==="post"?"posts":"stories"}`,x),u({title:`${n==="post"?"Post":"Story"} created!`,description:`Your ${n} has been shared with your kliq on the Headlines`}),s(),e(!1),o(""),c(null)}catch{u({title:"Error",description:`Failed to create ${n}`,variant:"destructive"})}finally{h(!1)}},g=()=>{c(null)};return i.jsx(Yt,{open:t,onOpenChange:e,children:i.jsxs(Ut,{className:"sm:max-w-md bg-card border-border",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-foreground",children:n==="event"?"Add Media to Event":`Create ${n==="post"?"Post":"Story"}`})}),i.jsxs("div",{className:"space-y-4",children:[n!=="event"&&i.jsx(tr,{value:a,onChange:x=>o(x.target.value),placeholder:`What's happening in your ${n==="post"?"kliq":"story"}?`,className:"bg-input text-foreground placeholder-muted-foreground border-border",rows:3}),l&&i.jsx(X,{className:"relative bg-muted border-border",children:i.jsx(J,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[l.type==="image"?i.jsx(aa,{className:"w-8 h-8 text-green-400"}):i.jsx(Hi,{className:"w-8 h-8 text-blue-400"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-foreground font-medium",children:[l.type==="image"?"Image":"Video"," uploaded"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to share"})]})]}),i.jsx(D,{size:"sm",variant:"ghost",onClick:g,className:"text-destructive hover:bg-destructive/10",children:i.jsx(ds,{className:"w-4 h-4"})})]})})}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(dp,{maxNumberOfFiles:1,maxFileSize:50485760,onGetUploadParameters:f,onComplete:m,buttonClassName:"bg-white text-black border-2 border-black hover:bg-gray-50",children:[i.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Add Media"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(D,{variant:"outline",onClick:()=>e(!1),className:"border-border text-muted-foreground hover:bg-muted",children:"Cancel"}),i.jsx(D,{onClick:b,disabled:d,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:n==="event"?d?"Uploading...":"Upload Media":d?"Sharing...":`Share ${n==="post"?"Post":"Story"}`})]})]})]})]})})}function mW({gif:t,className:e}){const[s,n]=p.useState(!1),[r,a]=p.useState(!1),o=()=>{a(!0),n(!1)},l=()=>{n(!0),a(!1)};return s?i.jsx("div",{className:`${e} relative h-24 bg-muted overflow-hidden gif-container cursor-pointer border border-border flex items-center justify-center`,children:i.jsx("span",{className:"text-xs text-muted-foreground",children:t.title})}):i.jsxs("div",{className:`${e} relative h-24 bg-muted overflow-hidden gif-container cursor-pointer border border-border`,children:[!r&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:"Loading..."})}),i.jsx("img",{src:t.url,alt:t.title,className:`w-full h-full object-cover transition-opacity ${r?"opacity-100":"opacity-0"}`,onLoad:o,onError:l,loading:"lazy",draggable:!1})]})}function cx({onSelectGif:t,trigger:e,isOpen:s,onOpenChange:n}){const[r,a]=p.useState(""),[o,l]=p.useState(!1),c=s!==void 0?s:o,d=x=>{n?n(x):l(x)},{data:h=[],isLoading:u}=it({queryKey:["/api/gifs"],enabled:r.length<=2}),{data:f=[],isLoading:m}=it({queryKey:[`/api/gifs/search?q=${encodeURIComponent(r)}`],enabled:r.length>2}),b=x=>{t(x),d(!1),a("")},g=x=>i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3 p-4 pb-6",children:x.map(y=>i.jsxs("div",{className:"relative cursor-pointer group rounded-lg overflow-hidden border border-border hover:border-primary transition-colors",onClick:()=>b(y),"data-testid":`gif-item-${y.id}`,children:[i.jsx(mW,{gif:y,className:"w-full h-24 object-cover group-hover:scale-105 transition-transform"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-end",children:i.jsx("div",{className:"p-2 bg-gradient-to-t from-black/60 to-transparent w-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("p",{className:"text-white text-xs font-medium truncate",children:y.title})})})]},y.id))});return i.jsxs(Yt,{open:c,onOpenChange:d,children:[i.jsx(mi,{asChild:!0,children:e||i.jsxs(D,{variant:"outline",size:"sm","data-testid":"gif-picker-trigger",children:[i.jsx(vv,{className:"h-4 w-4 mr-2"}),"GIF"]})}),i.jsxs(Ut,{className:"max-w-3xl h-[650px] bg-card text-foreground overflow-hidden","aria-describedby":"gif-picker-description",children:[i.jsxs(zt,{children:[i.jsx(Bt,{children:"Choose a GIF"}),i.jsx("div",{id:"gif-picker-description",className:"sr-only",children:"Browse and select animated GIFs to add to your post or message"})]}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(dm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(he,{placeholder:"Search for GIFs (e.g., 'birthday', 'happy', 'christmas', 'thumbs up')...",value:r,onChange:x=>a(x.target.value),className:"pl-10 bg-background border-border","data-testid":"gif-search-input"})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx("div",{className:"h-full pr-2 gif-scrollbar",style:{overflowY:"scroll",maxHeight:"500px"},children:i.jsx("div",{className:"pr-2",children:r.length>2?i.jsx(i.Fragment,{children:m?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("p",{className:"text-muted-foreground",children:"Searching..."})}):f.length>0?g(f):i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsxs("p",{className:"text-muted-foreground",children:['No GIFs found for "',r,'"']})})}):i.jsx(i.Fragment,{children:u?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading GIFs..."})}):h.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Browse all ",h.length," GIFs or search for specific ones above"]})}),g(h)]}):i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("p",{className:"text-muted-foreground",children:"No GIFs available"})})})})})})]})]})]})}function nd({gif:t,className:e,autoPlay:s=!0,showTitle:n=!1,onClick:r}){const[a,o]=p.useState(!0),[l,c]=p.useState(!1),d=()=>{o(!1)},h=()=>{o(!1),c(!0)};return l?i.jsx("div",{className:te("flex items-center justify-center bg-muted rounded-lg border border-border","min-h-[120px] text-muted-foreground",e),children:i.jsx("p",{className:"text-sm",children:"Failed to load GIF"})}):i.jsxs("div",{className:te("relative rounded-lg overflow-hidden border border-border bg-card",r&&"cursor-pointer hover:border-primary transition-colors",e),onClick:r,"data-testid":`gif-display-${t.id}`,children:[a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted animate-pulse",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})}),i.jsx("img",{src:s?t.url:t.thumbnailUrl||t.url,alt:t.title,className:te("w-full h-auto object-cover",a&&"opacity-0"),onLoad:d,onError:h,style:{maxWidth:t.width?`${t.width}px`:"100%",maxHeight:t.height?`${t.height}px`:"auto"}}),n&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:i.jsx("p",{className:"text-white text-xs font-medium truncate",children:t.title})})]})}function ZN(t){return{"Epic Explosion":"from-red-500 to-red-600","Dramatic Gasp":"from-teal-500 to-teal-600","Comedy Gold":"from-yellow-500 to-yellow-600","Romantic Kiss":"from-pink-500 to-pink-600","Horror Scream":"from-gray-500 to-gray-600","Sci-Fi Portal":"from-blue-500 to-blue-600","Epic Battle":"from-orange-500 to-orange-600","Funny Dance":"from-green-500 to-green-600","Emotional Cry":"from-amber-500 to-amber-600","Magic Spell":"from-purple-500 to-purple-600"}[t.title]||"from-slate-500 to-slate-600"}function gW({moviecon:t,className:e}){const[s,n]=p.useState(!1);return t.videoUrl&&(t.videoUrl.includes("storage.googleapis.com")||t.videoUrl.startsWith("/objects/"))?i.jsxs("div",{className:`${e} relative h-24 overflow-hidden moviecon-container cursor-pointer border-2 border-primary rounded-lg bg-black`,children:[s?i.jsxs("div",{className:`relative w-full h-full bg-gradient-to-br ${ZN(t)} flex flex-col items-center justify-center text-white`,children:[i.jsx("div",{className:"text-xs font-bold text-center px-2 mb-1",children:t.title}),i.jsx("div",{className:"text-xs opacity-90",children:"Custom Clip"})]}):i.jsx("video",{src:t.videoUrl,className:"w-full h-full object-cover",preload:"metadata",onError:()=>n(!0)}),i.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:i.jsx(ec,{className:"w-6 h-6 text-white drop-shadow-lg"})})]}):i.jsx("div",{className:`${e} relative h-24 overflow-hidden moviecon-container cursor-pointer border-2 border-primary rounded-lg`,children:i.jsxs("div",{className:`relative w-full h-full bg-gradient-to-br ${ZN(t)} flex flex-col items-center justify-center text-white`,children:[i.jsx("div",{className:"text-xs font-bold text-center px-2 mb-1",children:t.title}),i.jsxs("div",{className:"text-xs opacity-90",children:[t.duration,"s clip"]}),i.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:i.jsx(ec,{className:"w-6 h-6 text-white"})})]})})}function dx({onSelectMoviecon:t,trigger:e,isOpen:s,onOpenChange:n}){const[r,a]=p.useState(""),[o,l]=p.useState(!1),c=s!==void 0?s:o,d=b=>{n?n(b):l(b)};p.useEffect(()=>{c||a("")},[c]);const{data:h=[],isLoading:u}=it({queryKey:["/api/moviecons",r],queryFn:async()=>{const b=r?`/api/moviecons?q=${encodeURIComponent(r)}`:"/api/moviecons",g=await fetch(b,{credentials:"include"});if(!g.ok)throw new Error(`${g.status}: ${g.statusText}`);return g.json()},enabled:c}),f=b=>{t(b),d(!1)},m=i.jsx(D,{size:"sm",variant:"ghost",className:"text-mykliq-purple hover:bg-mykliq-purple/10",children:i.jsx("span",{className:"text-xs font-bold",children:"CLIP"})});return i.jsxs(Yt,{open:c,onOpenChange:d,children:[i.jsx(mi,{asChild:!0,children:e||m}),i.jsxs(Ut,{className:"max-w-2xl max-h-[80vh]",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-primary",children:"Choose a Moviecon"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(dm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx(he,{placeholder:"Search movie clips...",value:r,onChange:b=>a(b.target.value),className:"pl-10 bg-input border-border text-foreground placeholder-muted-foreground"})]}),i.jsx("div",{className:"gif-scrollbar overflow-y-auto max-h-96",children:u?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Loading moviecons..."})}):h.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[i.jsx("div",{className:"text-sm",children:"No moviecons found"}),r&&i.jsx("div",{className:"text-xs mt-1",children:"Try a different search term"})]}):i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 p-2",children:h.map(b=>i.jsxs("div",{onClick:()=>f(b),className:"moviecon-item group cursor-pointer",children:[i.jsx(gW,{moviecon:b,className:"rounded-lg hover:scale-105 transition-transform duration-200 shadow-sm hover:shadow-md"}),i.jsx("div",{className:"text-xs text-center mt-2 text-muted-foreground group-hover:text-foreground transition-colors truncate px-1",children:b.title}),b.movieSource&&i.jsx("div",{className:"text-xs text-center text-muted-foreground/70 truncate px-1",children:b.movieSource})]},b.id))})})]})]})]})}function XN(t){return{"Epic Explosion":"from-red-500 to-red-600","Dramatic Gasp":"from-teal-500 to-teal-600","Comedy Gold":"from-yellow-500 to-yellow-600","Romantic Kiss":"from-pink-500 to-pink-600","Horror Scream":"from-gray-500 to-gray-600","Sci-Fi Portal":"from-blue-500 to-blue-600","Epic Battle":"from-orange-500 to-orange-600","Funny Dance":"from-green-500 to-green-600","Emotional Cry":"from-amber-500 to-amber-600","Magic Spell":"from-purple-500 to-purple-600"}[t.title]||"from-slate-500 to-slate-600"}function rd({moviecon:t,className:e,autoPlay:s=!1}){const[n,r]=p.useState(!1),[a,o]=p.useState(!1),[l,c]=p.useState(!1),d=p.useRef(null);return t.videoUrl&&(t.videoUrl.includes("storage.googleapis.com")||t.videoUrl.startsWith("/objects/"))?i.jsx("div",{className:te("relative rounded-lg overflow-hidden min-h-[120px] bg-black border-2 border-primary/50",e),children:n?i.jsx("div",{className:te(`relative bg-gradient-to-br ${XN(t)} rounded-lg overflow-hidden min-h-[120px] flex flex-col items-center justify-center text-white`,e),children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"text-lg mb-2",children:""}),i.jsx("div",{className:"text-sm font-bold mb-1",children:t.title}),i.jsx("div",{className:"text-xs opacity-90",children:"Custom Clip"})]})}):i.jsxs(i.Fragment,{children:[i.jsx("video",{ref:d,src:t.videoUrl,className:"w-full h-full object-cover",muted:l,onError:()=>r(!0),onPlay:()=>o(!0),onPause:()=>o(!1),onEnded:()=>o(!1)}),!a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 cursor-pointer",onClick:()=>{var h;return(h=d.current)==null?void 0:h.play()},children:i.jsx("div",{className:"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(ec,{className:"w-8 h-8 text-black ml-1"})})}),i.jsx(D,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 text-white hover:bg-black/70",onClick:h=>{h.stopPropagation(),c(!l)},children:l?i.jsx(U0,{className:"w-4 h-4"}):i.jsx($0,{className:"w-4 h-4"})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:i.jsx("div",{className:"text-white text-sm font-medium",children:t.title})})]})}):i.jsx("div",{className:te(`relative bg-gradient-to-br ${XN(t)} rounded-lg overflow-hidden min-h-[120px] flex flex-col items-center justify-center text-white border-2 border-primary/50`,e),children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("div",{className:"text-lg mb-2",children:""}),i.jsx("div",{className:"text-sm font-bold mb-1",children:t.title}),i.jsx("div",{className:"text-xs opacity-90",children:t.movieSource}),i.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[t.duration,"s moviecon"]})]})})}function yW(t){if(!t)return null;const e=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?youtu\.be\/([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const s of e){const n=t.match(s);if(n&&n[1])return n[1]}return null}function vW(t){if(!t)return[];const e=/https?:\/\/(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)|youtu\.be\/)[\w-]+(?:[^\s]*)?/g;return t.match(e)||[]}function xW(t){return`https://www.youtube.com/embed/${t}?autoplay=0&rel=0&modestbranding=1`}function bW(t,e="medium"){return`https://img.youtube.com/vi/${t}/${{default:"default",medium:"mqdefault",high:"hqdefault",maxres:"maxresdefault"}[e]}.jpg`}function Gg(t){const e=vW(t);let s=t;return e.forEach(n=>{const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s=s.replace(new RegExp(r,"g"),"")}),s=s.replace(/https?:\/\/[^\s]*/g,"").replace(/www\.[^\s]*/g,"").replace(/youtube\.com[^\s]*/g,"").replace(/youtu\.be[^\s]*/g,"").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").replace(/\n\s*\n/g,`
`).trim(),{cleanText:s,youtubeUrls:e}}function wW({url:t,className:e="",autoplay:s=!1}){const[n,r]=p.useState(s),a=yW(t);if(!a)return null;const o=xW(a)+(s?"&autoplay=1":""),l=bW(a,"high");return n?i.jsx("div",{className:`rounded-lg overflow-hidden ${e}`,"data-testid":"youtube-embed",children:i.jsx("iframe",{src:o,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full aspect-video"})}):i.jsxs("div",{className:`relative cursor-pointer group rounded-lg overflow-hidden bg-black ${e}`,onClick:()=>r(!0),"data-testid":"youtube-thumbnail",children:[i.jsx("img",{src:l,alt:"YouTube video thumbnail",className:"w-full aspect-video object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("div",{className:"bg-red-600 hover:bg-red-700 transition-colors rounded-full p-4 group-hover:scale-110 transform transition-transform",children:i.jsx(ec,{className:"w-8 h-8 text-white fill-current ml-1"})})}),i.jsx("div",{className:"absolute top-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:"YouTube"})]})}function JN({urls:t,className:e=""}){return!t||t.length===0?null:i.jsx("div",{className:`space-y-3 ${e}`,children:t.map((s,n)=>i.jsx(wW,{url:s,className:"w-full max-w-2xl"},`${s}-${n}`))})}var Nb="Progress",Sb=100,[jW,oJ]=Ns(Nb),[NW,SW]=jW(Nb),wT=p.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:r,getValueLabel:a=kW,...o}=t;(r||r===0)&&!eS(r)&&console.error(CW(`${r}`,"Progress"));const l=eS(r)?r:Sb;n!==null&&!tS(n,l)&&console.error(PW(`${n}`,"Progress"));const c=tS(n,l)?n:null,d=up(c)?a(c,l):void 0;return i.jsx(NW,{scope:s,value:c,max:l,children:i.jsx(Ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":up(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":ST(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});wT.displayName=Nb;var jT="ProgressIndicator",NT=p.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,r=SW(jT,s);return i.jsx(Ne.div,{"data-state":ST(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:e})});NT.displayName=jT;function kW(t,e){return`${Math.round(t/e*100)}%`}function ST(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function up(t){return typeof t=="number"}function eS(t){return up(t)&&!isNaN(t)&&t>0}function tS(t,e){return up(t)&&!isNaN(t)&&t<=e&&t>=0}function CW(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sb}\`.`}function PW(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kT=wT,_W=NT;const jd=p.forwardRef(({className:t,value:e,...s},n)=>i.jsx(kT,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:i.jsx(_W,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jd.displayName=kT.displayName;function as(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function EW(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Xh=43200,sS=1440;let TW={};function MW(){return TW}function nS(t){const e=as(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function Sf(t,e){const s=as(t),n=as(e),r=s.getTime()-n.getTime();return r<0?-1:r>0?1:r}function AW(t){return EW(t,Date.now())}function FW(t,e){const s=as(t),n=as(e),r=s.getFullYear()-n.getFullYear(),a=s.getMonth()-n.getMonth();return r*12+a}function RW(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function IW(t,e){return+as(t)-+as(e)}function OW(t){const e=as(t);return e.setHours(23,59,59,999),e}function DW(t){const e=as(t),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function LW(t){const e=as(t);return+OW(e)==+DW(e)}function $W(t,e){const s=as(t),n=as(e),r=Sf(s,n),a=Math.abs(FW(s,n));let o;if(a<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*a);let l=Sf(s,n)===-r;LW(as(t))&&a===1&&Sf(t,n)===1&&(l=!1),o=r*(a-Number(l))}return o===0?0:o}function UW(t,e,s){const n=IW(t,e)/1e3;return RW(s==null?void 0:s.roundingMethod)(n)}const zW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BW=(t,e,s)=>{let n;const r=zW[t];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Yg(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const VW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WW={date:Yg({formats:VW,defaultWidth:"full"}),time:Yg({formats:qW,defaultWidth:"full"}),dateTime:Yg({formats:HW,defaultWidth:"full"})},KW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GW=(t,e,s,n)=>KW[t];function Vc(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):o;r=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;r=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return r[a]}}const YW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tK=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},sK={ordinalNumber:tK,era:Vc({values:YW,defaultWidth:"wide"}),quarter:Vc({values:QW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vc({values:ZW,defaultWidth:"wide"}),day:Vc({values:XW,defaultWidth:"wide"}),dayPeriod:Vc({values:JW,defaultWidth:"wide",formattingValues:eK,defaultFormattingWidth:"wide"})};function qc(t){return(e,s={})=>{const n=s.width,r=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(r);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?rK(l,u=>u.test(o)):nK(l,u=>u.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function nK(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function rK(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function iK(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const r=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(r.length);return{value:o,rest:l}}}const aK=/^(\d+)(th|st|nd|rd)?/i,oK=/\d+/i,lK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cK={any:[/^b/i,/^(a|c)/i]},dK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uK={any:[/1/i,/2/i,/3/i,/4/i]},hK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vK={ordinalNumber:iK({matchPattern:aK,parsePattern:oK,valueCallback:t=>parseInt(t,10)}),era:qc({matchPatterns:lK,defaultMatchWidth:"wide",parsePatterns:cK,defaultParseWidth:"any"}),quarter:qc({matchPatterns:dK,defaultMatchWidth:"wide",parsePatterns:uK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qc({matchPatterns:hK,defaultMatchWidth:"wide",parsePatterns:fK,defaultParseWidth:"any"}),day:qc({matchPatterns:pK,defaultMatchWidth:"wide",parsePatterns:mK,defaultParseWidth:"any"}),dayPeriod:qc({matchPatterns:gK,defaultMatchWidth:"any",parsePatterns:yK,defaultParseWidth:"any"})},xK={code:"en-US",formatDistance:BW,formatLong:WW,formatRelative:GW,localize:sK,match:vK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bK(t,e,s){const n=MW(),r=(s==null?void 0:s.locale)??n.locale??xK,a=2520,o=Sf(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,d;o>0?(c=as(e),d=as(t)):(c=as(t),d=as(e));const h=UW(d,c),u=(nS(d)-nS(c))/1e3,f=Math.round((h-u)/60);let m;if(f<2)return s!=null&&s.includeSeconds?h<5?r.formatDistance("lessThanXSeconds",5,l):h<10?r.formatDistance("lessThanXSeconds",10,l):h<20?r.formatDistance("lessThanXSeconds",20,l):h<40?r.formatDistance("halfAMinute",0,l):h<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<sS){const b=Math.round(f/60);return r.formatDistance("aboutXHours",b,l)}else{if(f<a)return r.formatDistance("xDays",1,l);if(f<Xh){const b=Math.round(f/sS);return r.formatDistance("xDays",b,l)}else if(f<Xh*2)return m=Math.round(f/Xh),r.formatDistance("aboutXMonths",m,l)}if(m=$W(d,c),m<12){const b=Math.round(f/Xh);return r.formatDistance("xMonths",b,l)}else{const b=m%12,g=Math.trunc(m/12);return b<3?r.formatDistance("aboutXYears",g,l):b<9?r.formatDistance("overXYears",g,l):r.formatDistance("almostXYears",g+1,l)}}function Jd(t,e){return bK(t,AW(t),e)}const Qg=new Map,wK={es:{hello:"hola","good morning":"buenos das","good night":"buenas noches","thank you":"gracias",love:"amor",happy:"feliz",birthday:"cumpleaos","checked in at":"registrado en",feeling:"sintindose",just:"solo",grinding:"trabajando duro",bored:"aburrido",test:"prueba","hello everyone":"hola a todos",music:"msica",reading:"lectura",gaming:"juegos",cooking:"cocinar",travel:"viajar",sports:"deportes",movies:"pelculas",photography:"fotografa",art:"arte",dancing:"baile",coffee:"caf",pizza:"pizza",chocolate:"chocolate",pasta:"pasta",sushi:"sushi",tacos:"tacos",burgers:"hamburguesas","new york":"nueva york",paris:"pars",london:"londres",tokyo:"tokio",beach:"playa",mountains:"montaas",city:"ciudad",rock:"rock",pop:"pop",jazz:"jazz",classical:"clsica","hip hop":"hip hop",electronic:"electrnica",single:"soltero",taken:"en una relacin",married:"casado",complicated:"es complicado","prefer not to say":"prefiero no decir","dog lover":"amante de los perros","cat lover":"amante de los gatos","loves dogs & cats":"ama perros y gatos","other pets":"otras mascotas","no pets":"sin mascotas",active:"activo",relaxed:"relajado",adventurous:"aventurero",homebody:"hogareo",social:"social",quiet:"tranquilo",fishing:"pesca",watching:"viendo",netflix:"netflix",wwe:"wwe","call of duty":"call of duty","sports cards":"cartas deportivas","sneaker freak":"fantico de zapatillas",steak:"bistec",nachos:"nachos",gospel:"gospel",metal:"metal","the matrix":"matrix","wizard of oz":"mago de oz","e.t.":"e.t.",bible:"biblia","stephen king":"stephen king","love life":"amo la vida",enjoy:"disfruto",family:"familia",friends:"amigos",work:"trabajo",life:"vida",fun:"diversin",time:"tiempo",good:"bueno",great:"genial",amazing:"increble",awesome:"impresionante",beautiful:"hermoso",nice:"agradable",cool:"genial",funny:"divertido",interesting:"interesante",exciting:"emocionante",relaxing:"relajante",peaceful:"pacfico",busy:"ocupado",tired:"cansado",stressed:"estresado",worried:"preocupado",excited:"emocionado",nervous:"nervioso",proud:"orgulloso",grateful:"agradecido",blessed:"bendecido","interests & hobbies":"intereses y pasatiempos",interests:"intereses",hobbies:"pasatiempos",favorites:"favoritos",places:"lugares",foods:"comidas","music genres":"gneros musicales","lifestyle & status":"estilo de vida y estado","relationship status":"estado de relacin","pet preferences":"preferencias de mascotas",entertainment:"entretenimiento",books:"libros","in a relationship":"en una relacin","it's complicated":"es complicado"},fr:{hello:"bonjour","good morning":"bonjour","good night":"bonne nuit","thank you":"merci",love:"amour",happy:"heureux",birthday:"anniversaire","checked in at":"enregistr ",feeling:"se sentir",just:"juste",grinding:"travailler dur",bored:"ennuy",test:"test","hello everyone":"bonjour tout le monde"},de:{hello:"hallo","good morning":"guten Morgen","good night":"gute Nacht","thank you":"danke",love:"liebe",happy:"glcklich",birthday:"Geburtstag","checked in at":"eingecheckt bei",feeling:"fhlen",just:"nur",grinding:"hart arbeiten",bored:"gelangweilt",test:"Test","hello everyone":"hallo alle"},pt:{hello:"ol","good morning":"bom dia","good night":"boa noite","thank you":"obrigado",love:"amor",happy:"feliz",birthday:"aniversrio","checked in at":"check-in em",feeling:"sentindo",just:"apenas",grinding:"trabalhando duro",bored:"entediado",test:"teste","hello everyone":"ol pessoal"},it:{hello:"ciao","good morning":"buongiorno","good night":"buonanotte","thank you":"grazie",love:"amore",happy:"felice",birthday:"compleanno","checked in at":"registrato a",feeling:"sentendosi",just:"solo",grinding:"lavorando sodo",bored:"annoiato",test:"test","hello everyone":"ciao a tutti"},zh:{hello:"","good morning":"","good night":"","thank you":"",love:"",happy:"",birthday:"","checked in at":"",feeling:"",just:"",grinding:"",bored:"",test:"","hello everyone":"",music:"",reading:"",gaming:"",cooking:"",travel:"",sports:"",movies:"",photography:"",art:"",dancing:"",coffee:"",pizza:"",chocolate:"",pasta:"",sushi:"",tacos:"",burgers:"","new york":"",paris:"",london:"",tokyo:"",beach:"",mountains:"",city:"",rock:"",pop:"",jazz:"",classical:"","hip hop":"",electronic:"",single:"",taken:"",married:"",complicated:"","prefer not to say":"","dog lover":"","cat lover":"","loves dogs & cats":"","other pets":"","no pets":"",active:"",relaxed:"",adventurous:"",homebody:"",social:"",quiet:"",fishing:"",watching:"",netflix:"",wwe:"","call of duty":"","sports cards":"","sneaker freak":"",steak:"",nachos:"",gospel:"",metal:"","the matrix":"","wizard of oz":"","e.t.":"",bible:"","stephen king":"","love life":"",enjoy:"",family:"",friends:"",work:"",life:"",fun:"",time:"",good:"",great:"",amazing:"",awesome:"",beautiful:"",nice:"",cool:"",funny:"",interesting:"",exciting:"",relaxing:"",peaceful:"",busy:"",tired:"",stressed:"",worried:"",excited:"",nervous:"",proud:"",grateful:"",blessed:"","interests & hobbies":"",interests:"",hobbies:"",favorites:"",places:"",foods:"","music genres":"","lifestyle & status":"","relationship status":"","pet preferences":"",entertainment:"",books:"","in a relationship":"","it's complicated":""},ja:{hello:"","good morning":"","good night":"","thank you":"",love:"",happy:"",birthday:"","checked in at":"",feeling:"",just:"",grinding:"",bored:"",test:"","hello everyone":""},ko:{hello:"","good morning":" ","good night":" ","thank you":"",love:"",happy:"",birthday:"","checked in at":"",feeling:"",just:"",grinding:" ",bored:"",test:"","hello everyone":" "},ar:{hello:"","good morning":" ","good night":"  ","thank you":" ",love:"",happy:"",birthday:" ","checked in at":"  ",feeling:"",just:"",grinding:" ",bored:"",test:"","hello everyone":" "}};function jK(t,e){if(!t||e==="en"||e==="en-US")return t;const s=`${t}-${e}`;if(Qg.has(s))return Qg.get(s);if(SK(t)||kK(t))return t;let n=NK(t,e);return Qg.set(s,n),n}function NK(t,e){const s=e.split("-")[0],n=wK[s];if(!n)return t;let r=t.toLowerCase();const a=Object.keys(n).sort((o,l)=>l.length-o.length);for(const o of a){const l=n[o],c=new RegExp(`\\b${o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi");r=r.replace(c,l)}return t.includes(",")&&(r=r.split(",").map(l=>l.trim()).join(", ")),n[t.toLowerCase()]||(r=r.split(/\s+/).map(c=>{const d=c.replace(/[^\w]/g,"").toLowerCase();return n[d]||c}).join(" ")),t.length>0&&t[0]===t[0].toUpperCase()&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}function SK(t){try{return new URL(t),!0}catch{return t.includes("http://")||t.includes("https://")||t.includes("www.")}}function kK(t){const e=/^\d+$/.test(t),s=t.includes("")||t.includes("")||t.includes("")||t.includes("")||t.includes("")||t.includes("")||t.includes("")||t.includes("")||t.includes(""),n=t.length<=5&&s;return e||n}function CK(t,e){const s={es:{happy:"feliz",sad:"triste",excited:"emocionado",angry:"enojado",blessed:"bendecido",lucky:"afortunado",anxious:"ansioso",nostalgic:"nostlgico"},fr:{happy:"heureux",sad:"triste",excited:"excit",angry:"en colre",blessed:"bni",lucky:"chanceux",anxious:"anxieux",nostalgic:"nostalgique"},de:{happy:"glcklich",sad:"traurig",excited:"aufgeregt",angry:"wtend",blessed:"gesegnet",lucky:"glcklich",anxious:"ngstlich",nostalgic:"nostalgisch"},pt:{happy:"feliz",sad:"triste",excited:"animado",angry:"zangado",blessed:"abenoado",lucky:"sortudo",anxious:"ansioso",nostalgic:"nostlgico"},it:{happy:"felice",sad:"triste",excited:"eccitato",angry:"arrabbiato",blessed:"benedetto",lucky:"fortunato",anxious:"ansioso",nostalgic:"nostalgico"},zh:{happy:"",sad:"",excited:"",angry:"",blessed:"",lucky:"",anxious:"",nostalgic:""},ja:{happy:"",sad:"",excited:"",angry:"",blessed:"",lucky:"",anxious:"",nostalgic:""},ko:{happy:"",sad:"",excited:"",angry:"",blessed:"",lucky:" ",anxious:"",nostalgic:" "},ar:{happy:"",sad:"",excited:"",angry:"",blessed:"",lucky:"",anxious:"",nostalgic:""}},n=e.split("-")[0],r=s[n];return r&&r[t.toLowerCase()]||t}function km(){const{i18n:t}=bm();return{translatePost:n=>jK(n,t.language),translateMoodText:n=>CK(n,t.language),currentLanguage:t.language}}function CT({poll:t}){var b;const[e,s]=p.useState(((b=t.userVote)==null?void 0:b.selectedOption)??null),{toast:n}=Ct(),r=js(),{translatePost:a}=km(),{data:o=[],refetch:l}=it({queryKey:["/api/polls",t.id,"results"],queryFn:()=>fe("GET",`/api/polls/${t.id}/results`),refetchInterval:3e3,staleTime:0}),c=Te({mutationFn:async g=>{const x=await fe("POST",`/api/polls/${t.id}/vote`,{selectedOption:g});return{option:g,response:x}},onMutate:async g=>{await r.cancelQueries({queryKey:["/api/polls",t.id,"results"]});const x=r.getQueryData(["/api/polls",t.id,"results"]);return s(g),{previousResults:x,option:g}},onSuccess:g=>{var x;(x=g.response)!=null&&x.results?r.setQueryData(["/api/polls",t.id,"results"],g.response.results):l(),r.invalidateQueries({queryKey:["/api/polls"]}),r.invalidateQueries({queryKey:["/api/kliq-feed"]}),n({title:"Vote recorded!",description:"Your vote has been saved successfully"})},onError:(g,x,y)=>{s(null),y!=null&&y.previousResults&&r.setQueryData(["/api/polls",t.id,"results"],y.previousResults),console.error("Error voting:",g),n({title:"Failed to vote",description:"Please try again",variant:"destructive"})}}),d=g=>{s(g),c.mutate(g)},h=new Date(t.expiresAt)<=new Date,u=t.userVote!==void 0||e!==null,f=o.reduce((g,x)=>g+((x==null?void 0:x.votes)||0),0),m=f>0||u||h;return i.jsxs(X,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700","data-testid":`card-poll-${t.id}`,children:[i.jsxs(Ce,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Pe,{className:"text-lg text-black dark:text-white",children:a(t.title)}),t.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a(t.description)})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ze,{variant:h?"destructive":"secondary",className:"text-xs","data-testid":`badge-poll-status-${t.id}`,children:h?"Expired":"Active"})})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("img",{src:t.author.profileImageUrl||"/default-avatar.png",alt:`${t.author.firstName} ${t.author.lastName}`,className:"w-4 h-4 rounded-full"}),i.jsxs("span",{children:[t.author.firstName," ",t.author.lastName]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(lm,{className:"w-3 h-3"}),i.jsx("span",{children:h?`Expired ${Jd(new Date(t.expiresAt))} ago`:`Expires ${Jd(new Date(t.expiresAt))}`})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(bs,{className:"w-3 h-3"}),i.jsxs("span",{children:[f," votes"]})]})]})]}),i.jsx(J,{children:i.jsx("div",{className:"space-y-3",children:t.options.map((g,x)=>{const y=o.find(w=>w.index===x),v=e===x;return i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(D,{variant:v&&u?"default":"outline",className:`flex-1 justify-start text-left h-auto p-3 ${m?"cursor-default":""} bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600`,onClick:()=>!u&&!h&&d(x),disabled:u||h||c.isPending,"data-testid":`button-poll-option-${t.id}-${x}`,children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[v&&u&&i.jsx(Xl,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"flex-1",children:a(g)}),m&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:[(y==null?void 0:y.percentage)||0,"%"]}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",(y==null?void 0:y.votes)||0,")"]})]})]})})}),m&&i.jsx(jd,{value:(y==null?void 0:y.percentage)||0,className:"h-2","data-testid":`progress-poll-option-${t.id}-${x}`})]},x)})})})]})}function PT(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function rS(t,e,s){const[n,r,a]=[t,e,s].map(o=>(o=o/255,o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)));return .2126*n+.7152*r+.0722*a}function PK(t){if(t.startsWith("#")){const n=PT(t);return n?rS(n.r,n.g,n.b)<.5:!1}const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(e){const n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]);return rS(n,r,a)<.5}return["black","darkblue","darkgreen","darkred","darkgray","darkgrey","maroon","navy","olive","purple","teal","dimgray","dimgrey"].includes(t.toLowerCase())}function kb(t){return PK(t)?"#ffffff":"#000000"}function _K(t){if(t.startsWith("#")){const s=PT(t);return s?s.r<30&&s.g<30&&s.b<30:!1}const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(e){const s=parseInt(e[1]),n=parseInt(e[2]),r=parseInt(e[3]);return s<30&&n<30&&r<30}return t.toLowerCase()==="black"}function EK({ad:t}){const{toast:e}=Ct();js();const s=Te({mutationFn:async()=>{await fe(`/api/ads/${t.id}/impression`,"POST")},onSuccess:()=>{Sv("ad_impression","ads",t.category,1)}}),n=Te({mutationFn:async()=>{await fe(`/api/ads/${t.id}/click`,"POST")},onSuccess:()=>{Sv("ad_click","ads",t.category,1),t.ctaUrl&&window.open(t.ctaUrl,"_blank","noopener,noreferrer")},onError:l=>{console.error("Error recording ad click:",l),e({title:"Error",description:"Failed to track ad interaction",variant:"destructive"})}});Ue.useEffect(()=>{s.mutate()},[]);const r=()=>{n.mutate()},a=t.backgroundColor||"#ffffff",o=kb(a);return i.jsx(X,{className:"relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-blue-500",style:{backgroundColor:a,color:o},onClick:r,"data-testid":`sponsored-ad-${t.id}`,children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(ze,{variant:"secondary",className:"text-xs font-medium",style:{color:o,borderColor:o,backgroundColor:"transparent"},"data-testid":"sponsored-badge",children:"Sponsored"}),i.jsx(ze,{variant:"outline",className:"text-xs",style:{color:o,borderColor:o},"data-testid":`ad-category-${t.category}`,children:t.category})]}),t.imageUrl&&i.jsx("div",{className:"mb-3 rounded-lg overflow-hidden",children:i.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-32 object-cover","data-testid":"ad-image"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold text-lg leading-tight",style:{color:o},"data-testid":"ad-title",children:t.title}),i.jsx("p",{className:"text-sm line-clamp-3",style:{color:o},"data-testid":"ad-description",children:t.description}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs(D,{variant:"default",size:"sm",className:"flex items-center gap-2","data-testid":"ad-cta-button",children:[i.jsx(ia,{className:"w-4 h-4"}),t.ctaText||"Learn More"]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",style:{color:o},children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fo,{className:"w-3 h-3"}),i.jsx("span",{"data-testid":"ad-impressions",children:t.impressions||0})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J2,{className:"w-3 h-3"}),i.jsx("span",{"data-testid":"ad-clicks",children:t.clicks||0})]})]})]})]}),n.isPending&&i.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})]})})}function TK(){const[t,e]=p.useState(""),[s,n]=p.useState([]),[r,a]=p.useState(!1),[o,l]=p.useState(!1),c=async()=>{if(t.trim()){a(!0),l(!0);try{const h=[{title:`"${t}" - Google Search`,url:`https://www.google.com/search?q=${encodeURIComponent(t)}`,snippet:`Search Google for "${t}" to find the most current and comprehensive information available on the web.`,source:"google.com"},{title:`${t} - Wikipedia`,url:`https://en.wikipedia.org/wiki/${encodeURIComponent(t.replace(/\s+/g,"_"))}`,snippet:`Find detailed encyclopedia information about "${t}" on Wikipedia with citations and references.`,source:"wikipedia.org"},{title:`Latest News: ${t}`,url:`https://news.google.com/search?q=${encodeURIComponent(t)}&hl=en-US&gl=US&ceid=US%3Aen`,snippet:`Get the latest breaking news and updates about "${t}" from trusted news sources worldwide.`,source:"news.google.com"},{title:`${t} - YouTube`,url:`https://www.youtube.com/results?search_query=${encodeURIComponent(t)}`,snippet:`Watch videos, tutorials, and documentaries about "${t}" on YouTube.`,source:"youtube.com"},{title:`${t} - Reddit Discussions`,url:`https://www.reddit.com/search/?q=${encodeURIComponent(t)}`,snippet:`Join community discussions and see what people are saying about "${t}" on Reddit.`,source:"reddit.com"}];await new Promise(u=>setTimeout(u,800)),n(h)}catch(h){console.error("Search error:",h),n([])}finally{a(!1)}}},d=h=>{h.key==="Enter"&&c()};return i.jsxs("div",{className:"mt-3 p-3 rounded-lg border",style:{background:"var(--background)",borderColor:"var(--border)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:t,onChange:h=>{const u=h.target.value;e(u),u.trim()||(n([]),l(!1))},onKeyPress:d,placeholder:"Google search powered by AI...",className:"flex-1 bg-white text-black border-gray-300 placeholder:text-gray-500 text-sm h-8",style:{backgroundColor:"white",color:"black"},"data-testid":"input-google-search"}),i.jsx(D,{onClick:c,disabled:!t.trim()||r,size:"sm",className:"h-8 px-3 text-xs",style:{backgroundColor:"var(--primary)",color:"var(--primary-foreground)",fontSize:"12px"},"data-testid":"button-search",children:r?i.jsx(Ra,{className:"w-3 h-3 animate-spin"}):i.jsx(dm,{className:"w-3 h-3"})})]}),r&&i.jsxs("div",{className:"mt-3 text-center py-4",style:{color:"var(--muted-foreground)"},children:[i.jsx(Ra,{className:"w-4 h-4 animate-spin mx-auto mb-1"}),i.jsx("div",{className:"text-xs",children:"Searching..."})]}),!r&&o&&s.length===0&&i.jsx("div",{className:"mt-3 text-center py-4 text-xs",style:{color:"var(--muted-foreground)"},children:"No results found. Try a different search term."}),s.length>0&&i.jsx("div",{className:"mt-3 space-y-2",children:s.map((h,u)=>i.jsx("div",{className:"rounded-md p-2 transition-colors hover:opacity-80 border cursor-pointer",style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>window.open(h.url,"_blank"),"data-testid":`search-result-${u}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-xs leading-tight mb-1 truncate",style:{color:"var(--foreground)"},children:h.title}),i.jsx("p",{className:"text-xs leading-tight mb-1 line-clamp-2",style:{color:"var(--muted-foreground)"},children:h.snippet}),i.jsx(ze,{variant:"secondary",className:"text-xs px-1 py-0 h-4",children:h.source})]}),i.jsx("div",{className:"shrink-0 flex items-center justify-center h-6 w-6",children:i.jsx(ia,{className:"w-3 h-3",style:{color:"var(--muted-foreground)"}})})]})},u))})]})}const MK=[{id:"1",platform:"instagram",username:"alex_adventures",content:"Just finished an amazing hike! The view from the top was absolutely breathtaking  #hiking #nature #adventure",mediaUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400",likes:127,comments:23,shares:8,timestamp:"2 hours ago",postUrl:"https://instagram.com/p/demo123"},{id:"2",platform:"youtube",username:"TechReviewsDaily",content:"New video is live! Reviewing the latest smartphone features and comparing battery life across different models.",mediaUrl:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400",likes:89,comments:15,shares:12,timestamp:"4 hours ago",postUrl:"https://youtube.com/watch?v=demo456"},{id:"3",platform:"twitch",username:"GamerJess",content:"Starting my evening stream! Playing the new RPG everyone's been talking about. Come hang out! ",likes:45,comments:8,shares:3,timestamp:"6 hours ago",postUrl:"https://twitch.tv/demo789"}],AK={instagram:{name:"Instagram",icon:Y2,color:"bg-gradient-to-r from-purple-500 to-pink-500"},youtube:{name:"YouTube",icon:sP,color:"bg-red-600"},twitch:{name:"Twitch",icon:tP,color:"bg-purple-600"},discord:{name:"Discord",icon:Vt,color:"bg-indigo-600"}};function FK(){return i.jsx("div",{className:"space-y-4",children:i.jsxs(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[i.jsx(Vt,{className:"w-5 h-5"}),"Social Media Feed"]}),i.jsx("p",{className:"text-purple-200 text-sm",children:"See all your connected social media content in one place"})]}),i.jsxs(J,{className:"space-y-4",children:[MK.map(t=>{const e=AK[t.platform],s=(e==null?void 0:e.icon)||Vt;return i.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Us,{className:"w-10 h-10",children:[i.jsx(zs,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.username}`}),i.jsx(Bs,{children:t.username[0].toUpperCase()})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h4",{className:"text-white font-medium",children:["@",t.username]}),i.jsx("div",{className:`p-1 rounded ${(e==null?void 0:e.color)||"bg-gray-600"}`,children:i.jsx(s,{className:"w-3 h-3 text-white"})})]}),i.jsxs("div",{className:"flex items-center gap-1 text-purple-300 text-xs",children:[i.jsx(lm,{className:"w-3 h-3"}),t.timestamp]})]})]}),i.jsx(ze,{variant:"outline",className:"text-purple-200 border-purple-300",children:(e==null?void 0:e.name)||t.platform})]}),i.jsx("p",{className:"text-white mb-3 text-sm leading-relaxed",children:t.content}),t.mediaUrl&&i.jsx("div",{className:"mb-3",children:i.jsx("img",{src:t.mediaUrl,alt:"Post media",className:"rounded-lg w-full max-h-48 object-cover"})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 text-purple-200 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vn,{className:"w-4 h-4"}),t.likes]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vt,{className:"w-4 h-4"}),t.comments]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(eP,{className:"w-4 h-4"}),t.shares]})]}),i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>window.open(t.postUrl,"_blank"),className:"border-white/20 text-white hover:bg-white/10",children:[i.jsx(ia,{className:"w-3 h-3 mr-1"}),"View"]})]})]},t.id)}),i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-purple-200 text-sm mb-2",children:"This is a preview of how your social media feed will look"}),i.jsx("p",{className:"text-purple-300 text-xs",children:"Connect your accounts in Settings to see your real content here"})]})]})]})})}function RK(){var sw,nw,rw,iw;const[t,e]=p.useState(""),[s,n]=p.useState(!1),[r,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[h,u]=p.useState(null),[f,m]=p.useState(new Set),[b,g]=p.useState({}),[x,y]=p.useState(null),[v,w]=p.useState({}),[S,N]=p.useState(null),[P,C]=p.useState({}),[_,A]=p.useState(null),[k,R]=p.useState(!1),[O,$]=p.useState(!1),[z,ee]=p.useState(""),[K,Z]=p.useState(""),[F,I]=p.useState(!1),[U,H]=p.useState(null),[ce,Y]=p.useState(!1),[xe,Ze]=p.useState(null),[Be,pe]=p.useState(!1),[Se,We]=p.useState(null),[Ke,$e]=p.useState(!1),[Oe,gt]=p.useState(null),{user:st}=ir(),Q=st,{toast:ue}=Ct(),Re=js(),{translatePost:hs,translateMoodText:Sn}=km();p.useEffect(()=>{const M=oe=>{(!oe.target||!oe.target.closest(".comments-section"))&&m(new Set)};return document.addEventListener("click",M),()=>{document.removeEventListener("click",M)}},[]);const Dt=[{emoji:"",label:"Happy",color:"text-yellow-500"},{emoji:"",label:"Sad",color:"text-blue-500"},{emoji:"",label:"Cool",color:"text-purple-500"},{emoji:"",label:"Tired",color:"text-gray-500"},{emoji:"",label:"Frustrated",color:"text-red-500"},{emoji:"",label:"Thoughtful",color:"text-green-500"},{emoji:"",label:"Excited",color:"text-pink-500"},{emoji:"",label:"Peaceful",color:"text-teal-500"},{emoji:"",label:"Grateful",color:"text-orange-500"},{emoji:"",label:"In Love",color:"text-rose-500"},{emoji:"",label:"Silly",color:"text-indigo-500"},{emoji:"",label:"Motivated",color:"text-amber-500"},{emoji:"",label:"Anxious",color:"text-yellow-600"},{emoji:"",label:"Nostalgic",color:"text-blue-400"},{emoji:"",label:"Irritable",color:"text-red-600"},{emoji:"",label:"Broken Hearted",color:"text-red-400"},{emoji:"",label:"Confused",color:"text-gray-600"},{emoji:"",label:"Lost",color:"text-slate-500"},{emoji:"",label:"Blessed",color:"text-emerald-500"},{emoji:"",label:"Lucky",color:"text-green-400"},{emoji:"",label:"Numb",color:"text-stone-500"}],{data:Ae=[],isLoading:T,refetch:L}=it({queryKey:["/api/kliq-feed"],staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchInterval:12e4});console.log("Feed items received from API:",Ae==null?void 0:Ae.length,"Latest:",((sw=Ae==null?void 0:Ae[0])==null?void 0:sw.createdAt)||((nw=Ae==null?void 0:Ae[0])==null?void 0:nw.activityDate));const{data:q=[]}=it({queryKey:["/api/ads/targeted"]});Ae.filter(M=>M.type==="post"),Ae.filter(M=>M.type==="poll"),Ae.filter(M=>M.type!=="post"&&M.type!=="poll");const{data:de=[]}=it({queryKey:["/api/filters"]}),{data:le=[]}=it({queryKey:["/api/stories"]}),ie=Te({mutationFn:async()=>{console.log("Starting reflection API call...");const M=await fe("GET","/api/posts/reflect");return console.log("Reflection API result:",M),M},onSuccess:M=>{var oe;console.log("Reflection success, data:",M),Ze(M),Y(!0),ue({title:"Reflection Ready!",description:`Found ${((oe=M.posts)==null?void 0:oe.length)||0} popular posts from the last 30 days`,duration:2500,className:"bg-white text-black border-gray-300"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to generate reflection",variant:"destructive"})}}),ye=Te({mutationFn:async()=>{const M=Intl.DateTimeFormat().resolvedOptions().timeZone;return await fe("GET",`/api/horoscope?timezone=${encodeURIComponent(M)}`)},onSuccess:M=>{We(M),pe(!0),ue({title:"Your Daily Horoscope",description:"Your personalized horoscope is ready!",duration:2500,className:"bg-white text-black border-gray-300"})},onError:M=>{var oe;if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}(oe=M.message)!=null&&oe.includes("Birthdate required")?ue({title:"Birthdate Required",description:"Please add your birthdate in Profile Settings to unlock your Daily Horoscope.",variant:"destructive",duration:5e3}):ue({title:"Error",description:"Failed to get your horoscope",variant:"destructive"})}}),Ye=Te({mutationFn:async()=>{const M=Intl.DateTimeFormat().resolvedOptions().timeZone;return await fe("GET",`/api/bible-verse?timezone=${encodeURIComponent(M)}`)},onSuccess:M=>{gt(M),$e(!0),ue({title:"Daily Bible Verse",description:"Your daily verse of encouragement is ready!",duration:2500,className:"bg-white text-black border-gray-300"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to get your daily bible verse",variant:"destructive"})}}),ft=Te({mutationFn:async M=>{await fe("POST","/api/posts",M)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/kliq-feed"]}),e(""),y(null),N(null),H(null),ue({title:"Post created!",description:"Your post has been shared with your kliq on the Headlines",duration:2e3,className:"bg-white text-black border-gray-300"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to create post",variant:"destructive"})}}),Zt=Te({mutationFn:async M=>{await fe("POST",`/api/posts/${M}/like`)},onMutate:async M=>{await Re.cancelQueries({queryKey:["/api/kliq-feed"]});const oe=Re.getQueryData(["/api/kliq-feed"]);return Re.setQueryData(["/api/kliq-feed"],Ee=>Ee&&Ee.map(ot=>ot.id===M?Array.isArray(ot.likes)&&st&&ot.likes.some(kn=>kn.userId===st.id)?{...ot,likes:ot.likes.filter(kn=>kn.userId!==st.id)}:{...ot,likes:[...Array.isArray(ot.likes)?ot.likes:[],{userId:st.id}]}:ot)),{previousFeed:oe}},onError:(M,oe,Ee)=>{Ee!=null&&Ee.previousFeed&&Re.setQueryData(["/api/kliq-feed"],Ee.previousFeed)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/notifications"]}),ue({title:"Like recorded!",description:"Your like has been added to the post",duration:2e3,className:"bg-white text-black border-gray-300"})},onSettled:()=>{}}),Nc=Te({mutationFn:async({postId:M,content:oe,gifId:Ee,movieconId:ot})=>{await fe("POST",`/api/posts/${M}/comments`,{content:oe,gifId:Ee,movieconId:ot})},onMutate:async({postId:M,content:oe,gifId:Ee,movieconId:ot})=>{await Re.cancelQueries({queryKey:["/api/kliq-feed"]});const Xt=Re.getQueryData(["/api/kliq-feed"]),kn={id:`temp-${Date.now()}`,content:oe||"",gifId:Ee,movieconId:ot,author:Q,createdAt:new Date().toISOString()};return Re.setQueryData(["/api/kliq-feed"],Lr=>Lr&&Lr.map(Sa=>{if(Sa.id===M){const Pc=[...Sa.comments||[],kn];return{...Sa,comments:Pc,_commentsCount:Pc.length}}return Sa})),{previousFeed:Xt}},onError:(M,oe,Ee)=>{Ee!=null&&Ee.previousFeed&&Re.setQueryData(["/api/kliq-feed"],Ee.previousFeed)},onSuccess:(M,{postId:oe})=>{g(Ee=>({...Ee,[oe]:""})),w(Ee=>({...Ee,[oe]:null})),C(Ee=>({...Ee,[oe]:null})),m(Ee=>{const ot=new Set(Ee);return ot.delete(oe),ot}),ue({title:"Comment added!",description:"Your comment has been posted"})},onSettled:()=>{}}),Sc=Te({mutationFn:async M=>{await fe("POST","/api/filters",{keyword:M})},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/filters"]}),Re.invalidateQueries({queryKey:["/api/posts"]}),ue({title:"Filter added",description:"Posts with this keyword will be hidden"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to add filter",variant:"destructive"})}}),kc=Te({mutationFn:async M=>{await fe("DELETE",`/api/filters/${M}`)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/filters"]}),Re.invalidateQueries({queryKey:["/api/posts"]}),ue({title:"Filter removed",description:"Posts with this keyword will now be visible"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to remove filter",variant:"destructive"})}}),Cc=Te({mutationFn:async M=>{let oe=" Checked in";M.locationName&&(oe+=` at ${M.locationName}`),M.address&&(oe+=` (${M.address})`),!M.locationName&&!M.address&&(oe+=` at ${M.latitude.toFixed(4)}, ${M.longitude.toFixed(4)}`),await fe("POST","/api/posts",{content:oe,latitude:M.latitude,longitude:M.longitude,locationName:M.locationName||null,address:M.address||null})},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/posts"]}),$(!1),ee(""),Z(""),A(null),ue({title:"Location shared!",description:"Your location has been posted to the Headlines"})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to share location",variant:"destructive"})}});Te({mutationFn:async M=>{await fe("POST",`/api/posts/${M}/like`)},onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/kliq-feed"]})},onError:M=>{if(Mt(M)){ue({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}ue({title:"Error",description:"Failed to update like",variant:"destructive"})}});const uh=()=>{if(R(!0),!navigator.geolocation){ue({title:"Location not supported",description:"Your browser doesn't support location services",variant:"destructive"}),R(!1);return}navigator.geolocation.getCurrentPosition(M=>{const oe={lat:M.coords.latitude,lng:M.coords.longitude};A(oe),R(!1),$(!0)},M=>{console.error("Error getting location:",M),R(!1),ue({title:"Location access denied",description:"Please enable location access to share your location",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},zm=()=>{_&&Cc.mutate({latitude:_.lat,longitude:_.lng,locationName:z.trim(),address:K.trim()})},hh=()=>{if(t.trim()||x||S||U){Sv("create_post","engagement","post_created");let M="";if(U){const oe=Dt.find(Ee=>Ee.label===U);M=`${oe==null?void 0:oe.emoji} MOOD: Feeling ${U.toLowerCase()}`,t.trim()&&(M+=` - ${t.trim()}`)}else M=t.trim();ft.mutate({content:M,gifId:x==null?void 0:x.id,movieconId:S==null?void 0:S.id})}},OA=()=>{ie.mutate()},DA=M=>{e(oe=>oe+M),d(!1)},LA=(M,oe)=>{g(Ee=>({...Ee,[M]:(Ee[M]||"")+oe})),u(null)},Jb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],$A=M=>{Zt.mutate(M)},UA=M=>{m(oe=>{const Ee=new Set(oe);return Ee.has(M)?Ee.delete(M):Ee.add(M),Ee})},ew=M=>{var Xt,kn,Lr;const oe=(Xt=b[M])==null?void 0:Xt.trim(),Ee=(kn=v[M])==null?void 0:kn.id,ot=(Lr=P[M])==null?void 0:Lr.id;(oe||Ee||ot)&&Nc.mutate({postId:M,content:oe||"",gifId:Ee,movieconId:ot})},zA=(M,oe)=>{g(Ee=>({...Ee,[M]:oe}))},BA=(M,oe)=>{w(Ee=>({...Ee,[M]:oe}))},VA=M=>{w(oe=>({...oe,[M]:null}))},qA=(M,oe)=>{C(Ee=>({...Ee,[M]:oe}))},HA=M=>{C(oe=>({...oe,[M]:null}))},WA=async M=>{const oe={title:`${M.author.firstName} ${M.author.lastName} on MyKliq`,text:M.content||"Check out this post on MyKliq!",url:window.location.href};try{if(navigator.share&&navigator.canShare&&navigator.canShare(oe))await navigator.share(oe),ue({title:"Post shared!",description:"The post has been shared successfully",duration:2e3,className:"bg-white text-black border-gray-300"});else{const Ee=`${oe.title}
${oe.text}
${oe.url}`;await navigator.clipboard.writeText(Ee),ue({title:"Link copied!",description:"Post link copied to clipboard",duration:2e3,className:"bg-white text-black border-gray-300"})}}catch{try{await navigator.clipboard.writeText(window.location.href),ue({title:"Link copied!",description:"App link copied to clipboard",duration:2e3,className:"bg-white text-black border-gray-300"})}catch{ue({title:"Share failed",description:"Unable to share post",variant:"destructive"})}}},tw=M=>{const oe=new Date,Ee=new Date(M),ot=oe.getTime()-Ee.getTime(),Xt=Math.floor(ot/6e4);return Xt<1?"now":Xt<60?`${Xt}m ago`:Xt<1440?`${Math.floor(Xt/60)}h ago`:`${Math.floor(Xt/1440)}d ago`},KA=()=>{Re.invalidateQueries({queryKey:["/api/posts"]})},GA=()=>{Re.invalidateQueries({queryKey:["/api/stories"]})},YA=async M=>{try{await fe("POST",`/api/stories/${M}/view`),Re.invalidateQueries({queryKey:["/api/stories"]})}catch(oe){console.error("Error viewing story:",oe)}};return i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8 space-y-4",children:[i.jsx(X,{className:"bg-gradient-to-r from-mykliq-purple/20 to-secondary/20 border-mykliq-purple/30",children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsxs(Us,{className:"w-10 h-10 border-2 border-mykliq-orange",children:[i.jsx(zs,{src:Q==null?void 0:Q.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-foreground",children:((rw=Q==null?void 0:Q.firstName)==null?void 0:rw[0])||"U"})]}),i.jsx(tr,{value:t,onChange:M=>e(M.target.value),placeholder:"What's happening in your kliq?",className:"flex-1 bg-white text-black placeholder-gray-500 border-none resize-none",rows:2,"data-testid":"textarea-new-post"})]}),x&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx(nd,{gif:x,className:"max-w-xs"}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>y(null),className:"text-muted-foreground hover:text-destructive",children:""})]}),S&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx(rd,{moviecon:S,className:"max-w-xs"}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>N(null),className:"text-muted-foreground hover:text-destructive",children:""})]}),U&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-lg",children:[i.jsx("span",{className:"text-lg",children:(iw=Dt.find(M=>M.label===U))==null?void 0:iw.emoji}),i.jsxs("span",{className:"text-sm font-medium",children:["MOOD: Feeling ",U.toLowerCase()]})]}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>H(null),className:"text-muted-foreground hover:text-destructive",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Lj,{open:c,onOpenChange:d,children:[i.jsx($j,{asChild:!0,children:i.jsx(D,{size:"sm",variant:"ghost",className:"text-mykliq-orange hover:bg-mykliq-orange/10","data-testid":"button-emoji-picker",children:i.jsx(vv,{className:"w-4 h-4"})})}),i.jsx(Tv,{className:"w-96 max-h-72 overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:Jb.map((M,oe)=>i.jsx(D,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 text-xl hover:bg-accent emoji-large",onClick:()=>DA(M),"data-testid":`emoji-${oe}`,children:M},oe))})})]}),i.jsx(D,{size:"sm",variant:"ghost",className:"text-mykliq-green hover:bg-mykliq-green/10",onClick:()=>a(!0),children:i.jsx(aa,{className:"w-4 h-4"})}),i.jsx(cx,{onSelectGif:y,trigger:i.jsx(D,{size:"sm",variant:"ghost",className:"text-mykliq-purple hover:bg-mykliq-purple/10",children:i.jsx("span",{className:"text-xs font-bold",children:"GIF"})})}),i.jsx(dx,{onSelectMoviecon:N,trigger:i.jsx(D,{size:"sm",variant:"ghost",className:"text-blue-500 hover:bg-blue-500/10",children:i.jsx(wg,{className:"w-4 h-4"})})}),i.jsx(D,{size:"sm",variant:"ghost",className:"text-destructive hover:bg-destructive/10",onClick:uh,disabled:k,children:k?i.jsx(Ra,{className:"w-4 h-4 animate-spin"}):i.jsx(oa,{className:"w-4 h-4"})}),i.jsx(D,{size:"sm",variant:"ghost",className:"text-yellow-500 hover:bg-yellow-500/10",onClick:()=>I(!0),"data-testid":"button-mood-picker",children:i.jsx(W1,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(D,{onClick:OA,disabled:ie.isPending,variant:"outline",className:"px-4","data-testid":"button-lets-reflect",children:ie.isPending?"Reflecting...":"Lets Reflect"}),i.jsx(D,{onClick:()=>ye.mutate(),disabled:ye.isPending,variant:"outline",className:"px-4","data-testid":"button-daily-horoscope",children:ye.isPending?"Loading...":"Daily Horoscope"}),i.jsx(D,{onClick:()=>Ye.mutate(),disabled:Ye.isPending,variant:"outline",className:"px-4","data-testid":"button-daily-bible-verse",children:Ye.isPending?"Loading...":"Daily Bible Verse"}),i.jsx(D,{onClick:hh,disabled:!t.trim()&&!x&&!S&&!U||ft.isPending,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-bold px-6",style:{boxShadow:"0 0 15px hsl(var(--primary) / 0.4)"},children:ft.isPending?"Posting...":"Post!"})]})]})]})}),i.jsx(TK,{}),i.jsx(Yt,{open:O,onOpenChange:$,children:i.jsxs(Ut,{className:"sm:max-w-md",children:[i.jsxs(zt,{children:[i.jsxs(Bt,{className:"flex items-center space-x-2",children:[i.jsx(hm,{className:"h-5 w-5"}),i.jsx("span",{children:"Add Meetup Details"})]}),i.jsx(jr,{children:"Add a location name and address to allow your friends to meetup with you to join in on the fun"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"locationName",children:"Location Name"}),i.jsx(he,{id:"locationName","data-testid":"input-location-name",value:z,onChange:M=>ee(M.target.value),placeholder:"e.g., Starbucks, Central Park, Home",className:"bg-input border-border text-foreground"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"address",children:"Address (Optional)"}),i.jsx(he,{id:"address","data-testid":"input-address",value:K,onChange:M=>Z(M.target.value),placeholder:"e.g., 123 Main St, New York, NY",className:"bg-input border-border text-foreground"})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(D,{variant:"outline",onClick:()=>$(!1),className:"border-border text-foreground",children:"Cancel"}),i.jsx(D,{onClick:zm,disabled:Cc.isPending,className:"bg-primary hover:bg-primary/90 text-primary-foreground","data-testid":"button-confirm-checkin",children:Cc.isPending?"Posting meetup...":"Post Meetup"})]})]})]})}),i.jsx(Yt,{open:F,onOpenChange:I,children:i.jsxs(Ut,{className:"sm:max-w-md",children:[i.jsxs(zt,{children:[i.jsxs(Bt,{className:"flex items-center space-x-2",children:[i.jsx(W1,{className:"h-5 w-5 text-yellow-500"}),i.jsx("span",{children:"How are you feeling?"})]}),i.jsx(jr,{children:"Share your current mood with your kliq"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3 py-4 max-h-80 overflow-y-auto",children:Dt.map(M=>i.jsxs(D,{variant:"outline",className:"flex flex-col gap-2 h-auto py-4 hover:bg-accent",onClick:()=>{H(M.label),I(!1)},"data-testid":`button-mood-${M.label.toLowerCase()}`,children:[i.jsx("span",{className:"text-2xl",children:M.emoji}),i.jsx("span",{className:te("text-xs font-medium",M.color),children:M.label})]},M.label))}),i.jsx("div",{className:"flex justify-end",children:i.jsx(D,{variant:"outline",onClick:()=>I(!1),className:"border-border text-foreground",children:"Cancel"})})]})}),i.jsx(Yt,{open:ce,onOpenChange:Y,children:i.jsxs(Ut,{className:"sm:max-w-4xl",children:[i.jsxs(zt,{children:[i.jsxs(Bt,{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("span",{children:"Your Kliq Reflection"})]}),i.jsx(jr,{children:"Your most popular posts from the last 30 days"})]}),xe&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:xe.stats.totalPosts}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Posts"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-500",children:xe.stats.totalLikes}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Likes"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500",children:xe.stats.totalComments}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Comments"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500",children:xe.stats.avgEngagement}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Engagement"})]})]}),i.jsx("div",{className:"text-center p-4 bg-accent rounded-lg",children:i.jsx("p",{className:"text-sm text-accent-foreground",children:xe.message})}),xe.posts.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Your Top Posts"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:xe.posts.map((M,oe)=>i.jsx(X,{className:"relative",children:i.jsxs(J,{className:"p-4",children:[i.jsx("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:oe+1}),i.jsxs("div",{className:"space-y-2",children:[M.mediaUrl&&i.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:M.mediaType==="video"?i.jsx("video",{className:"w-full h-full object-cover",children:i.jsx("source",{src:M.mediaUrl,type:"video/mp4"})}):i.jsx("img",{src:M.mediaUrl,alt:"Post media",className:"w-full h-full object-cover"})}),i.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:M.content}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(vn,{className:"w-3 h-3"}),M.likes]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Vt,{className:"w-3 h-3"}),M.commentCount]}),i.jsxs("span",{className:"font-medium",children:["Score: ",M.engagementScore]})]})]})]})},M.id))})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(D,{variant:"outline",onClick:()=>Y(!1),className:"border-border text-foreground",children:"Close"})})]})}),i.jsx(Yt,{open:Be,onOpenChange:pe,children:i.jsxs(Ut,{className:"sm:max-w-2xl bg-card border-border",children:[i.jsxs(zt,{children:[i.jsxs(Bt,{className:"text-foreground flex items-center gap-2",children:[i.jsx("span",{children:""}),"Your Daily Horoscope"]}),i.jsx(jr,{className:"text-muted-foreground",children:"Get insights into your day and share your horoscope with your kliq"})]}),Se&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border",children:[i.jsxs("h3",{className:"font-semibold text-foreground mb-2 text-center",children:[Se.sign," - ",Se.date]}),i.jsx("p",{className:"text-foreground leading-relaxed",children:Se.horoscope}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Lucky Number:"}),i.jsx("span",{className:"ml-2 text-foreground",children:Se.luckyNumber})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-muted-foreground",children:"Lucky Color:"}),i.jsx("span",{className:"ml-2 text-foreground",children:Se.luckyColor})]})]})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(D,{variant:"outline",onClick:()=>pe(!1),className:"border-border text-foreground",children:"Close"}),i.jsx(D,{onClick:async()=>{const M=` My Daily Horoscope (${Se.sign}) 

${Se.horoscope}

 Lucky Number: ${Se.luckyNumber}
 Lucky Color: ${Se.luckyColor}`;try{await fe("POST","/api/posts",{content:M,mediaUrl:null,mediaType:null,youtubeUrl:null,type:"post"}),pe(!1),Re.invalidateQueries({queryKey:["/api/kliq-feed"]}),ue({title:"Horoscope Posted",description:"Your daily horoscope has been shared with your kliq!",duration:3e3,className:"bg-white text-black border-gray-300"})}catch(oe){console.error("Error posting horoscope:",oe),ue({title:"Error",description:"Failed to post horoscope. Please try again.",variant:"destructive",duration:3e3})}},className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Post to Headlines"})]})]})]})}),i.jsx(Yt,{open:Ke,onOpenChange:$e,children:i.jsxs(Ut,{className:"sm:max-w-2xl bg-card border-border",children:[i.jsxs(zt,{children:[i.jsxs(Bt,{className:"text-foreground flex items-center gap-2",children:[i.jsx("span",{children:""}),"Daily Bible Verse"]}),i.jsx(jr,{className:"text-muted-foreground",children:"A verse of encouragement and reflection for your day"})]}),Oe&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border",children:[i.jsx("h3",{className:"font-semibold text-foreground mb-2 text-center",children:Oe.date}),i.jsxs("blockquote",{className:"text-foreground leading-relaxed italic text-center mb-4 text-lg",children:['"',Oe.verse,'"']}),i.jsxs("p",{className:"text-center font-medium text-muted-foreground",children:[" ",Oe.reference]}),i.jsxs("div",{className:"mt-4 p-3 bg-background/50 rounded border",children:[i.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Today's Reflection:"}),i.jsx("p",{className:"text-foreground leading-relaxed text-sm",children:Oe.reflection})]})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(D,{variant:"outline",onClick:()=>$e(!1),className:"border-border text-foreground",children:"Close"}),i.jsx(D,{onClick:async()=>{const M=` Daily Bible Verse 

"${Oe.verse}"

 ${Oe.reference}

 ${Oe.reflection}`;try{await fe("POST","/api/posts",{content:M,mediaUrl:null,mediaType:null,youtubeUrl:null,type:"post"}),$e(!1),Re.invalidateQueries({queryKey:["/api/kliq-feed"]}),ue({title:"Bible Verse Posted",description:"Your daily verse has been shared with your kliq!",duration:3e3,className:"bg-white text-black border-gray-300"})}catch(oe){console.error("Error posting bible verse:",oe),ue({title:"Error",description:"Failed to post bible verse. Please try again.",variant:"destructive",duration:3e3})}},className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Post to Headlines"})]})]})]})}),le.length>0&&i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{className:"pb-3",children:i.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Stories"})}),i.jsx(J,{children:i.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:le.map(M=>{var oe,Ee,ot,Xt;return i.jsxs("div",{className:"flex-shrink-0",children:[i.jsxs("div",{className:"relative cursor-pointer",onClick:()=>YA(M.id),children:[i.jsx("div",{className:te("w-16 h-16 rounded-full border-3 p-0.5",M.hasViewed?"border-muted":"border-primary"),children:i.jsxs(Us,{className:"w-full h-full",children:[i.jsx(zs,{src:M.author.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-muted-foreground text-sm",children:((oe=M.author.firstName)==null?void 0:oe[0])||((ot=(Ee=M.author.email)==null?void 0:Ee[0])==null?void 0:ot.toUpperCase())})]})}),M.mediaUrl&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-secondary rounded-full flex items-center justify-center",children:M.mediaType==="video"?i.jsx(wg,{className:"w-3 h-3 text-secondary-foreground"}):i.jsx(aa,{className:"w-3 h-3 text-secondary-foreground"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center truncate w-16",children:M.author.firstName||((Xt=M.author.email)==null?void 0:Xt.split("@")[0])})]},M.id)})})})]}),i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-secondary",children:""}),i.jsx("span",{className:"text-sm font-medium text-secondary",children:"Content Filters"}),i.jsxs(ze,{variant:"secondary",className:"text-xs",children:[de.length," active"]})]}),i.jsx(D,{size:"sm",variant:"outline",onClick:()=>n(!s),className:"text-xs border-secondary text-secondary hover:bg-secondary/10",children:s?"Hide":"Manage"})]}),s&&i.jsx("div",{className:"mt-4",children:i.jsx(q8,{filters:de,onAddFilter:M=>Sc.mutate(M),onRemoveFilter:M=>kc.mutate(M)})})]})}),i.jsx(FK,{}),T?i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,oe)=>i.jsx(X,{className:"bg-card border-border",children:i.jsx(J,{className:"p-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"w-24 h-4 bg-muted rounded"}),i.jsx("div",{className:"w-16 h-3 bg-muted rounded"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"w-full h-4 bg-muted rounded"}),i.jsx("div",{className:"w-3/4 h-4 bg-muted rounded"})]})]})})},oe))}):Ae.length===0?i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-8 text-center",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-bold text-muted-foreground mb-2",children:"Your feed is empty"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Invite friends to your kliq or create your first post to get started!"}),i.jsx(D,{onClick:()=>e("Hello, MyKliq! "),variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:"Create your first post"})]})}):i.jsx(i.Fragment,{children:Ae.filter(M=>M.type!=="event").map((M,oe)=>{var Xt;console.log("Feed item processing:",M.type,M.title||((Xt=M.content)==null?void 0:Xt.substring(0,30)),M.createdAt||M.activityDate);const Ee=oe>0&&(oe+1)%4===0&&q.length>0,ot=Math.floor((oe+1)/4-1)%q.length;return i.jsxs("div",{children:[Ee&&q[ot]&&i.jsx("div",{className:"mb-4",children:i.jsx(EK,{ad:q[ot]})},`ad-${ot}-${oe}`),(()=>{var kn,Lr,Sa,Pc;return M.type==="poll"?i.jsx(CT,{poll:{...M,votes:[],totalVotes:0}},M.id):M.type==="post"?i.jsx(X,{className:te("bg-gradient-to-br from-card to-card/80 border",M.author.id===(Q==null?void 0:Q.id)?"border-primary/50":"border-border"),children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsxs(Us,{className:"w-10 h-10 border-2 border-primary",children:[i.jsx(zs,{src:M.author.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-foreground",children:((kn=M.author.firstName)==null?void 0:kn[0])||"U"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-bold text-primary",children:[M.author.firstName," ",M.author.lastName]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:tw(M.createdAt)})]})]}),M.content&&(()=>{const{cleanText:_e,youtubeUrls:or}=Gg(M.content),ka=(_e==null?void 0:_e.includes(" New event:"))||(_e==null?void 0:_e.includes(" Updated event:"));return i.jsxs(i.Fragment,{children:[_e&&(ka?i.jsxs(ls,{href:"/events",className:"block cursor-pointer hover:bg-primary/5 rounded p-2 -m-2 transition-colors",children:[i.jsx("p",{className:"text-foreground mb-3",children:hs(_e)}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Click to view event details and manage attendance"})]}):i.jsx("p",{className:"text-foreground mb-3",children:hs(_e)})),or.length>0&&i.jsx("div",{className:"mb-3",children:i.jsx(JN,{urls:or})})]})})(),M.mediaUrl&&(()=>{const{cleanText:_e}=Gg(M.content||""),or=(_e==null?void 0:_e.includes(" New event:"))||(_e==null?void 0:_e.includes(" Updated event:")),ka=i.jsx("div",{className:"mb-3 rounded-lg overflow-hidden bg-black/20",children:M.mediaType==="video"?i.jsx("video",{src:M.mediaUrl,controls:!0,className:"w-full max-h-96 object-cover",preload:"metadata"}):i.jsx("img",{src:M.mediaUrl,alt:"Post media",className:"w-full max-h-96 object-cover"})});return or?i.jsx(ls,{href:"/events",className:"block cursor-pointer",children:ka}):ka})(),M.gif&&i.jsx("div",{className:"mb-3",children:i.jsx(nd,{gif:M.gif,className:"max-w-md"})}),M.moviecon&&i.jsx("div",{className:"mb-3",children:i.jsx(rd,{moviecon:M.moviecon,className:"max-w-md"})}),i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs(D,{size:"sm",variant:"ghost",onClick:_e=>{_e.preventDefault(),_e.stopPropagation(),$A(M.id)},className:`p-0 h-auto transition-colors ${Array.isArray(M.likes)&&st&&st.id&&M.likes.some(_e=>_e.userId===st.id)?"text-red-500 hover:bg-red-50":"text-primary hover:bg-primary/10"}`,children:[i.jsx(vn,{className:`w-4 h-4 mr-1 ${Array.isArray(M.likes)&&st&&st.id&&M.likes.some(_e=>_e.userId===st.id)?"fill-current":""}`}),Array.isArray(M.likes)?M.likes.length:M.likes||0]}),i.jsxs(D,{size:"sm",variant:"ghost",onClick:_e=>{_e.preventDefault(),_e.stopPropagation(),UA(M.id)},className:"text-secondary hover:bg-secondary/10 p-0 h-auto","data-testid":`button-toggle-comments-${M.id}`,children:[i.jsx(Vt,{className:"w-4 h-4 mr-1"}),M._commentsCount||((Lr=M.comments)==null?void 0:Lr.length)||0]}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>WA(M),className:"text-mykliq-orange hover:bg-mykliq-orange/10 p-0 h-auto","data-testid":`button-share-${M.id}`,children:i.jsx(eP,{className:"w-4 h-4"})})]})}),f.has(M.id)&&i.jsxs("div",{className:"mt-4 border-t border-border pt-4 comments-section",onClick:_e=>_e.stopPropagation(),children:[M.comments&&M.comments.length>0&&i.jsx("div",{className:"space-y-3 mb-4",children:M.comments.map(_e=>{var or,ka,aw,ow,lw;return i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(Us,{className:"w-8 h-8 border border-border",children:[i.jsx(zs,{src:(or=_e.author)==null?void 0:or.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-foreground text-xs",children:((aw=(ka=_e.author)==null?void 0:ka.firstName)==null?void 0:aw[0])||"U"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"bg-muted rounded-lg px-3 py-2",children:[i.jsxs("p",{className:"text-sm font-semibold text-primary",children:[(ow=_e.author)==null?void 0:ow.firstName," ",(lw=_e.author)==null?void 0:lw.lastName]}),_e.content&&(()=>{const{cleanText:cw,youtubeUrls:dw}=Gg(_e.content);return i.jsxs(i.Fragment,{children:[cw&&i.jsx("p",{className:"text-sm text-foreground",children:hs(cw)}),dw.length>0&&i.jsx("div",{className:"mt-2",children:i.jsx(JN,{urls:dw})})]})})(),_e.gif&&i.jsx("div",{className:"mt-2",children:i.jsx(nd,{gif:_e.gif,className:"max-w-xs"})}),_e.moviecon&&i.jsx("div",{className:"mt-2",children:i.jsx(rd,{moviecon:_e.moviecon,className:"max-w-xs"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:tw(_e.createdAt)})]})]},_e.id)})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(Us,{className:"w-8 h-8 border border-border",children:[i.jsx(zs,{src:Q==null?void 0:Q.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-foreground text-xs",children:((Sa=Q==null?void 0:Q.firstName)==null?void 0:Sa[0])||"U"})]}),i.jsxs("div",{className:"flex-1",children:[v[M.id]&&i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsx(nd,{gif:v[M.id],className:"max-w-xs"}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>VA(M.id),className:"text-muted-foreground hover:text-destructive",children:""})]}),P[M.id]&&i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsx(rd,{moviecon:P[M.id],className:"max-w-xs"}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>HA(M.id),className:"text-muted-foreground hover:text-destructive",children:""})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(tr,{value:b[M.id]||"",onChange:_e=>zA(M.id,_e.target.value),placeholder:"Write a comment...",className:"flex-1 bg-white text-black placeholder-gray-500 border-border resize-none",rows:2,"data-testid":`input-comment-${M.id}`,onKeyDown:_e=>{_e.key==="Enter"&&!_e.shiftKey&&(_e.preventDefault(),ew(M.id))}}),i.jsxs("div",{className:"flex flex-col justify-end space-y-1",children:[i.jsx(cx,{onSelectGif:_e=>BA(M.id,_e),trigger:i.jsx(D,{size:"sm",variant:"ghost",className:"text-mykliq-purple hover:bg-mykliq-purple/10 h-8 w-8 p-0","data-testid":`button-comment-gif-${M.id}`,children:i.jsx("span",{className:"text-xs font-bold",children:"GIF"})})}),i.jsx(dx,{onSelectMoviecon:_e=>qA(M.id,_e),trigger:i.jsx(D,{size:"sm",variant:"ghost",className:"text-blue-500 hover:bg-blue-500/10 h-8 w-8 p-0","data-testid":`button-comment-moviecon-${M.id}`,children:i.jsx(wg,{className:"w-3 h-3"})})}),i.jsxs(Lj,{open:h===M.id,onOpenChange:_e=>u(_e?M.id:null),children:[i.jsx($j,{asChild:!0,children:i.jsx(D,{size:"sm",variant:"ghost",className:"text-retro-yellow hover:bg-retro-yellow/10 h-8 w-8 p-0","data-testid":`button-comment-emoji-${M.id}`,children:i.jsx(vv,{className:"w-4 h-4"})})}),i.jsx(Tv,{className:"w-96 max-h-72 overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:Jb.map((_e,or)=>i.jsx(D,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 text-xl hover:bg-accent emoji-large",onClick:()=>LA(M.id,_e),"data-testid":`comment-emoji-${M.id}-${or}`,children:_e},or))})})]}),i.jsx(D,{onClick:()=>ew(M.id),disabled:!((Pc=b[M.id])!=null&&Pc.trim())&&!v[M.id]&&!P[M.id]||Nc.isPending,size:"sm",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground h-8","data-testid":`button-submit-comment-${M.id}`,children:Nc.isPending?"...":"Post"})]})]})]})]})]})]})},M.id):null})()]},`feed-wrapper-${M.id}-${oe}`)})}),i.jsx(lx,{open:r,onOpenChange:a,onSuccess:KA,type:"post",userId:Q==null?void 0:Q.id}),i.jsx(lx,{open:o,onOpenChange:l,onSuccess:GA,type:"story",userId:Q==null?void 0:Q.id}),i.jsx(dn,{})]})}var IK=p.createContext(void 0);function bc(t){const e=p.useContext(IK);return t||e||"ltr"}var Zg="rovingFocusGroup.onEntryFocus",OK={bubbles:!1,cancelable:!0},Cm="RovingFocusGroup",[ux,_T,DK]=Gu(Cm),[LK,Pm]=Ns(Cm,[DK]),[$K,UK]=LK(Cm),ET=p.forwardRef((t,e)=>i.jsx(ux.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(ux.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(zK,{...t,ref:e})})}));ET.displayName=Cm;var zK=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=t,f=p.useRef(null),m=Le(e,f),b=bc(a),[g=null,x]=Ar({prop:o,defaultProp:l,onChange:c}),[y,v]=p.useState(!1),w=mt(d),S=_T(s),N=p.useRef(!1),[P,C]=p.useState(0);return p.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(Zg,w),()=>_.removeEventListener(Zg,w)},[w]),i.jsx($K,{scope:s,orientation:n,dir:b,loop:r,currentTabStopId:g,onItemFocus:p.useCallback(_=>x(_),[x]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>C(_=>_-1),[]),children:i.jsx(Ne.div,{tabIndex:y||P===0?-1:0,"data-orientation":n,...u,ref:m,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{N.current=!0}),onFocus:ne(t.onFocus,_=>{const A=!N.current;if(_.target===_.currentTarget&&A&&!y){const k=new CustomEvent(Zg,OK);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=S().filter(K=>K.focusable),O=R.find(K=>K.active),$=R.find(K=>K.id===g),ee=[O,$,...R].filter(Boolean).map(K=>K.ref.current);AT(ee,h)}}N.current=!1}),onBlur:ne(t.onBlur,()=>v(!1))})})}),TT="RovingFocusGroupItem",MT=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:r=!1,tabStopId:a,...o}=t,l=Qn(),c=a||l,d=UK(TT,s),h=d.currentTabStopId===c,u=_T(s),{onFocusableItemAdd:f,onFocusableItemRemove:m}=d;return p.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),i.jsx(ux.ItemSlot,{scope:s,id:c,focusable:n,active:r,children:i.jsx(Ne.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ne(t.onMouseDown,b=>{n?d.onItemFocus(c):b.preventDefault()}),onFocus:ne(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ne(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=qK(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=u().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(b.currentTarget);y=d.loop?HK(y,v+1):y.slice(v+1)}setTimeout(()=>AT(y))}})})})});MT.displayName=TT;var BK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qK(t,e,s){const n=VK(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return BK[n]}function AT(t,e=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:e}),document.activeElement!==s))return}function HK(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var FT=ET,RT=MT,Cb="Tabs",[WK,lJ]=Ns(Cb,[Pm]),IT=Pm(),[KK,Pb]=WK(Cb),OT=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=bc(l),[u,f]=Ar({prop:n,onChange:r,defaultProp:a});return i.jsx(KK,{scope:s,baseId:Qn(),value:u,onValueChange:f,orientation:o,dir:h,activationMode:c,children:i.jsx(Ne.div,{dir:h,"data-orientation":o,...d,ref:e})})});OT.displayName=Cb;var DT="TabsList",LT=p.forwardRef((t,e)=>{const{__scopeTabs:s,loop:n=!0,...r}=t,a=Pb(DT,s),o=IT(s);return i.jsx(FT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:e})})});LT.displayName=DT;var $T="TabsTrigger",UT=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,disabled:r=!1,...a}=t,o=Pb($T,s),l=IT(s),c=VT(o.baseId,n),d=qT(o.baseId,n),h=n===o.value;return i.jsx(RT,{asChild:!0,...l,focusable:!r,active:h,children:i.jsx(Ne.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:e,onMouseDown:ne(t.onMouseDown,u=>{!r&&u.button===0&&u.ctrlKey===!1?o.onValueChange(n):u.preventDefault()}),onKeyDown:ne(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(n)}),onFocus:ne(t.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!r&&u&&o.onValueChange(n)})})})});UT.displayName=$T;var zT="TabsContent",BT=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,forceMount:r,children:a,...o}=t,l=Pb(zT,s),c=VT(l.baseId,n),d=qT(l.baseId,n),h=n===l.value,u=p.useRef(h);return p.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(us,{present:r||h,children:({present:f})=>i.jsx(Ne.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:f&&a})})});BT.displayName=zT;function VT(t,e){return`${t}-trigger-${e}`}function qT(t,e){return`${t}-content-${e}`}var GK=OT,HT=LT,WT=UT,KT=BT;const wa=GK,gi=p.forwardRef(({className:t,...e},s)=>i.jsx(HT,{ref:s,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));gi.displayName=HT.displayName;const Nt=p.forwardRef(({className:t,...e},s)=>i.jsx(WT,{ref:s,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nt.displayName=WT.displayName;const It=p.forwardRef(({className:t,...e},s)=>i.jsx(KT,{ref:s,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));It.displayName=KT.displayName;function YK({friends:t,onRankChange:e,onMessage:s,onVideoCall:n,onRemove:r,maxFriends:a=28,kliqName:o,kliqLeftEmoji:l="",kliqRightEmoji:c="",kliqClosed:d,onCloseKliq:h,isClosingKliq:u}){const[f,m]=p.useState(null),[b,g]=p.useState(null),[x,y]=p.useState(null),[v,w]=Ku(),S=p.useRef(null),N=p.useRef(null);p.useEffect(()=>()=>{clearTimeout(S.current),clearInterval(N.current)},[]),p.useEffect(()=>{const F=I=>{if(b){const U=I.target,H=U.closest('[data-testid^="friend-avatar-"]'),ce=U.closest('[data-testid^="button-remove-"]');!H&&!ce&&(g(null),y(null),clearTimeout(S.current),clearInterval(N.current),navigator.vibrate&&navigator.vibrate(0))}};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[b]);const P=F=>{var H,ce;const I=((H=F.firstName)==null?void 0:H[0])||"",U=((ce=F.lastName)==null?void 0:ce[0])||"";return I+U||"?"},C=F=>{const I=F.firstName||"",U=F.lastName?` ${F.lastName[0]}.`:"";return I+U||"Unknown"},_=[...t].sort((F,I)=>F.rank-I.rank),A=[_.slice(0,1),_.slice(1,3),_.slice(3,6),_.slice(6,10),_.slice(10,15),_.slice(15,21),_.slice(21,28)].filter(F=>F.length>0),k=F=>{m(F)},R=F=>{F.preventDefault()},O=F=>{if(f&&e&&f.id!==F.id){const I=F.rank;console.log(`Moving ${f.id} (rank ${f.rank}) to position of ${F.id} (rank ${I})`),e(f.id,I)}m(null)},$=F=>{r&&(clearTimeout(S.current),clearInterval(N.current),y(F.id),S.current=setTimeout(()=>{g(F.id),navigator.vibrate&&navigator.vibrate(200),N.current=setInterval(()=>{navigator.vibrate&&navigator.vibrate(100)},500)},800))},z=()=>{clearTimeout(S.current),clearInterval(N.current),y(null),navigator.vibrate&&navigator.vibrate(0)},ee=(F,I)=>{I.stopPropagation(),r&&r(F),g(null),y(null),clearInterval(N.current)},K=(F,I)=>{I.stopPropagation(),!(x===F.id||b===F.id)&&w(`/user/${F.id}`)},Z=F=>i.jsxs("div",{draggable:!0,onDragStart:()=>k(F),onDragOver:R,onDrop:()=>O(F),className:te("relative group cursor-move transition-all duration-300 hover:scale-105 flex flex-col items-center",(f==null?void 0:f.id)===F.id&&"opacity-50"),children:[i.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&i.jsx(D,{size:"sm",variant:"ghost",onClick:I=>{I.stopPropagation(),n([F.id])},className:"w-8 h-8 p-0 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg","data-testid":`button-video-call-${F.id}`,children:i.jsx(cm,{className:"w-4 h-4"})}),s&&i.jsx(D,{size:"sm",variant:"ghost",onClick:I=>{I.stopPropagation(),s(F.id,C(F))},className:"w-8 h-8 p-0 bg-primary hover:bg-primary/90 text-primary-foreground rounded-full shadow-lg","data-testid":`button-message-${F.id}`,children:i.jsx(Vt,{className:"w-4 h-4"})})]}),b===F.id&&r&&i.jsx("div",{className:"absolute -top-2 -left-2 z-30",children:i.jsx(D,{size:"sm",variant:"ghost",onClick:I=>ee(F.id,I),className:"w-8 h-8 p-0 bg-destructive hover:bg-destructive/90 text-destructive-foreground rounded-full shadow-lg animate-in zoom-in-95 duration-200","data-testid":`button-remove-${F.id}`,children:i.jsx(ds,{className:"w-4 h-4"})})}),i.jsx("div",{className:te("p-2 rounded-full bg-gradient-to-r from-primary to-secondary cursor-pointer shadow-lg hover:shadow-xl transition-all duration-200",x===F.id&&"animate-pulse scale-110",b===F.id&&"animate-bounce"),onClick:I=>K(F,I),onMouseDown:()=>$(F),onMouseUp:z,onMouseLeave:z,onTouchStart:()=>$(F),onTouchEnd:z,"data-testid":`friend-avatar-${F.id}`,children:i.jsxs(Us,{className:"w-20 h-20 border-4 border-background",children:[i.jsx(zs,{src:F.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-muted-foreground text-lg font-bold",children:P(F)})]})}),i.jsx("div",{className:"text-center mt-3",children:i.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[100px]",children:C(F)})})]},F.id);return i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("h3",{className:"text-xl font-bold text-primary mb-2",children:[l," ",o||"My Kliq"," ",c]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Your friendship pyramid"}),i.jsxs(ze,{variant:"outline",className:"border-primary text-primary",children:[t.length,"/",a," Friends"]})]}),i.jsx("div",{className:"space-y-6",children:A.map((F,I)=>i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:te("flex gap-4 justify-center items-end",I===0&&"gap-0",I===1&&"gap-6",I>=2&&"gap-4"),children:F.map(Z)})},I))}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[t.length<a&&i.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary text-primary-foreground font-bold px-4 py-2 rounded-md flex items-center",children:[i.jsx(bs,{className:"w-4 h-4 mr-2"}),"Invite Friend (",a-t.length," spots left)"]}),t.length>=a&&i.jsx("div",{}),t.length>0&&h&&i.jsx(D,{variant:d?"default":"outline",size:"sm",onClick:h,disabled:u,className:d?"bg-green-600 hover:bg-green-700 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white","data-testid":"button-open-close-kliq",children:d?i.jsxs(i.Fragment,{children:[i.jsx(bs,{className:"w-4 h-4 mr-2"}),u?"Opening...":"Open Kliq"]}):i.jsxs(i.Fragment,{children:[i.jsx(ds,{className:"w-4 h-4 mr-2"}),u?"Closing...":"Close Kliq"]})})]})]})}function QK({call:t,onEndCall:e,onToggleAudio:s,onToggleVideo:n}){var y;const{user:r}=ir(),[a,o]=p.useState(!0),[l,c]=p.useState(!0),[d,h]=p.useState(!1),u=p.useRef(null),f=p.useRef({});p.useEffect(()=>{(async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:l,audio:a});u.current&&(u.current.srcObject=w)}catch(w){console.error("Error accessing media devices:",w)}})()},[l,a]);const m=()=>{const v=!a;o(v),s(v)},b=()=>{const v=!l;c(v),n(v)},g=()=>{h(!d)},x=t.participants.filter(v=>v.userId!==(r==null?void 0:r.id));return i.jsxs(X,{className:"w-full h-full bg-card text-foreground",children:[i.jsx(Ce,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Pe,{className:"text-lg flex items-center gap-2",children:[i.jsx(bs,{className:"w-5 h-5"}),"Group Call (",t.participants.length," participants)"]}),i.jsx(ze,{variant:t.status==="active"?"default":"secondary",children:t.status})]})}),i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"relative bg-muted rounded-lg overflow-hidden aspect-video",children:[i.jsx("video",{ref:u,autoPlay:!0,muted:!0,playsInline:!0,className:te("w-full h-full object-cover",!l&&"hidden"),"data-testid":"video-local"}),!l&&i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-lg font-bold text-primary-foreground",children:(y=r==null?void 0:r.firstName)==null?void 0:y[0]})}),i.jsxs("p",{className:"text-sm text-foreground",children:[r==null?void 0:r.firstName," (You)"]})]})}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 px-2 py-1 rounded text-xs",children:"You"})]}),x.map(v=>{var w;return i.jsxs("div",{className:"relative bg-muted rounded-lg overflow-hidden aspect-video",children:[i.jsx("video",{ref:S=>{f.current[v.userId]=S},autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover","data-testid":`video-participant-${v.userId}`}),i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-lg font-bold text-secondary-foreground",children:(w=v.user.firstName)==null?void 0:w[0]})}),i.jsx("p",{className:"text-sm text-foreground",children:v.user.firstName})]})}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 px-2 py-1 rounded text-xs",children:v.user.firstName}),i.jsx(ze,{className:"absolute top-2 right-2",variant:v.status==="joined"?"default":"secondary",children:v.status})]},v.userId)})]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx(D,{variant:a?"default":"destructive",size:"lg",onClick:m,className:"rounded-full w-12 h-12 p-0","data-testid":"button-toggle-audio",children:a?i.jsx(X2,{className:"w-5 h-5"}):i.jsx(Z2,{className:"w-5 h-5"})}),i.jsx(D,{variant:l?"default":"destructive",size:"lg",onClick:b,className:"rounded-full w-12 h-12 p-0","data-testid":"button-toggle-video",children:l?i.jsx(Hi,{className:"w-5 h-5"}):i.jsx(rO,{className:"w-5 h-5"})}),i.jsx(D,{variant:d?"destructive":"default",size:"lg",onClick:g,className:"rounded-full w-12 h-12 p-0","data-testid":"button-toggle-mute",children:d?i.jsx(U0,{className:"w-5 h-5"}):i.jsx($0,{className:"w-5 h-5"})}),i.jsx(D,{variant:"destructive",size:"lg",onClick:e,className:"rounded-full w-12 h-12 p-0","data-testid":"button-end-call",children:i.jsx(XI,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium",children:["Participants (",t.participants.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.participants.map(v=>{var w;return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-800 rounded",children:[i.jsx("div",{className:"w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center text-xs",children:(w=v.user.firstName)==null?void 0:w[0]}),i.jsxs("span",{className:"text-sm truncate flex-1",children:[v.user.firstName,v.userId===(r==null?void 0:r.id)&&" (You)"]}),i.jsx(ze,{variant:v.status==="joined"?"default":"secondary",children:v.status})]},v.userId)})})]})]})]})}function eu(t,[e,s]){return Math.min(s,Math.max(e,t))}function _b(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ZK=[" ","Enter","ArrowUp","ArrowDown"],XK=[" ","Enter"],ih="Select",[_m,Em,JK]=Gu(ih),[wc,cJ]=Ns(ih,[JK,xa]),Tm=xa(),[eG,ja]=wc(ih),[tG,sG]=wc(ih),GT=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:f,required:m,form:b}=t,g=Tm(e),[x,y]=p.useState(null),[v,w]=p.useState(null),[S,N]=p.useState(!1),P=bc(d),[C=!1,_]=Ar({prop:n,defaultProp:r,onChange:a}),[A,k]=Ar({prop:o,defaultProp:l,onChange:c}),R=p.useRef(null),O=x?b||!!x.closest("form"):!0,[$,z]=p.useState(new Set),ee=Array.from($).map(K=>K.props.value).join(";");return i.jsx(X0,{...g,children:i.jsxs(eG,{required:m,scope:e,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:Qn(),value:A,onValueChange:k,open:C,onOpenChange:_,dir:P,triggerPointerDownPosRef:R,disabled:f,children:[i.jsx(_m.Provider,{scope:e,children:i.jsx(tG,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(K=>{z(Z=>new Set(Z).add(K))},[]),onNativeOptionRemove:p.useCallback(K=>{z(Z=>{const F=new Set(Z);return F.delete(K),F})},[]),children:s})}),O?i.jsxs(x4,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:u,value:A,onChange:K=>k(K.target.value),disabled:f,form:b,children:[A===void 0?i.jsx("option",{value:""}):null,Array.from($)]},ee):null]})})};GT.displayName=ih;var YT="SelectTrigger",QT=p.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...r}=t,a=Tm(s),o=ja(YT,s),l=o.disabled||n,c=Le(e,o.onTriggerChange),d=Em(s),h=p.useRef("touch"),[u,f,m]=b4(g=>{const x=d().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),v=w4(x,g,y);v!==void 0&&o.onValueChange(v.value)}),b=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(Xu,{asChild:!0,...a,children:i.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":v4(o.value)?"":void 0,...r,ref:c,onClick:ne(r.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&b(g)}),onPointerDown:ne(r.onPointerDown,g=>{h.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:ne(r.onKeyDown,g=>{const x=u.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&ZK.includes(g.key)&&(b(),g.preventDefault())})})})});QT.displayName=YT;var ZT="SelectValue",XT=p.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:r,children:a,placeholder:o="",...l}=t,c=ja(ZT,s),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,u=Le(e,c.onValueNodeChange);return qt(()=>{d(h)},[d,h]),i.jsx(Ne.span,{...l,ref:u,style:{pointerEvents:"none"},children:v4(c.value)?i.jsx(i.Fragment,{children:o}):a})});XT.displayName=ZT;var nG="SelectIcon",JT=p.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...r}=t;return i.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e,children:n||""})});JT.displayName=nG;var rG="SelectPortal",e4=t=>i.jsx(gc,{asChild:!0,...t});e4.displayName=rG;var go="SelectContent",t4=p.forwardRef((t,e)=>{const s=ja(go,t.__scopeSelect),[n,r]=p.useState();if(qt(()=>{r(new DocumentFragment)},[]),!s.open){const a=n;return a?No.createPortal(i.jsx(s4,{scope:t.__scopeSelect,children:i.jsx(_m.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(n4,{...t,ref:e})});t4.displayName=go;var Pn=10,[s4,Na]=wc(go),iG="SelectContentImpl",aG=na("SelectContent.RemoveScroll"),n4=p.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:x,...y}=t,v=ja(go,s),[w,S]=p.useState(null),[N,P]=p.useState(null),C=Le(e,pe=>S(pe)),[_,A]=p.useState(null),[k,R]=p.useState(null),O=Em(s),[$,z]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(w)return Sm(w)},[w]),jm();const K=p.useCallback(pe=>{const[Se,...We]=O().map(Oe=>Oe.ref.current),[Ke]=We.slice(-1),$e=document.activeElement;for(const Oe of pe)if(Oe===$e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Se&&N&&(N.scrollTop=0),Oe===Ke&&N&&(N.scrollTop=N.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==$e))return},[O,N]),Z=p.useCallback(()=>K([_,w]),[K,_,w]);p.useEffect(()=>{$&&Z()},[$,Z]);const{onOpenChange:F,triggerPointerDownPosRef:I}=v;p.useEffect(()=>{if(w){let pe={x:0,y:0};const Se=Ke=>{var $e,Oe;pe={x:Math.abs(Math.round(Ke.pageX)-((($e=I.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ke.pageY)-(((Oe=I.current)==null?void 0:Oe.y)??0))}},We=Ke=>{pe.x<=10&&pe.y<=10?Ke.preventDefault():w.contains(Ke.target)||F(!1),document.removeEventListener("pointermove",Se),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",We,{capture:!0})}}},[w,F,I]),p.useEffect(()=>{const pe=()=>F(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[F]);const[U,H]=b4(pe=>{const Se=O().filter($e=>!$e.disabled),We=Se.find($e=>$e.ref.current===document.activeElement),Ke=w4(Se,pe,We);Ke&&setTimeout(()=>Ke.ref.current.focus())}),ce=p.useCallback((pe,Se,We)=>{const Ke=!ee.current&&!We;(v.value!==void 0&&v.value===Se||Ke)&&(A(pe),Ke&&(ee.current=!0))},[v.value]),Y=p.useCallback(()=>w==null?void 0:w.focus(),[w]),xe=p.useCallback((pe,Se,We)=>{const Ke=!ee.current&&!We;(v.value!==void 0&&v.value===Se||Ke)&&R(pe)},[v.value]),Ze=n==="popper"?hx:r4,Be=Ze===hx?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:g,avoidCollisions:x}:{};return i.jsx(s4,{scope:s,content:w,viewport:N,onViewportChange:P,itemRefCallback:ce,selectedItem:_,onItemLeave:Y,itemTextRefCallback:xe,focusSelectedItem:Z,selectedItemText:k,position:n,isPositioned:$,searchRef:U,children:i.jsx(eh,{as:aG,allowPinchZoom:!0,children:i.jsx(Ju,{asChild:!0,trapped:v.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:ne(r,pe=>{var Se;(Se=v.trigger)==null||Se.focus({preventScroll:!0}),pe.preventDefault()}),children:i.jsx(So,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(Ze,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:pe=>pe.preventDefault(),...y,...Be,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,pe=>{const Se=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Se&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Ke=O().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Ke=Ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const $e=pe.target,Oe=Ke.indexOf($e);Ke=Ke.slice(Oe+1)}setTimeout(()=>K(Ke)),pe.preventDefault()}})})})})})})});n4.displayName=iG;var oG="SelectItemAlignedPosition",r4=p.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...r}=t,a=ja(go,s),o=Na(go,s),[l,c]=p.useState(null),[d,h]=p.useState(null),u=Le(e,C=>h(C)),f=Em(s),m=p.useRef(!1),b=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,w=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&x&&y){const C=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(a.dir!=="rtl"){const $e=k.left-_.left,Oe=A.left-$e,gt=C.left-Oe,st=C.width+gt,Q=Math.max(st,_.width),ue=window.innerWidth-Pn,Re=eu(Oe,[Pn,Math.max(Pn,ue-Q)]);l.style.minWidth=st+"px",l.style.left=Re+"px"}else{const $e=_.right-k.right,Oe=window.innerWidth-A.right-$e,gt=window.innerWidth-C.right-Oe,st=C.width+gt,Q=Math.max(st,_.width),ue=window.innerWidth-Pn,Re=eu(Oe,[Pn,Math.max(Pn,ue-Q)]);l.style.minWidth=st+"px",l.style.right=Re+"px"}const R=f(),O=window.innerHeight-Pn*2,$=g.scrollHeight,z=window.getComputedStyle(d),ee=parseInt(z.borderTopWidth,10),K=parseInt(z.paddingTop,10),Z=parseInt(z.borderBottomWidth,10),F=parseInt(z.paddingBottom,10),I=ee+K+$+F+Z,U=Math.min(x.offsetHeight*5,I),H=window.getComputedStyle(g),ce=parseInt(H.paddingTop,10),Y=parseInt(H.paddingBottom,10),xe=C.top+C.height/2-Pn,Ze=O-xe,Be=x.offsetHeight/2,pe=x.offsetTop+Be,Se=ee+K+pe,We=I-Se;if(Se<=xe){const $e=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const Oe=d.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(Ze,Be+($e?Y:0)+Oe+Z),st=Se+gt;l.style.height=st+"px"}else{const $e=R.length>0&&x===R[0].ref.current;l.style.top="0px";const gt=Math.max(xe,ee+g.offsetTop+($e?ce:0)+Be)+We;l.style.height=gt+"px",g.scrollTop=Se-xe+g.offsetTop}l.style.margin=`${Pn}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,d,g,x,y,a.dir,n]);qt(()=>w(),[w]);const[S,N]=p.useState();qt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=p.useCallback(C=>{C&&b.current===!0&&(w(),v==null||v(),b.current=!1)},[w,v]);return i.jsx(cG,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Ne.div,{...r,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});r4.displayName=oG;var lG="SelectPopperPosition",hx=p.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:r=Pn,...a}=t,o=Tm(s);return i.jsx(gm,{...o,...a,ref:e,align:n,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hx.displayName=lG;var[cG,Eb]=wc(go,{}),fx="SelectViewport",i4=p.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...r}=t,a=Na(fx,s),o=Eb(fx,s),l=Le(e,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(_m.Slot,{scope:s,children:i.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ne(r.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const m=Math.abs(c.current-h.scrollTop);if(m>0){const b=window.innerHeight-Pn*2,g=parseFloat(u.style.minHeight),x=parseFloat(u.style.height),y=Math.max(g,x);if(y<b){const v=y+m,w=Math.min(b,v),S=v-w;u.style.height=w+"px",u.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});i4.displayName=fx;var a4="SelectGroup",[dG,uG]=wc(a4),hG=p.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=Qn();return i.jsx(dG,{scope:s,id:r,children:i.jsx(Ne.div,{role:"group","aria-labelledby":r,...n,ref:e})})});hG.displayName=a4;var o4="SelectLabel",l4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=uG(o4,s);return i.jsx(Ne.div,{id:r.id,...n,ref:e})});l4.displayName=o4;var hp="SelectItem",[fG,c4]=wc(hp),d4=p.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:r=!1,textValue:a,...o}=t,l=ja(hp,s),c=Na(hp,s),d=l.value===n,[h,u]=p.useState(a??""),[f,m]=p.useState(!1),b=Le(e,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,r)}),g=Qn(),x=p.useRef("touch"),y=()=>{r||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(fG,{scope:s,value:n,disabled:r,textId:g,isSelected:d,onItemTextChange:p.useCallback(v=>{u(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(_m.ItemSlot,{scope:s,value:n,disabled:r,textValue:h,children:i.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:b,onFocus:ne(o.onFocus,()=>m(!0)),onBlur:ne(o.onBlur,()=>m(!1)),onClick:ne(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ne(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ne(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:ne(o.onPointerMove,v=>{var w;x.current=v.pointerType,r?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ne(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(XK.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});d4.displayName=hp;var id="SelectItemText",u4=p.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:r,...a}=t,o=ja(id,s),l=Na(id,s),c=c4(id,s),d=sG(id,s),[h,u]=p.useState(null),f=Le(e,y=>u(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),m=h==null?void 0:h.textContent,b=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return qt(()=>(g(b),()=>x(b)),[g,x,b]),i.jsxs(i.Fragment,{children:[i.jsx(Ne.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?No.createPortal(a.children,o.valueNode):null]})});u4.displayName=id;var h4="SelectItemIndicator",f4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return c4(h4,s).isSelected?i.jsx(Ne.span,{"aria-hidden":!0,...n,ref:e}):null});f4.displayName=h4;var px="SelectScrollUpButton",p4=p.forwardRef((t,e)=>{const s=Na(px,t.__scopeSelect),n=Eb(px,t.__scopeSelect),[r,a]=p.useState(!1),o=Le(e,n.onScrollButtonChange);return qt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(g4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});p4.displayName=px;var mx="SelectScrollDownButton",m4=p.forwardRef((t,e)=>{const s=Na(mx,t.__scopeSelect),n=Eb(mx,t.__scopeSelect),[r,a]=p.useState(!1),o=Le(e,n.onScrollButtonChange);return qt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(g4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});m4.displayName=mx;var g4=p.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...r}=t,a=Na("SelectScrollButton",s),o=p.useRef(null),l=Em(s),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),qt(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:ne(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ne(r.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ne(r.onPointerLeave,()=>{c()})})}),pG="SelectSeparator",y4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return i.jsx(Ne.div,{"aria-hidden":!0,...n,ref:e})});y4.displayName=pG;var gx="SelectArrow",mG=p.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,r=Tm(s),a=ja(gx,s),o=Na(gx,s);return a.open&&o.position==="popper"?i.jsx(ym,{...r,...n,ref:e}):null});mG.displayName=gx;function v4(t){return t===""||t===void 0}var x4=p.forwardRef((t,e)=>{const{value:s,...n}=t,r=p.useRef(null),a=Le(e,r),o=_b(s);return p.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&h){const u=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(u)}},[o,s]),i.jsx(Yu,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:s})})});x4.displayName="BubbleSelect";function b4(t){const e=mt(t),s=p.useRef(""),n=p.useRef(0),r=p.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,r,a]}function w4(t,e,s){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=gG(t,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}function gG(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var yG=GT,j4=QT,vG=XT,xG=JT,bG=e4,N4=t4,wG=i4,S4=l4,k4=d4,jG=u4,NG=f4,C4=p4,P4=m4,_4=y4;const tn=yG,sn=vG,qs=p.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(j4,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,i.jsx(xG,{asChild:!0,children:i.jsx(G2,{className:"h-4 w-4 opacity-50"})})]}));qs.displayName=j4.displayName;const E4=p.forwardRef(({className:t,...e},s)=>i.jsx(C4,{ref:s,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(AI,{className:"h-4 w-4"})}));E4.displayName=C4.displayName;const T4=p.forwardRef(({className:t,...e},s)=>i.jsx(P4,{ref:s,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(G2,{className:"h-4 w-4"})}));T4.displayName=P4.displayName;const Hs=p.forwardRef(({className:t,children:e,position:s="popper",...n},r)=>i.jsx(bG,{children:i.jsxs(N4,{ref:r,className:te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[i.jsx(E4,{}),i.jsx(wG,{className:te("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(T4,{})]})}));Hs.displayName=N4.displayName;const SG=p.forwardRef(({className:t,...e},s)=>i.jsx(S4,{ref:s,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));SG.displayName=S4.displayName;const be=p.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(k4,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(NG,{children:i.jsx(Xl,{className:"h-4 w-4"})})}),i.jsx(jG,{children:e})]}));be.displayName=k4.displayName;const kG=p.forwardRef(({className:t,...e},s)=>i.jsx(_4,{ref:s,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));kG.displayName=_4.displayName;function iS({trigger:t}){const[e,s]=p.useState(!1),[n,r]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(["",""]),[d,h]=p.useState("24"),{toast:u}=Ct(),f=js(),m=Te({mutationFn:async w=>{await fe("POST","/api/polls",w)},onSuccess:()=>{f.invalidateQueries({queryKey:["/api/polls"]}),u({title:"Poll created!",description:"Your poll has been shared with your kliq on the Headlines"}),b()},onError:w=>{console.error("Error creating poll:",w),u({title:"Failed to create poll",description:"Please try again",variant:"destructive"})}}),b=()=>{s(!1),r(""),o(""),c(["",""]),h("24")},g=()=>{l.length<6&&c([...l,""])},x=w=>{l.length>2&&c(l.filter((S,N)=>N!==w))},y=(w,S)=>{const N=[...l];N[w]=S,c(N)},v=()=>{const w=l.filter(N=>N.trim().length>0);if(!n.trim()){u({title:"Title required",description:"Please enter a poll title",variant:"destructive"});return}if(w.length<2){u({title:"Options required",description:"Please provide at least 2 options",variant:"destructive"});return}const S=new Date;S.setHours(S.getHours()+parseInt(d)),m.mutate({title:n.trim(),description:a.trim()||null,options:w,expiresAt:S.toISOString(),isActive:!0})};return i.jsxs(Yt,{open:e,onOpenChange:s,children:[i.jsx(mi,{asChild:!0,children:t||i.jsxs(D,{className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-create-poll",children:[i.jsx(ci,{className:"h-4 w-4 mr-2"}),"Create Poll"]})}),i.jsxs(Ut,{className:"bg-white dark:bg-gray-800 text-black dark:text-white border-gray-300 dark:border-gray-600 max-w-md",children:[i.jsxs(zt,{children:[i.jsx(Bt,{className:"text-black dark:text-white",children:"Create a New Poll"}),i.jsx(jr,{className:"text-gray-600 dark:text-gray-400",children:"Ask your friends a question with multiple choice options"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"title",className:"text-black dark:text-white",children:"Title"}),i.jsx(he,{id:"title",placeholder:"What's your question?",value:n,onChange:w=>r(w.target.value),className:"bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600","data-testid":"input-poll-title"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"description",className:"text-black dark:text-white",children:"Description (optional)"}),i.jsx(tr,{id:"description",placeholder:"Add more context...",value:a,onChange:w=>o(w.target.value),className:"bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600 resize-none",rows:2,"data-testid":"input-poll-description"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-black dark:text-white",children:"Options"}),i.jsxs("div",{className:"space-y-2 mt-2",children:[l.map((w,S)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(he,{placeholder:`Option ${S+1}`,value:w,onChange:N=>y(S,N.target.value),className:"bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600","data-testid":`input-poll-option-${S}`}),l.length>2&&i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>x(S),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900","data-testid":`button-remove-option-${S}`,children:i.jsx(ds,{className:"h-4 w-4"})})]},S)),l.length<6&&i.jsxs(D,{variant:"outline",size:"sm",onClick:g,className:"w-full bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600","data-testid":"button-add-option",children:[i.jsx(ci,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"duration",className:"text-black dark:text-white",children:"Duration"}),i.jsxs(tn,{value:d,onValueChange:h,children:[i.jsx(qs,{className:"bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600","data-testid":"select-poll-duration",children:i.jsx(sn,{})}),i.jsxs(Hs,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:[i.jsx(be,{value:"1",children:"1 hour"}),i.jsx(be,{value:"6",children:"6 hours"}),i.jsx(be,{value:"12",children:"12 hours"}),i.jsx(be,{value:"24",children:"24 hours"}),i.jsx(be,{value:"48",children:"2 days"}),i.jsx(be,{value:"168",children:"1 week"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(D,{variant:"outline",onClick:b,className:"bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-600","data-testid":"button-cancel-poll",children:"Cancel"}),i.jsx(D,{onClick:v,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-submit-poll",children:m.isPending?"Creating...":"Create Poll"})]})]})]})]})}function CG(){const{user:t}=ir(),[e,s]=p.useState({currentCall:null,isInCall:!1,isConnecting:!1,error:null}),n=p.useRef(null);p.useEffect(()=>{if(!t)return;const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,m=new WebSocket(f);return n.current=m,m.onopen=()=>{console.log("Video call WebSocket connected"),m.send(JSON.stringify({type:"join-call-signaling",userId:t.id}))},m.onmessage=b=>{try{const g=JSON.parse(b.data);r(g)}catch(g){console.error("Error parsing WebSocket message:",g)}},m.onclose=()=>{console.log("Video call WebSocket disconnected")},m.onerror=b=>{console.error("Video call WebSocket error:",b),s(g=>({...g,error:"Connection failed"}))},()=>{m.close()}},[t]);const r=u=>{switch(u.type){case"call-started":s(f=>({...f,currentCall:u.call,isInCall:!0,isConnecting:!1}));break;case"call-ended":s(f=>({...f,currentCall:null,isInCall:!1,isConnecting:!1}));break;case"participant-joined":s(f=>({...f,currentCall:f.currentCall?{...f.currentCall,participants:u.participants}:null}));break;case"participant-left":s(f=>({...f,currentCall:f.currentCall?{...f.currentCall,participants:u.participants}:null}));break;case"call-invite":console.log("Received call invite:",u);break}};return{...e,startCall:async u=>{if(!(!t||e.isInCall)){s(f=>({...f,isConnecting:!0,error:null}));try{const f=await fe("POST","/api/video-calls",{participantIds:u});return s(m=>({...m,isConnecting:!1})),f}catch(f){throw console.error("Error starting call:",f),s(m=>({...m,isConnecting:!1,error:"Failed to start call"})),f}}},joinCall:async u=>{if(t)try{await fe("POST",`/api/video-calls/${u}/join`)}catch(f){console.error("Error joining call:",f),s(m=>({...m,error:"Failed to join call"}))}},leaveCall:async()=>{if(e.currentCall)try{await fe("POST",`/api/video-calls/${e.currentCall.id}/leave`),s(u=>({...u,currentCall:null,isInCall:!1,isConnecting:!1}))}catch(u){console.error("Error leaving call:",u),s(f=>({...f,error:"Failed to leave call"}))}},endCall:async()=>{if(e.currentCall)try{await fe("POST",`/api/video-calls/${e.currentCall.id}/end`),s(u=>({...u,currentCall:null,isInCall:!1,isConnecting:!1}))}catch(u){console.error("Error ending call:",u),s(f=>({...f,error:"Failed to end call"}))}},toggleAudio:u=>{n.current&&e.currentCall&&n.current.send(JSON.stringify({type:"audio-toggle",callId:e.currentCall.id,enabled:u}))},toggleVideo:u=>{n.current&&e.currentCall&&n.current.send(JSON.stringify({type:"video-toggle",callId:e.currentCall.id,enabled:u}))}}}function PG(){const[t,e]=p.useState(""),[s,n]=p.useState(""),[r,a]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(""),[h,u]=p.useState(""),[f,m]=p.useState(!1),[b,g]=p.useState(null),[x,y]=p.useState(!1),[v,w]=p.useState(!1),{user:S}=ir(),N=S,{toast:P}=Ct(),C=js(),[,_]=Ku(),{currentCall:A,isInCall:k,isConnecting:R,startCall:O,endCall:$,toggleAudio:z,toggleVideo:ee}=CG(),{data:K=[],isLoading:Z}=it({queryKey:["/api/friends"]}),{data:F=[],isLoading:I}=it({queryKey:["/api/polls"]}),U=Te({mutationFn:async Q=>{await fe("PUT","/api/user/profile",Q)},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/auth/user"]}),l(!1),P({title:"Kliq name updated!",description:"Your kliq has a new name"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to update kliq name",variant:"destructive"})}}),H=Te({mutationFn:async({friendId:Q,rank:ue})=>{await fe("PUT",`/api/friends/${Q}/rank`,{rank:ue})},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/friends"]}),P({title:"Friend rank updated!",description:"Your pyramid has been reorganized"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to update friend rank",variant:"destructive"})}});Te({mutationFn:async Q=>{await fe("POST","/api/friends/invite",{inviteCode:Q})},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/friends"]}),d(""),m(!1),P({title:"Joined kliq!",description:"You've successfully joined a new kliq"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to join kliq. Check your invite code.",variant:"destructive"})}}),Te({mutationFn:async Q=>await fe("POST","/api/friends/send-invites",{phoneNumbers:Q}),onSuccess:Q=>{u(""),m(!1),P({title:"Invites sent!",description:Q.message||"SMS invites have been sent to the provided phone numbers"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}let ue="Failed to send invites. Please check the phone numbers.";if(Q.message&&Q.message.includes("400: ")){const Re=Q.message.replace("400: ","");try{ue=JSON.parse(Re).error||ue}catch{ue=Re||ue}}P({title:"Error",description:ue,variant:"destructive"})}}),Te({mutationFn:async()=>await fe("GET","/api/twilio/test"),onSuccess:Q=>{P({title:"Twilio Test Successful",description:`Account: ${Q.account.status} | Phone: ${Q.configuredFrom}`}),console.log("Twilio test results:",Q)},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}let ue="Twilio configuration test failed";if(Q.message)try{const Re=JSON.parse(Q.message.replace(/^\d+: /,""));ue=Re.message||Re.error||ue}catch{ue=Q.message||ue}P({title:"Twilio Test Failed",description:ue,variant:"destructive"}),console.error("Twilio test error:",Q)}}),Te({mutationFn:async Q=>await fe("GET",`/api/twilio/status/${Q}`),onSuccess:Q=>{const ue=Q.message;P({title:"Message Status",description:`Status: ${ue.status} | ${ue.errorMessage||"No errors"}`,variant:ue.status==="failed"?"destructive":"default"}),console.log("Message status:",Q)},onError:Q=>{P({title:"Status Check Failed",description:"Could not fetch message status",variant:"destructive"}),console.error("Message status error:",Q)}});const ce=Te({mutationFn:async()=>{await fe("DELETE","/api/friends/leave-kliq")},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/friends"]}),y(!1),P({title:"Left kliq",description:"You have successfully left your kliq"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to leave kliq",variant:"destructive"})}}),Y=Te({mutationFn:async()=>{await fe("PUT","/api/user/profile",{kliqClosed:!(N!=null&&N.kliqClosed)})},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/auth/user"]}),w(!1),P({title:N!=null&&N.kliqClosed?"Kliq opened":"Kliq closed",description:N!=null&&N.kliqClosed?"Your kliq is now open to new members until you reach 28 friends":"Your kliq is now closed to new members"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to update kliq status",variant:"destructive"})}}),xe=Te({mutationFn:async Q=>{await fe("DELETE",`/api/friends/${Q}`)},onSuccess:()=>{C.invalidateQueries({queryKey:["/api/friends"]}),g(null),P({title:"Friend removed",description:"They have been removed from your kliq"})},onError:Q=>{if(Mt(Q)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to remove friend",variant:"destructive"})}}),Ze=()=>{t.trim()&&U.mutate({kliqName:t.trim(),kliqLeftEmoji:s,kliqRightEmoji:r})},Be=(Q,ue)=>{H.mutate({friendId:Q,rank:ue})},pe=async Q=>{try{await O(Q),P({title:"Video Call",description:"Starting video call..."})}catch{P({title:"Error",description:"Failed to start video call",variant:"destructive"})}},Se=Q=>{g(Q)},We=()=>{b&&xe.mutate(b)},Ke=()=>{ce.mutate()},$e=()=>{w(!0)},Oe=()=>{Y.mutate()},gt=async(Q,ue)=>{try{const hs=(await fe("POST","/api/messages/conversations",{participantId:Q})).id;_(`/messages/${hs}`),P({title:"Starting conversation",description:`Messaging ${ue}`})}catch(Re){if(Mt(Re)){P({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}P({title:"Error",description:"Failed to start conversation",variant:"destructive"})}},st=async()=>{if(N!=null&&N.inviteCode&&(N!=null&&N.firstName))try{const Q=`${N.firstName} wants you to join their Kliq. Use the following Invite Code ${N.inviteCode} and go to https://kliqlife.com - "A Different Social Experience"`;await navigator.clipboard.writeText(Q),P({title:"Copied!",description:"Full invite message copied to clipboard"})}catch{P({title:"Error",description:"Failed to copy invite message",variant:"destructive"})}};return k&&A?i.jsx("div",{className:"h-screen bg-black",children:i.jsx(QK,{call:A,onEndCall:$,onToggleAudio:z,onToggleVideo:ee})}):i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(bs,{className:"w-6 h-6 text-primary"}),i.jsx("h1",{className:"text-2xl font-bold text-primary",children:o?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-2xl cursor-pointer hover:opacity-80 p-2 rounded transition-opacity",onClick:()=>{const Q=["","","","","","","","","","","","","","","",""],Re=(Q.indexOf(s)+1)%Q.length;n(Q[Re])},"data-testid":"emoji-left-selector",children:s}),i.jsx(he,{value:t,onChange:Q=>e(Q.target.value),className:"bg-input border-border text-foreground text-center",placeholder:(N==null?void 0:N.kliqName)||"My Kliq","data-testid":"input-kliq-name"}),i.jsx("div",{className:"text-2xl cursor-pointer hover:opacity-80 p-2 rounded transition-opacity",onClick:()=>{const Q=["","","","","","","","","","","","","","","",""],Re=(Q.indexOf(r)+1)%Q.length;a(Q[Re])},"data-testid":"emoji-right-selector",children:r})]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Click emojis to cycle through options"}),i.jsx("div",{className:"flex justify-center",children:i.jsx(D,{size:"sm",onClick:Ze,disabled:U.isPending,className:"bg-mykliq-green hover:bg-mykliq-green/90 text-foreground","data-testid":"button-save-kliq",children:"Save"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("span",{"data-testid":"kliq-display",children:[(N==null?void 0:N.kliqLeftEmoji)||""," ",(N==null?void 0:N.kliqName)||"My Kliq"," ",(N==null?void 0:N.kliqRightEmoji)||""]}),i.jsx(D,{size:"sm",variant:"ghost",onClick:()=>{e((N==null?void 0:N.kliqName)||""),n((N==null?void 0:N.kliqLeftEmoji)||""),a((N==null?void 0:N.kliqRightEmoji)||""),l(!0)},className:"ml-2 text-muted-foreground hover:text-foreground","data-testid":"button-edit-kliq",children:i.jsx(hm,{className:"w-4 h-4"})})]})})]}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Drag friends to reorder your pyramid"})]}),i.jsxs(wa,{defaultValue:"friends",className:"w-full",children:[i.jsxs(gi,{className:"grid w-full grid-cols-2 bg-muted",children:[i.jsxs(Nt,{value:"friends",className:"flex items-center gap-2","data-testid":"tab-friends",children:[i.jsx(bs,{className:"w-4 h-4"}),"Friends (",K.length,"/28)"]}),i.jsxs(Nt,{value:"polls",className:"flex items-center gap-2","data-testid":"tab-polls",children:[i.jsx(TI,{className:"w-4 h-4"}),"Polls (",F.length,")"]})]}),i.jsxs(It,{value:"friends",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-secondary","data-testid":"text-friend-count",children:[K.length,"/28"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Friends"})]})}),i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-mykliq-purple","data-testid":"text-open-spots",children:28-K.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Open Spots"})]})})]}),Z?i.jsx(X,{className:"bg-card border-border",children:i.jsx(J,{className:"p-8 text-center",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full mx-auto"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"w-24 h-4 bg-muted rounded mx-auto"}),i.jsx("div",{className:"w-32 h-3 bg-muted rounded mx-auto"})]})]})})}):K.length===0?i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-8 text-center",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-bold text-muted-foreground mb-2",children:"No friends yet"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Share your invite code or join someone else's kliq to get started!"}),i.jsxs(D,{onClick:()=>m(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[i.jsx(ci,{className:"w-4 h-4 mr-2"}),"Join a Kliq"]})]})}):i.jsx(YK,{friends:K.map(Q=>({id:Q.friend.id,firstName:Q.friend.firstName,lastName:Q.friend.lastName,profileImageUrl:Q.friend.profileImageUrl,rank:Q.rank})),onRankChange:Be,onMessage:gt,onVideoCall:pe,onRemove:Se,maxFriends:28,kliqName:N==null?void 0:N.kliqName,kliqLeftEmoji:N==null?void 0:N.kliqLeftEmoji,kliqRightEmoji:N==null?void 0:N.kliqRightEmoji,kliqClosed:N==null?void 0:N.kliqClosed,onCloseKliq:$e,isClosingKliq:!1}),K.length>0&&i.jsx("div",{className:"flex justify-start",children:i.jsxs(Yt,{open:x,onOpenChange:y,children:[i.jsx(mi,{asChild:!0,children:i.jsxs(D,{variant:"destructive",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-leave-kliq",children:[i.jsx(Q2,{className:"w-4 h-4 mr-2"}),"Leave Kliq"]})}),i.jsxs(Ut,{className:"bg-card border-border text-foreground max-w-sm mx-auto",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-red-600",children:"Leave Kliq"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to leave your kliq? This will remove all your friends and cannot be undone."}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(D,{variant:"outline",onClick:()=>y(!1),className:"bg-muted hover:bg-muted/80",children:"Cancel"}),i.jsx(D,{variant:"destructive",onClick:Ke,disabled:ce.isPending,className:"bg-red-600 hover:bg-red-700",children:ce.isPending?"Leaving...":"Leave Kliq"})]})]})]})]})}),i.jsx(Yt,{open:v,onOpenChange:w,children:i.jsxs(Ut,{className:"bg-card border-border text-foreground max-w-sm mx-auto",children:[i.jsx(zt,{children:i.jsx(Bt,{className:N!=null&&N.kliqClosed?"text-green-600":"text-orange-500",children:N!=null&&N.kliqClosed?"Open Kliq":"Close Kliq"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:N!=null&&N.kliqClosed?"Are you sure you want to open your kliq? New members will be able to join using your invite code until you reach 28 friends total.":"Are you sure you want to close your kliq? No new members will be able to join, but existing friends will remain."}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(D,{variant:"outline",onClick:()=>w(!1),className:"bg-muted hover:bg-muted/80",children:"Cancel"}),i.jsx(D,{variant:N!=null&&N.kliqClosed?"default":"destructive",onClick:Oe,disabled:Y.isPending,className:N!=null&&N.kliqClosed?"bg-green-600 hover:bg-green-700":"bg-orange-500 hover:bg-orange-600",children:Y.isPending?N!=null&&N.kliqClosed?"Opening...":"Closing...":N!=null&&N.kliqClosed?"Open Kliq":"Close Kliq"})]})]})]})}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-mykliq-green text-lg flex items-center gap-2",children:[" Your Invite Message",(N==null?void 0:N.kliqClosed)&&i.jsx(ze,{variant:"outline",className:"text-xs border-orange-500 text-orange-500",children:"Kliq Closed"})]})}),i.jsxs(J,{className:"space-y-3",children:[i.jsx("div",{className:"bg-muted rounded p-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsx("div",{className:"text-sm text-foreground font-medium flex-1","data-testid":"text-invite-message",children:N!=null&&N.inviteCode&&(N!=null&&N.firstName)?i.jsxs(i.Fragment,{children:[N.firstName," wants you to join their Kliq. Use the following Invite Code ",N.inviteCode," and go to"," ",i.jsx("a",{href:"https://kliqlife.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 underline",children:"https://kliqlife.com"})," ",'- "A Different Social Experience"']}):"Loading..."}),i.jsx(D,{size:"sm",onClick:st,className:"bg-mykliq-green hover:bg-mykliq-green/90 text-foreground shrink-0",disabled:!(N!=null&&N.inviteCode)||!(N!=null&&N.firstName),"data-testid":"button-copy-invite",children:i.jsx(II,{className:"w-4 h-4"})})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:N!=null&&N.kliqClosed?"Your kliq is closed to new members. Existing friends can still use your code but new people cannot join.":"Copy and paste this complete message to invite friends to your kliq"})]})]})]}),i.jsxs(It,{value:"polls",className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Kliq Polls"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Create polls and vote with your friends"})]}),i.jsx(iS,{})]}),I?i.jsx("div",{className:"space-y-4",children:Array.from({length:2}).map((Q,ue)=>i.jsx(X,{className:"bg-card border-border",children:i.jsx(J,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-10 bg-muted rounded"}),i.jsx("div",{className:"h-10 bg-muted rounded"})]})]})})},ue))}):F.length===0?i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-8 text-center",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("h3",{className:"text-lg font-bold text-muted-foreground mb-2",children:"No polls yet"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Create your first poll to get opinions from your friends!"}),i.jsx(iS,{trigger:i.jsxs(D,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[i.jsx(ci,{className:"w-4 h-4 mr-2"}),"Create First Poll"]})})]})}):i.jsx("div",{className:"space-y-4",children:F.map(Q=>i.jsx(CT,{poll:Q},Q.id))})]})]}),i.jsx(Yt,{open:!!b,onOpenChange:()=>g(null),children:i.jsxs(Ut,{className:"bg-card border-border text-foreground max-w-sm mx-auto",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-destructive",children:"Remove Friend?"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"Are you sure you want to remove this friend from your kliq? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(D,{variant:"outline",onClick:()=>g(null),className:"flex-1","data-testid":"button-cancel-remove",children:"Cancel"}),i.jsx(D,{onClick:We,disabled:xe.isPending,className:"flex-1 bg-destructive hover:bg-destructive/90 text-destructive-foreground","data-testid":"button-confirm-remove",children:xe.isPending?"Removing...":"Remove"})]})]})]})}),i.jsx(dn,{})]})}function _G({targetDate:t}){const[e,s]=p.useState({days:0,hours:0,minutes:0,seconds:0}),[n,r]=p.useState(!1);return p.useEffect(()=>{const a=()=>{const l=new Date(t),c=new Date,d=l.getTime()-c.getTime();d>0?(s({days:Math.floor(d/864e5),hours:Math.floor(d/36e5%24),minutes:Math.floor(d/1e3/60%60),seconds:Math.floor(d/1e3%60)}),r(!1)):r(!0)};a();const o=setInterval(a,1e3);return()=>clearInterval(o)},[t]),n?i.jsx("div",{className:"text-center py-2",children:i.jsx(ze,{variant:"secondary",className:"bg-muted text-muted-foreground",children:"Event Started"})}):i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[i.jsxs("div",{className:"bg-gradient-to-br from-primary to-secondary rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-primary-foreground",children:e.days}),i.jsx("div",{className:"text-xs text-primary-foreground/80",children:"Days"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-secondary to-mykliq-blue rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-secondary-foreground",children:e.hours}),i.jsx("div",{className:"text-xs text-secondary-foreground/80",children:"Hours"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-mykliq-green to-mykliq-purple rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-foreground",children:e.minutes}),i.jsx("div",{className:"text-xs text-foreground/80",children:"Mins"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-mykliq-orange to-primary rounded-lg p-2",children:[i.jsx("div",{className:"text-lg font-bold text-foreground",children:e.seconds}),i.jsx("div",{className:"text-xs text-foreground/80",children:"Secs"})]})]})}function EG(){const[t,e]=p.useState(!1),[s,n]=p.useState(!1),[r,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState({title:"",description:"",location:"",eventDate:"",mediaUrl:"",mediaType:null}),{user:h}=ir(),u=h,{toast:f}=Ct(),m=js(),{data:b=[],isLoading:g}=it({queryKey:["/api/events"]}),x=Te({mutationFn:async k=>{await fe("POST","/api/events",k)},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/events"]}),e(!1),d({title:"",description:"",location:"",eventDate:"",mediaUrl:"",mediaType:null}),f({title:"Event created!",description:"Your event has been shared with your kliq on the Headlines"})},onError:k=>{if(Mt(k)){f({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}f({title:"Error",description:"Failed to create event",variant:"destructive"})}}),y=Te({mutationFn:async({eventId:k,eventData:R})=>{await fe("PUT",`/api/events/${k}`,R)},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/events"]}),n(!1),l(null),f({title:"Event updated!",description:"Your event changes have been saved"})},onError:k=>{if(Mt(k)){f({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}f({title:"Error",description:"Failed to update event",variant:"destructive"})}}),v=Te({mutationFn:async({eventId:k,status:R})=>{await fe("POST",`/api/events/${k}/attendance`,{status:R})},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/events"]}),m.invalidateQueries({queryKey:["/api/kliq-feed"]}),f({title:"Attendance updated!",description:"Your attendance status has been updated"})},onError:k=>{if(Mt(k)){f({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}f({title:"Error",description:"Failed to update attendance",variant:"destructive"})}}),w=()=>{if(!c.title.trim()||!c.eventDate){f({title:"Missing information",description:"Please provide at least a title and date for your event",variant:"destructive"});return}const k={...c,eventDate:new Date(c.eventDate).toISOString()};x.mutate(k)},S=k=>{l({...k,eventDate:new Date(k.eventDate).toISOString().slice(0,16)}),n(!0)},N=()=>{if(!o.title.trim()||!o.eventDate){f({title:"Missing information",description:"Please provide at least a title and date for your event",variant:"destructive"});return}y.mutate({eventId:o.id,eventData:{title:o.title,description:o.description,location:o.location,eventDate:new Date(o.eventDate).toISOString(),mediaUrl:o.mediaUrl,mediaType:o.mediaType}})},P=(k,R)=>{v.mutate({eventId:k,status:R})},C=k=>{s&&o?l(R=>({...R,mediaUrl:k.objectURL,mediaType:k.type})):d(R=>({...R,mediaUrl:k.objectURL,mediaType:k.type})),a(!1),f({title:"Media uploaded!",description:"Media has been attached to your event"})},_=k=>{var O;const R=(O=k.attendees)==null?void 0:O.find($=>$.userId===(u==null?void 0:u.id));return(R==null?void 0:R.status)||null},A=k=>{const R=new Date(k);return{date:R.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),time:R.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})}};return g?i.jsx("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:i.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(k=>i.jsx(X,{className:"bg-card border-border",children:i.jsxs(J,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})},k))})}):i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Events"}),i.jsx("p",{className:"text-muted-foreground",children:"Create and join events with your kliq"})]}),i.jsxs(Yt,{open:t,onOpenChange:e,children:[i.jsx(mi,{asChild:!0,children:i.jsxs(D,{className:"bg-gradient-to-r from-primary to-secondary text-primary-foreground",children:[i.jsx(ci,{className:"w-4 h-4 mr-2"}),"Create Event"]})}),i.jsxs(Ut,{className:"bg-card border-border max-w-md",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-foreground",children:"Create New Event"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Event Title"}),i.jsx(he,{value:c.title,onChange:k=>d(R=>({...R,title:k.target.value})),placeholder:"Enter event title",className:"bg-input border-border text-foreground","data-testid":"input-event-title"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Description"}),i.jsx(tr,{value:c.description,onChange:k=>d(R=>({...R,description:k.target.value})),placeholder:"What's this event about?",className:"bg-input border-border text-foreground resize-none",rows:3,"data-testid":"input-event-description"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Location"}),i.jsx(he,{value:c.location,onChange:k=>d(R=>({...R,location:k.target.value})),placeholder:"Where will this happen?",className:"bg-input border-border text-foreground","data-testid":"input-event-location"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Date & Time"}),i.jsx(he,{type:"datetime-local",value:c.eventDate,onChange:k=>d(R=>({...R,eventDate:k.target.value})),className:"bg-input border-border text-foreground",min:new Date().toISOString().slice(0,16),"data-testid":"input-event-datetime"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Media"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(D,{type:"button",variant:"outline",onClick:()=>a(!0),className:"border-border text-muted-foreground hover:bg-muted",children:[i.jsx(aa,{className:"w-4 h-4 mr-2"}),"Add Photo/Video"]}),c.mediaUrl&&i.jsx(ze,{className:"bg-mykliq-green text-foreground",children:"Media attached"})]})]}),i.jsxs("div",{className:"flex space-x-2 pt-4",children:[i.jsx(D,{onClick:w,disabled:x.isPending,className:"flex-1 bg-gradient-to-r from-primary to-secondary text-primary-foreground","data-testid":"button-create-event",children:x.isPending?"Creating...":"Create Event"}),i.jsx(D,{variant:"outline",onClick:()=>e(!1),className:"border-border text-muted-foreground hover:bg-muted",children:"Cancel"})]})]})]})]}),i.jsx(Yt,{open:s,onOpenChange:n,children:i.jsxs(Ut,{className:"bg-card border-border max-w-md",children:[i.jsx(zt,{children:i.jsx(Bt,{className:"text-foreground",children:"Edit Event"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Event Title"}),i.jsx(he,{value:(o==null?void 0:o.title)||"",onChange:k=>l(R=>({...R,title:k.target.value})),placeholder:"Enter event title",className:"bg-input border-border text-foreground","data-testid":"input-edit-event-title"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Description"}),i.jsx(tr,{value:(o==null?void 0:o.description)||"",onChange:k=>l(R=>({...R,description:k.target.value})),placeholder:"What's this event about?",className:"bg-input border-border text-foreground resize-none",rows:3,"data-testid":"input-edit-event-description"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Location"}),i.jsx(he,{value:(o==null?void 0:o.location)||"",onChange:k=>l(R=>({...R,location:k.target.value})),placeholder:"Where will this happen?",className:"bg-input border-border text-foreground","data-testid":"input-edit-event-location"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Date & Time"}),i.jsx(he,{type:"datetime-local",value:(o==null?void 0:o.eventDate)||"",onChange:k=>l(R=>({...R,eventDate:k.target.value})),className:"bg-input border-border text-foreground",min:new Date().toISOString().slice(0,16),"data-testid":"input-edit-event-datetime"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Media"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(D,{type:"button",variant:"outline",onClick:()=>a(!0),className:"border-border text-muted-foreground hover:bg-muted",children:[i.jsx(aa,{className:"w-4 h-4 mr-2"}),o!=null&&o.mediaUrl?"Change Media":"Add Photo/Video"]}),(o==null?void 0:o.mediaUrl)&&i.jsx(ze,{className:"bg-mykliq-green text-foreground",children:"Media attached"})]})]}),i.jsxs("div",{className:"flex space-x-2 pt-4",children:[i.jsx(D,{onClick:N,disabled:y.isPending,className:"flex-1 bg-gradient-to-r from-primary to-secondary text-primary-foreground","data-testid":"button-update-event",children:y.isPending?"Updating...":"Update Event"}),i.jsx(D,{variant:"outline",onClick:()=>n(!1),className:"border-border text-muted-foreground hover:bg-muted",children:"Cancel"})]})]})]})})]}),!Array.isArray(b)||b.length===0?i.jsx(X,{className:"bg-card border-border text-center",children:i.jsxs(J,{className:"p-8",children:[i.jsx(li,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"No Events Yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first event to start planning with your kliq!"}),i.jsx(D,{onClick:()=>e(!0),className:"bg-gradient-to-r from-primary to-secondary text-primary-foreground",children:"Create Your First Event"})]})}):i.jsx("div",{className:"space-y-6",children:Array.isArray(b)&&b.map(k=>{var z,ee,K,Z,F,I;const R=_(k),{date:O,time:$}=A(k.eventDate);return i.jsx(X,{className:te("bg-card border",k.author.id===(u==null?void 0:u.id)?"border-primary/50":"border-border"),children:i.jsxs(J,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(Us,{className:"w-12 h-12 border-2 border-primary",children:[i.jsx(zs,{src:k.author.profileImageUrl}),i.jsx(Bs,{className:"bg-muted text-muted-foreground",children:((z=k.author.firstName)==null?void 0:z[0])||"U"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-foreground",children:[k.author.firstName," ",k.author.lastName]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Event Host"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:k.author.id===(u==null?void 0:u.id)&&i.jsxs(i.Fragment,{children:[i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>S(k),className:"border-primary text-primary hover:bg-primary/10","data-testid":`button-edit-event-${k.id}`,children:[i.jsx(hm,{className:"w-3 h-3 mr-1"}),"Edit"]}),i.jsx(ze,{className:"bg-primary text-primary-foreground",children:"Your Event"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:k.title}),k.description&&i.jsx("p",{className:"text-muted-foreground",children:k.description})]}),k.mediaUrl&&i.jsx("div",{className:"rounded-lg overflow-hidden bg-muted/20",children:k.mediaType==="video"?i.jsx("video",{src:k.mediaUrl,controls:!0,className:"w-full max-h-64 object-cover",preload:"metadata"}):i.jsx("img",{src:k.mediaUrl,alt:"Event media",className:"w-full max-h-64 object-cover"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-secondary mb-2",children:[i.jsx(li,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"Date & Time"})]}),i.jsx("p",{className:"text-foreground font-medium",children:O}),i.jsx("p",{className:"text-muted-foreground",children:$})]}),k.location&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-mykliq-green mb-2",children:[i.jsx(oa,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"Location"})]}),i.jsx("p",{className:"text-foreground",children:k.location})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center text-primary mb-3",children:[i.jsx(lm,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"Event Countdown"})]}),i.jsx(_G,{targetDate:k.eventDate})]}),i.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground mb-3",children:"Attendance Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-1",children:[i.jsx(Xl,{className:"w-4 h-4 text-green-600 mr-1"}),i.jsx("span",{className:"text-lg font-bold text-green-600",children:((ee=k.attendees)==null?void 0:ee.filter(U=>U.status==="going").length)||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Going"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-1",children:[i.jsx(q1,{className:"w-4 h-4 text-yellow-600 mr-1"}),i.jsx("span",{className:"text-lg font-bold text-yellow-600",children:((K=k.attendees)==null?void 0:K.filter(U=>U.status==="maybe").length)||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Maybe"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-1",children:[i.jsx(ds,{className:"w-4 h-4 text-red-600 mr-1"}),i.jsx("span",{className:"text-lg font-bold text-red-600",children:((Z=k.attendees)==null?void 0:Z.filter(U=>U.status==="not_going").length)||0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Can't Go"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[i.jsxs("div",{className:"flex items-center text-mykliq-purple",children:[i.jsx(bs,{className:"w-4 h-4 mr-2"}),i.jsxs("span",{className:"text-sm",children:[((F=k.attendees)==null?void 0:F.filter(U=>U.status==="going").length)||0," going  ",((I=k.attendees)==null?void 0:I.length)||0," responded"]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(D,{size:"sm",onClick:()=>P(k.id,"going"),disabled:v.isPending,className:te("h-8 px-3",R==="going"?"bg-mykliq-green text-foreground":"bg-muted text-muted-foreground hover:bg-mykliq-green hover:text-foreground"),"data-testid":`button-going-${k.id}`,children:[i.jsx(Xl,{className:"w-3 h-3 mr-1"}),"Going"]}),i.jsxs(D,{size:"sm",onClick:()=>P(k.id,"maybe"),disabled:v.isPending,className:te("h-8 px-3",R==="maybe"?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-yellow-600 hover:text-white"),"data-testid":`button-maybe-${k.id}`,children:[i.jsx(q1,{className:"w-3 h-3 mr-1"}),"Maybe"]}),i.jsxs(D,{size:"sm",onClick:()=>P(k.id,"not_going"),disabled:v.isPending,className:te("h-8 px-3",R==="not_going"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-red-600 hover:text-white"),"data-testid":`button-not-going-${k.id}`,children:[i.jsx(ds,{className:"w-3 h-3 mr-1"}),"Can't Go"]})]})]})]})]})},k.id)})}),i.jsx(lx,{open:r,onOpenChange:a,onSuccess:C,type:"event",userId:u==null?void 0:u.id}),i.jsx(dn,{})]})}var Tb="Switch",[TG,dJ]=Ns(Tb),[MG,AG]=TG(Tb),M4=p.forwardRef((t,e)=>{const{__scopeSwitch:s,name:n,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=t,[f,m]=p.useState(null),b=Le(e,w=>m(w)),g=p.useRef(!1),x=f?h||!!f.closest("form"):!0,[y=!1,v]=Ar({prop:r,defaultProp:a,onChange:d});return i.jsxs(MG,{scope:s,checked:y,disabled:l,children:[i.jsx(Ne.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":R4(y),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:b,onClick:ne(t.onClick,w=>{v(S=>!S),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&i.jsx(FG,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});M4.displayName=Tb;var A4="SwitchThumb",F4=p.forwardRef((t,e)=>{const{__scopeSwitch:s,...n}=t,r=AG(A4,s);return i.jsx(Ne.span,{"data-state":R4(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:e})});F4.displayName=A4;var FG=t=>{const{control:e,checked:s,bubbles:n=!0,...r}=t,a=p.useRef(null),o=_b(s),l=Y0(e);return p.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&u){const f=new Event("click",{bubbles:n});u.call(c,s),c.dispatchEvent(f)}},[o,s,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function R4(t){return t?"checked":"unchecked"}var I4=M4,RG=F4;const ah=p.forwardRef(({className:t,...e},s)=>i.jsx(I4,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:i.jsx(RG,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ah.displayName=I4.displayName;function IG(t,e){return p.useReducer((s,n)=>e[s][n]??s,t)}var Mb="ScrollArea",[O4,uJ]=Ns(Mb),[OG,Nn]=O4(Mb),D4=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:n="hover",dir:r,scrollHideDelay:a=600,...o}=t,[l,c]=p.useState(null),[d,h]=p.useState(null),[u,f]=p.useState(null),[m,b]=p.useState(null),[g,x]=p.useState(null),[y,v]=p.useState(0),[w,S]=p.useState(0),[N,P]=p.useState(!1),[C,_]=p.useState(!1),A=Le(e,R=>c(R)),k=bc(r);return i.jsx(OG,{scope:s,type:n,dir:k,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:u,onContentChange:f,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:v,onCornerHeightChange:S,children:i.jsx(Ne.div,{dir:k,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});D4.displayName=Mb;var L4="ScrollAreaViewport",$4=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:n,nonce:r,...a}=t,o=Nn(L4,s),l=p.useRef(null),c=Le(e,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$4.displayName=L4;var Dr="ScrollAreaScrollbar",Ab=p.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Nn(Dr,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=t.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?i.jsx(DG,{...n,ref:e,forceMount:s}):r.type==="scroll"?i.jsx(LG,{...n,ref:e,forceMount:s}):r.type==="auto"?i.jsx(U4,{...n,ref:e,forceMount:s}):r.type==="always"?i.jsx(Fb,{...n,ref:e}):null});Ab.displayName=Dr;var DG=p.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Nn(Dr,t.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(us,{present:s||a,children:i.jsx(U4,{"data-state":a?"visible":"hidden",...n,ref:e})})}),LG=p.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=Nn(Dr,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Am(()=>c("SCROLL_END"),100),[l,c]=IG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,r.scrollHideDelay,c]),p.useEffect(()=>{const d=r.viewport,h=a?"scrollLeft":"scrollTop";if(d){let u=d[h];const f=()=>{const m=d[h];u!==m&&(c("SCROLL"),o()),u=m};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[r.viewport,a,c,o]),i.jsx(us,{present:s||l!=="hidden",children:i.jsx(Fb,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ne(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ne(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),U4=p.forwardRef((t,e)=>{const s=Nn(Dr,t.__scopeScrollArea),{forceMount:n,...r}=t,[a,o]=p.useState(!1),l=t.orientation==="horizontal",c=Am(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:h)}},10);return lc(s.viewport,c),lc(s.content,c),i.jsx(us,{present:n||a,children:i.jsx(Fb,{"data-state":a?"visible":"hidden",...r,ref:e})})}),Fb=p.forwardRef((t,e)=>{const{orientation:s="vertical",...n}=t,r=Nn(Dr,t.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=H4(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function u(f,m){return qG(f,o.current,l,m)}return s==="horizontal"?i.jsx($G,{...h,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollLeft,m=aS(f,l,r.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=u(f,r.dir))}}):s==="vertical"?i.jsx(UG,{...h,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollTop,m=aS(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=u(f))}}):null}),$G=p.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...r}=t,a=Nn(Dr,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Le(e,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(B4,{"data-orientation":"horizontal",...r,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mm(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(a.viewport){const f=a.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),K4(f,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:pp(o.paddingLeft),paddingEnd:pp(o.paddingRight)}})}})}),UG=p.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...r}=t,a=Nn(Dr,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Le(e,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(B4,{"data-orientation":"vertical",...r,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mm(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(a.viewport){const f=a.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),K4(f,u)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:pp(o.paddingTop),paddingEnd:pp(o.paddingBottom)}})}})}),[zG,z4]=O4(Dr),B4=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:u,...f}=t,m=Nn(Dr,s),[b,g]=p.useState(null),x=Le(e,A=>g(A)),y=p.useRef(null),v=p.useRef(""),w=m.viewport,S=n.content-n.viewport,N=mt(h),P=mt(c),C=Am(u,10);function _(A){if(y.current){const k=A.clientX-y.current.left,R=A.clientY-y.current.top;d({x:k,y:R})}}return p.useEffect(()=>{const A=k=>{const R=k.target;(b==null?void 0:b.contains(R))&&N(k,S)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,b,S,N]),p.useEffect(P,[n,P]),lc(b,C),lc(m.content,C),i.jsx(zG,{scope:s,scrollbar:b,hasThumb:r,onThumbChange:mt(a),onThumbPointerUp:mt(o),onThumbPositionChange:P,onThumbPointerDown:mt(l),children:i.jsx(Ne.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:ne(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(A))}),onPointerMove:ne(t.onPointerMove,_),onPointerUp:ne(t.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),fp="ScrollAreaThumb",V4=p.forwardRef((t,e)=>{const{forceMount:s,...n}=t,r=z4(fp,t.__scopeScrollArea);return i.jsx(us,{present:s||r.hasThumb,children:i.jsx(BG,{ref:e,...n})})}),BG=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:n,...r}=t,a=Nn(fp,s),o=z4(fp,s),{onThumbPositionChange:l}=o,c=Le(e,u=>o.onThumbChange(u)),d=p.useRef(void 0),h=Am(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const u=a.viewport;if(u){const f=()=>{if(h(),!d.current){const m=HG(u,l);d.current=m,l()}};return l(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,h,l]),i.jsx(Ne.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ne(t.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),b=u.clientX-m.left,g=u.clientY-m.top;o.onThumbPointerDown({x:b,y:g})}),onPointerUp:ne(t.onPointerUp,o.onThumbPointerUp)})});V4.displayName=fp;var Rb="ScrollAreaCorner",q4=p.forwardRef((t,e)=>{const s=Nn(Rb,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?i.jsx(VG,{...t,ref:e}):null});q4.displayName=Rb;var VG=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,...n}=t,r=Nn(Rb,s),[a,o]=p.useState(0),[l,c]=p.useState(0),d=!!(a&&l);return lc(r.scrollbarX,()=>{var u;const h=((u=r.scrollbarX)==null?void 0:u.offsetHeight)||0;r.onCornerHeightChange(h),c(h)}),lc(r.scrollbarY,()=>{var u;const h=((u=r.scrollbarY)==null?void 0:u.offsetWidth)||0;r.onCornerWidthChange(h),o(h)}),d?i.jsx(Ne.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function pp(t){return t?parseInt(t,10):0}function H4(t,e){const s=t/e;return isNaN(s)?0:s}function Mm(t){const e=H4(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*e;return Math.max(n,18)}function qG(t,e,s,n="ltr"){const r=Mm(s),a=r/2,o=e||a,l=r-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,u=n==="ltr"?[0,h]:[h*-1,0];return W4([c,d],u)(t)}function aS(t,e,s="ltr"){const n=Mm(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-r,o=e.content-e.viewport,l=a-n,c=s==="ltr"?[0,o]:[o*-1,0],d=eu(t,c);return W4([0,o],[0,l])(d)}function W4(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function K4(t,e){return t>0&&t<e}var HG=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return function r(){const a={left:t.scrollLeft,top:t.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&e(),s=a,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)};function Am(t,e){const s=mt(t),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,e)},[s,e])}function lc(t,e){const s=mt(e);qt(()=>{let n=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return r.observe(t),()=>{window.cancelAnimationFrame(n),r.unobserve(t)}}},[t,s])}var G4=D4,WG=$4,KG=q4;const Fm=p.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(G4,{ref:n,className:te("relative overflow-hidden",t),...s,children:[i.jsx(WG,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(Y4,{}),i.jsx(KG,{})]}));Fm.displayName=G4.displayName;const Y4=p.forwardRef(({className:t,orientation:e="vertical",...s},n)=>i.jsx(Ab,{ref:n,orientation:e,className:te("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:i.jsx(V4,{className:"relative flex-1 rounded-full bg-border"})}));Y4.displayName=Ab.displayName;function GG(){const[t,e]=p.useState(!1),[s,n]=p.useState(null);p.useState(!1);const[r,a]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState([]),[h,u]=p.useState(null),[f,m]=p.useState(null),[b,g]=p.useState(!0),[x,y]=p.useState(!0),v=p.useRef(null),{toast:w}=Ct(),S=js(),[N,P]=p.useState({title:"",description:"",chatEnabled:!0}),{data:C}=it({queryKey:["/api/auth/user"]}),{data:_,isLoading:A}=it({queryKey:["/api/actions"],refetchInterval:5e3}),k=Te({mutationFn:async Y=>await fe("POST","/api/actions",Y),onSuccess:Y=>{S.invalidateQueries({queryKey:["/api/actions"]}),S.invalidateQueries({queryKey:["/api/posts"]}),e(!1),n(Y),P({title:"",description:"",chatEnabled:!0}),w({title:"Action started!",description:"Your live stream is active and posted to headlines"})},onError:()=>{w({title:"Error",description:"Failed to start action",variant:"destructive"})}}),R=Te({mutationFn:async Y=>{await fe("PUT",`/api/actions/${Y}/end`)},onSuccess:()=>{S.invalidateQueries({queryKey:["/api/actions"]}),n(null),a(!1),K(),h&&(h.close(),u(null)),w({title:"Action ended",description:"Your live stream has been stopped"})}}),O=Te({mutationFn:async Y=>{await fe("POST",`/api/actions/${Y}/join`)},onSuccess:()=>{S.invalidateQueries({queryKey:["/api/actions"]})}}),$=Te({mutationFn:async Y=>{await fe("POST",`/api/actions/${Y}/leave`)},onSuccess:()=>{S.invalidateQueries({queryKey:["/api/actions"]})}}),z=Y=>{const Ze=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,Be=new WebSocket(Ze);Be.onopen=()=>{console.log("WebSocket connected"),C!=null&&C.id&&Be.send(JSON.stringify({type:"join_action",actionId:Y,userId:C.id}))},Be.onmessage=pe=>{const Se=JSON.parse(pe.data);switch(Se.type){case"action_chat":d(We=>[...We,{id:Date.now().toString(),message:Se.message,createdAt:Se.timestamp,user:{id:Se.userId,firstName:Se.userName,lastName:""}}]);break;case"viewer_joined":case"viewer_left":S.invalidateQueries({queryKey:["/api/actions"]});break;case"action_ended":n(null),a(!1),w({title:"Stream ended",description:"The live stream has ended"});break}},Be.onclose=()=>{console.log("WebSocket disconnected")},u(Be)},ee=async()=>{try{const Y=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});m(Y),v.current&&(v.current.srcObject=Y),a(!0),w({title:"Camera started",description:"Your camera is now active for streaming"})}catch{w({title:"Camera access denied",description:"Please allow camera access to start streaming",variant:"destructive"})}},K=()=>{f&&(f.getTracks().forEach(Y=>Y.stop()),m(null),v.current&&(v.current.srcObject=null)),a(!1)},Z=()=>{if(f){const Y=f.getVideoTracks()[0];Y&&(Y.enabled=!Y.enabled,g(Y.enabled))}},F=()=>{if(f){const Y=f.getAudioTracks()[0];Y&&(Y.enabled=!Y.enabled,y(Y.enabled))}},I=Y=>{n(Y),z(Y.id),C&&Y.author.id!==C.id&&O.mutate(Y.id)},U=()=>{if(!N.title.trim()){w({title:"Missing title",description:"Please provide a title for your action",variant:"destructive"});return}k.mutate(N)},H=()=>{s&&(h&&h.send(JSON.stringify({type:"action_ended",actionId:s.id})),R.mutate(s.id))},ce=()=>{!o.trim()||!s||!h||!C||(h.send(JSON.stringify({type:"action_chat",actionId:s.id,message:o,userId:C.id,userName:`${C.firstName} ${C.lastName}`.trim()})),l(""))};return p.useEffect(()=>()=>{h&&h.close(),f&&f.getTracks().forEach(Y=>Y.stop())},[]),A||!C?i.jsx("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:i.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(Y=>i.jsx(X,{className:"bg-gray-800",children:i.jsxs(J,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})},Y))})}):s?i.jsx("div",{className:"max-w-6xl mx-auto p-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs(X,{className:"bg-gray-800 border-gray-700",children:[i.jsx(Ce,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Pe,{className:"text-white text-xl",children:s.title}),i.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(ze,{className:"bg-red-600 text-white",children:[i.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"LIVE"]}),i.jsxs(ze,{variant:"secondary",children:[i.jsx(fo,{className:"w-3 h-3 mr-1"}),s.viewerCount]})]})]})}),i.jsx(J,{className:"p-0",children:i.jsx("div",{className:"relative bg-black aspect-video",children:C&&s.author.id===C.id?i.jsxs("div",{className:"relative w-full h-full",children:[i.jsx("video",{ref:v,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover","data-testid":"video-stream"}),!b&&i.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:i.jsx(V1,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx(D,{onClick:Z,variant:b?"secondary":"destructive",size:"sm","data-testid":"button-toggle-video",children:b?i.jsx(Xf,{className:"w-4 h-4"}):i.jsx(V1,{className:"w-4 h-4"})}),i.jsx(D,{onClick:F,variant:x?"secondary":"destructive",size:"sm","data-testid":"button-toggle-audio",children:x?i.jsx(X2,{className:"w-4 h-4"}):i.jsx(Z2,{className:"w-4 h-4"})}),i.jsxs(D,{onClick:H,variant:"destructive",size:"sm","data-testid":"button-end-stream",children:[i.jsx(tO,{className:"w-4 h-4 mr-2"}),"End Stream"]})]}):i.jsxs(D,{onClick:ee,className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-start-stream",children:[i.jsx(ec,{className:"w-4 h-4 mr-2"}),"Start Streaming"]})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hi,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsxs("p",{className:"text-lg mb-2",children:["Watching ",s.author.firstName,"'s stream"]}),i.jsx("p",{className:"text-gray-400",children:"Live video stream would appear here"})]})})})})]}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(D,{onClick:()=>n(null),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Back to Actions"}),C&&s.author.id!==C.id&&i.jsx(D,{onClick:()=>$.mutate(s.id),variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-900",children:"Leave Stream"})]})]}),s.chatEnabled&&i.jsx("div",{children:i.jsxs(X,{className:"bg-gray-800 border-gray-700 h-[600px] flex flex-col",children:[i.jsx(Ce,{className:"pb-3",children:i.jsxs(Pe,{className:"text-white flex items-center",children:[i.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Live Chat"]})}),i.jsxs(J,{className:"flex-1 flex flex-col p-4",children:[i.jsx(Fm,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-2",children:c.map(Y=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"font-semibold text-pink-400",children:[Y.user.firstName,":"]}),i.jsx("span",{className:"text-gray-300 ml-2",children:Y.message})]},Y.id))})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(he,{value:o,onChange:Y=>l(Y.target.value),placeholder:"Type a message...",className:"bg-gray-700 border-gray-600 text-white",onKeyPress:Y=>Y.key==="Enter"&&ce(),"data-testid":"input-chat-message"}),i.jsx(D,{onClick:ce,size:"sm",className:"bg-pink-600 hover:bg-pink-700","data-testid":"button-send-message",children:i.jsx(D0,{className:"w-4 h-4"})})]})]})]})})]})}):i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Action"}),i.jsx("p",{className:"text-gray-400",children:"Live streams from your kliq"})]}),i.jsxs(Yt,{open:t,onOpenChange:e,children:[i.jsx(mi,{asChild:!0,children:i.jsxs(D,{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Start Action"]})}),i.jsxs(Ut,{className:"bg-gray-800 border-gray-700 max-w-md",children:[i.jsxs(zt,{children:[i.jsx(Bt,{className:"text-white",children:"Start New Action"}),i.jsx(jr,{className:"text-gray-400",children:"Start a live stream to share with your kliq"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-300",children:"Title"}),i.jsx(he,{value:N.title,onChange:Y=>P(xe=>({...xe,title:Y.target.value})),placeholder:"What's your action about?",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-action-title"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-300",children:"Description"}),i.jsx(tr,{value:N.description,onChange:Y=>P(xe=>({...xe,description:Y.target.value})),placeholder:"Tell your kliq what to expect",className:"bg-gray-700 border-gray-600 text-white resize-none",rows:3,"data-testid":"input-action-description"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ah,{checked:N.chatEnabled,onCheckedChange:Y=>P(xe=>({...xe,chatEnabled:Y})),"data-testid":"switch-chat-enabled"}),i.jsx(je,{className:"text-gray-300",children:"Enable live chat"})]}),i.jsxs("div",{className:"flex space-x-2 pt-4",children:[i.jsx(D,{onClick:U,disabled:k.isPending,className:"flex-1 bg-gradient-to-r from-red-600 to-pink-600 text-white","data-testid":"button-create-action",children:k.isPending?"Starting...":"Start Action"}),i.jsx(D,{variant:"outline",onClick:()=>e(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})]})]})]}),_&&Array.isArray(_)&&_.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(Y=>i.jsxs(X,{className:"bg-gray-800 border-gray-700 hover:border-pink-500 transition-colors cursor-pointer",onClick:()=>I(Y),"data-testid":`card-action-${Y.id}`,children:[i.jsxs(Ce,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs(ze,{className:"bg-red-600 text-white",children:[i.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"LIVE"]}),i.jsxs(ze,{variant:"secondary",children:[i.jsx(fo,{className:"w-3 h-3 mr-1"}),Y.viewerCount]})]}),i.jsx(Pe,{className:"text-white text-lg",children:Y.title}),i.jsx("p",{className:"text-gray-400 text-sm",children:Y.description})]}),i.jsx(J,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:Y.author.firstName[0]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-white text-sm",children:[Y.author.firstName," ",Y.author.lastName]}),i.jsxs("p",{className:"text-gray-400 text-xs",children:["Started ",new Date(Y.createdAt).toLocaleTimeString()]})]})]}),Y.chatEnabled&&i.jsx(Vt,{className:"w-4 h-4 text-gray-400"})]})})]},Y.id))}):i.jsx(X,{className:"bg-gray-800 border-gray-700",children:i.jsxs(J,{className:"py-16 text-center",children:[i.jsx(Hi,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No live actions"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"Be the first to start a live stream in your kliq!"}),i.jsxs(D,{onClick:()=>e(!0),className:"bg-gradient-to-r from-red-600 to-pink-600 text-white",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Start Your First Action"]})]})}),i.jsx(dn,{})]})}const Ca=({label:t,items:e,setItems:s,newItem:n,setNewItem:r,placeholder:a,icon:o,onAddItem:l,onRemoveItem:c})=>{const d=m=>{r(m.target.value)},h=m=>{m.key==="Enter"&&(m.preventDefault(),l(e,s,n,r))},u=()=>{l(e,s,n,r)},f=m=>{c(e,s,m)};return i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(o,{className:"w-4 h-4"}),t]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:n,onChange:d,placeholder:a,className:"bg-input border-border text-foreground flex-1",onKeyDown:h,"data-testid":`input-${t.toLowerCase().replace(/\s+/g,"-")}`}),i.jsx(D,{type:"button",variant:"outline",size:"sm",onClick:u,className:"border-primary text-primary hover:bg-primary/20","data-testid":`button-add-${t.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsx(ci,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((m,b)=>i.jsxs(ze,{variant:"secondary",className:"bg-secondary text-secondary-foreground hover:bg-secondary/80",children:[m,i.jsx(D,{variant:"ghost",size:"sm",className:"ml-2 h-auto p-0 text-muted-foreground hover:text-foreground",onClick:()=>f(m),"data-testid":`button-remove-${t.toLowerCase().replace(/\s+/g,"-")}-${b}`,children:i.jsx(ds,{className:"w-3 h-3"})})]},b))})]})};function YG({user:t}){const{toast:e}=Ct(),[s,n]=p.useState(!1),[r,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,u]=p.useState(""),[f,m]=p.useState(""),[b,g]=p.useState(""),[x,y]=p.useState(""),[v,w]=p.useState(""),[S,N]=p.useState([]),[P,C]=p.useState([]),[_,A]=p.useState([]),[k,R]=p.useState([]),[O,$]=p.useState([]),[z,ee]=p.useState([]),[K,Z]=p.useState([]),[F,I]=p.useState(""),[U,H]=p.useState(""),[ce,Y]=p.useState(""),[xe,Ze]=p.useState(""),[Be,pe]=p.useState(""),[Se,We]=p.useState(""),[Ke,$e]=p.useState(""),[Oe,gt]=p.useState(""),[st,Q]=p.useState(""),[ue,Re]=p.useState("");p.useEffect(()=>{t&&s&&(a(t.bio||""),l(t.phoneNumber||""),d(t.kliqName||"My Kliq"),u(t.birthdate||""),m(t.securityAnswer1?"****":""),g(t.securityAnswer2?"****":""),y(t.securityAnswer3?"****":""),w(t.securityPin?"****":""),N(t.interests||[]),C(t.favoriteLocations||[]),A(t.favoriteFoods||[]),R(t.musicGenres||[]),$(t.hobbies||[]),ee(t.favoriteMovies||[]),Z(t.favoriteBooks||[]),I(t.relationshipStatus||""),H(t.petPreferences||""),Y(t.lifestyle||""))},[t,s]);const hs=Te({mutationFn:async T=>await fe("PUT","/api/user/profile",T),onSuccess:()=>{e({title:"Profile updated",description:"Your profile has been saved successfully."}),qi.invalidateQueries({queryKey:["/api/auth/user"]}),n(!1)},onError:T=>{e({title:"Update failed",description:T.message||"Failed to update profile",variant:"destructive"})}}),Sn=()=>{if(!h){e({title:"Birthdate Required",description:"Please provide your birthdate to save your profile.",variant:"destructive"});return}const T={bio:r,phoneNumber:o,kliqName:c,birthdate:h,interests:S,favoriteLocations:P,favoriteFoods:_,musicGenres:k,hobbies:O,favoriteMovies:z,favoriteBooks:K,relationshipStatus:F,petPreferences:U,lifestyle:ce};f&&f!=="****"&&(T.securityAnswer1=f),b&&b!=="****"&&(T.securityAnswer2=b),x&&x!=="****"&&(T.securityAnswer3=x),v&&v!=="****"&&(T.securityPin=v),hs.mutate(T)},Dt=(T,L,q,de)=>{q.trim()&&!T.includes(q.trim())&&(L([...T,q.trim()]),de(""))},Ae=(T,L,q)=>{L(T.filter(de=>de!==q))};return i.jsxs(Yt,{open:s,onOpenChange:n,children:[i.jsx(mi,{asChild:!0,children:i.jsxs(D,{variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary/20","data-testid":"button-edit-profile-settings",children:[i.jsx(al,{className:"w-4 h-4 mr-2"}),"Profile Settings"]})}),i.jsxs(Ut,{className:"bg-card border-border max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(zt,{children:[i.jsx(Bt,{className:"text-primary",children:"Profile Settings"}),i.jsx(jr,{className:"text-muted-foreground",children:"Manage your basic information, interests, and personal details"})]}),i.jsxs(wa,{defaultValue:"basic",className:"space-y-4",children:[i.jsxs(gi,{className:"grid w-full grid-cols-5 bg-muted",children:[i.jsx(Nt,{value:"basic",className:"data-[state=active]:bg-primary/20",children:"Basic Info"}),i.jsx(Nt,{value:"interests",className:"data-[state=active]:bg-primary/20",children:"Interests"}),i.jsx(Nt,{value:"favorites",className:"data-[state=active]:bg-primary/20",children:"Favorites"}),i.jsx(Nt,{value:"lifestyle",className:"data-[state=active]:bg-primary/20",children:"Lifestyle"}),i.jsx(Nt,{value:"entertainment",className:"data-[state=active]:bg-primary/20",children:"Entertainment"})]}),i.jsxs(It,{value:"basic",className:"space-y-4",children:[i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(Er,{className:"w-5 h-5"}),"Basic Information"]})}),i.jsx(J,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(Er,{className:"w-4 h-4"}),"Bio"]}),i.jsx(tr,{value:r,onChange:T=>a(T.target.value),placeholder:"Tell your kliq about yourself...",className:"bg-input border-border text-foreground",rows:3,"data-testid":"textarea-bio"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(cm,{className:"w-4 h-4"}),"Phone Number"]}),i.jsx(he,{value:o,onChange:T=>l(T.target.value),placeholder:"+1 (555) 123-4567",className:"bg-input border-border text-foreground","data-testid":"input-phone-number"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(bs,{className:"w-4 h-4"}),"Kliq Name"]}),i.jsx(he,{value:c,onChange:T=>d(T.target.value),placeholder:"My Kliq",className:"bg-input border-border text-foreground","data-testid":"input-kliq-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(li,{className:"w-4 h-4"}),"Birthdate *"]}),i.jsx(he,{type:"date",value:h,onChange:T=>u(T.target.value),className:"bg-input border-border text-foreground","data-testid":"input-birthdate",required:!0})]})]})})]}),i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(al,{className:"w-5 h-5"}),"Security Questions (Password Recovery)"]})}),i.jsx(J,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"1. What was your very first car you owned?"}),i.jsx(he,{value:f,onChange:T=>m(T.target.value),placeholder:"Enter your answer...",className:"bg-input border-border text-foreground","data-testid":"input-security-answer-1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"2. What is your mother's maiden last name?"}),i.jsx(he,{value:b,onChange:T=>g(T.target.value),placeholder:"Enter your answer...",className:"bg-input border-border text-foreground","data-testid":"input-security-answer-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"3. What is the last name of your favorite teacher in school?"}),i.jsx(he,{value:x,onChange:T=>y(T.target.value),placeholder:"Enter your answer...",className:"bg-input border-border text-foreground","data-testid":"input-security-answer-3"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"4-Digit Security PIN"}),i.jsx(he,{type:"password",value:v,onChange:T=>{const L=T.target.value.replace(/\D/g,"").slice(0,4);w(L)},placeholder:"Enter 4-digit PIN...",className:"bg-input border-border text-foreground",maxLength:4,"data-testid":"input-security-pin"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This PIN adds an extra layer of security for password recovery"})]})]})})]})]}),i.jsx(It,{value:"interests",className:"space-y-4",children:i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(vn,{className:"w-5 h-5"}),"Your Interests"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(Ca,{label:"Interests",items:S,setItems:N,newItem:xe,setNewItem:Ze,placeholder:"e.g., Photography, Travel, Technology",icon:vn,onAddItem:Dt,onRemoveItem:Ae}),i.jsx(Ca,{label:"Hobbies",items:O,setItems:$,newItem:Oe,setNewItem:gt,placeholder:"e.g., Reading, Gaming, Cooking",icon:R0,onAddItem:Dt,onRemoveItem:Ae})]})]})}),i.jsx(It,{value:"favorites",className:"space-y-4",children:i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(oa,{className:"w-5 h-5"}),"Favorites"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(Ca,{label:"Favorite Locations",items:P,setItems:C,newItem:Be,setNewItem:pe,placeholder:"e.g., Paris, Tokyo, New York",icon:oa,onAddItem:Dt,onRemoveItem:Ae}),i.jsx(Ca,{label:"Favorite Foods",items:_,setItems:A,newItem:Se,setNewItem:We,placeholder:"e.g., Pizza, Sushi, Tacos",icon:L0,onAddItem:Dt,onRemoveItem:Ae}),i.jsx(Ca,{label:"Music Genres",items:k,setItems:R,newItem:Ke,setNewItem:$e,placeholder:"e.g., Pop, Rock, Hip-Hop",icon:Yn,onAddItem:Dt,onRemoveItem:Ae})]})]})}),i.jsx(It,{value:"lifestyle",className:"space-y-4",children:i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(bs,{className:"w-5 h-5"}),"Lifestyle & Status"]})}),i.jsx(J,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(vn,{className:"w-4 h-4"}),"Relationship Status"]}),i.jsxs(tn,{value:F,onValueChange:I,children:[i.jsx(qs,{className:"bg-input border-border text-foreground","data-testid":"select-relationship-status",children:i.jsx(sn,{placeholder:"Select relationship status"})}),i.jsxs(Hs,{className:"bg-popover border-border",children:[i.jsx(be,{value:"single",children:"Single"}),i.jsx(be,{value:"taken",children:"Taken"}),i.jsx(be,{value:"married",children:"Married"}),i.jsx(be,{value:"complicated",children:"It's complicated"}),i.jsx(be,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"Pet Preferences"}),i.jsxs(tn,{value:U,onValueChange:H,children:[i.jsx(qs,{className:"bg-input border-border text-foreground","data-testid":"select-pet-preferences",children:i.jsx(sn,{placeholder:"Select pet preferences"})}),i.jsxs(Hs,{className:"bg-popover border-border",children:[i.jsx(be,{value:"dogs",children:"Dogs"}),i.jsx(be,{value:"cats",children:"Cats"}),i.jsx(be,{value:"both",children:"Both Dogs & Cats"}),i.jsx(be,{value:"other",children:"Other Pets"}),i.jsx(be,{value:"none",children:"No Pets"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"Lifestyle"}),i.jsxs(tn,{value:ce,onValueChange:Y,children:[i.jsx(qs,{className:"bg-input border-border text-foreground","data-testid":"select-lifestyle",children:i.jsx(sn,{placeholder:"Select lifestyle"})}),i.jsxs(Hs,{className:"bg-popover border-border",children:[i.jsx(be,{value:"active",children:"Active"}),i.jsx(be,{value:"relaxed",children:"Relaxed"}),i.jsx(be,{value:"adventurous",children:"Adventurous"}),i.jsx(be,{value:"homebody",children:"Homebody"}),i.jsx(be,{value:"social",children:"Social"}),i.jsx(be,{value:"creative",children:"Creative"})]})]})]})]})})]})}),i.jsx(It,{value:"entertainment",className:"space-y-4",children:i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(Jl,{className:"w-5 h-5"}),"Entertainment"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(Ca,{label:"Favorite Movies",items:z,setItems:ee,newItem:st,setNewItem:Q,placeholder:"e.g., The Matrix, Inception, Avengers",icon:Jl,onAddItem:Dt,onRemoveItem:Ae}),i.jsx(Ca,{label:"Favorite Books",items:K,setItems:Z,newItem:ue,setNewItem:Re,placeholder:"e.g., Harry Potter, 1984, The Hobbit",icon:F0,onAddItem:Dt,onRemoveItem:Ae})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[i.jsx(D,{variant:"outline",onClick:()=>n(!1),className:"border-border text-foreground hover:bg-muted","data-testid":"button-cancel-profile-settings",children:"Cancel"}),i.jsx(D,{onClick:Sn,disabled:hs.isPending,className:"bg-primary hover:bg-primary/90 text-primary-foreground","data-testid":"button-save-profile-settings",children:hs.isPending?"Saving...":"Save Changes"})]})]})]})}function QG({user:t}){var l,c,d,h,u,f,m,b,g,x,y,v,w,S;const{translatePost:e}=km();if(!t)return null;if(!(((l=t.interests)==null?void 0:l.length)>0||((c=t.favoriteLocations)==null?void 0:c.length)>0||((d=t.favoriteFoods)==null?void 0:d.length)>0||((h=t.musicGenres)==null?void 0:h.length)>0||((u=t.hobbies)==null?void 0:u.length)>0||((f=t.favoriteMovies)==null?void 0:f.length)>0||((m=t.favoriteBooks)==null?void 0:m.length)>0||t.relationshipStatus||t.petPreferences||t.lifestyle))return i.jsx(X,{className:"bg-card/50 border-border",children:i.jsx(J,{className:"p-6 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No profile details added yet"})})});const n=({title:N,items:P,icon:C,singleValue:_})=>_?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium",children:[i.jsx(C,{className:"w-4 h-4"}),N]}),i.jsx("div",{className:"text-foreground",children:e(_)})]}):!P||P.length===0?null:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium",children:[i.jsx(C,{className:"w-4 h-4"}),N]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((A,k)=>i.jsx(ze,{variant:"secondary",className:"bg-secondary text-secondary-foreground hover:bg-secondary/80",children:e(A)},k))})]}),r=N=>{switch(N){case"single":return"Single";case"taken":return"In a relationship";case"married":return"Married";case"complicated":return"It's complicated";case"prefer-not-to-say":return"Prefer not to say";default:return N}},a=N=>{switch(N){case"dogs":return"Dog lover";case"cats":return"Cat lover";case"both":return"Loves dogs & cats";case"other":return"Other pets";case"none":return"No pets";default:return N}},o=N=>N.charAt(0).toUpperCase()+N.slice(1);return i.jsxs("div",{className:"space-y-4",children:[(((b=t.interests)==null?void 0:b.length)>0||((g=t.hobbies)==null?void 0:g.length)>0)&&i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(vn,{className:"w-5 h-5"}),e("Interests & Hobbies")]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(n,{title:e("Interests"),items:t.interests,icon:vn}),i.jsx(n,{title:e("Hobbies"),items:t.hobbies,icon:R0})]})]}),(((x=t.favoriteLocations)==null?void 0:x.length)>0||((y=t.favoriteFoods)==null?void 0:y.length)>0||((v=t.musicGenres)==null?void 0:v.length)>0)&&i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(oa,{className:"w-5 h-5"}),e("Favorites")]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(n,{title:e("Places"),items:t.favoriteLocations,icon:oa}),i.jsx(n,{title:e("Foods"),items:t.favoriteFoods,icon:L0}),i.jsx(n,{title:e("Music Genres"),items:t.musicGenres,icon:Yn})]})]}),(t.relationshipStatus||t.petPreferences||t.lifestyle)&&i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(bs,{className:"w-5 h-5"}),e("Lifestyle & Status")]})}),i.jsxs(J,{className:"space-y-4",children:[t.relationshipStatus&&i.jsx(n,{title:e("Relationship Status"),singleValue:e(r(t.relationshipStatus)),icon:vn}),t.petPreferences&&i.jsx(n,{title:e("Pet Preferences"),singleValue:e(a(t.petPreferences)),icon:ZI}),t.lifestyle&&i.jsx(n,{title:e("Lifestyle"),singleValue:e(o(t.lifestyle)),icon:bs})]})]}),(((w=t.favoriteMovies)==null?void 0:w.length)>0||((S=t.favoriteBooks)==null?void 0:S.length)>0)&&i.jsxs(X,{className:"bg-card/50 border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(Jl,{className:"w-5 h-5"}),e("Entertainment")]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsx(n,{title:e("Movies"),items:t.favoriteMovies,icon:Jl}),i.jsx(n,{title:e("Books"),items:t.favoriteBooks,icon:F0})]})]})]})}const ZG=Qu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Pi=p.forwardRef(({className:t,variant:e,...s},n)=>i.jsx("div",{ref:n,role:"alert",className:te(ZG({variant:e}),t),...s}));Pi.displayName="Alert";const XG=p.forwardRef(({className:t,...e},s)=>i.jsx("h5",{ref:s,className:te("mb-1 font-medium leading-none tracking-tight",t),...e}));XG.displayName="AlertTitle";const _i=p.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:te("text-sm [&_p]:leading-relaxed",t),...e}));_i.displayName="AlertDescription";function Q4(t){return new Promise(e=>{const s=t.name.toLowerCase();if(s.endsWith(".m4p")){e(!0);return}if(s.endsWith(".m4a")||s.endsWith(".aac")){const r=new FileReader;r.onload=a=>{var h;const o=(h=a.target)==null?void 0:h.result,l=new Uint8Array(o,0,Math.min(1024,o.byteLength)),c=Array.from(l).map(u=>String.fromCharCode(u)).join(""),d=c.includes("sinf")||c.includes("schi")||c.includes("user");e(d)},r.onerror=()=>e(!1),r.readAsArrayBuffer(t.slice(0,1024))}else e(!1)})}function yx(t){const e=t.name.toLowerCase().substring(t.name.lastIndexOf(".")),s=[".wav",".flac",".aiff"].includes(e),n=[".mp3",".m4a",".aac",".ogg"].includes(e);return{extension:e,isLossless:s,isCompressed:n,isDRM:e===".m4p",needsConversion:s&&t.size>5*1024*1024}}async function JG(t){try{const e=yx(t);if(e.isDRM)return{success:!1,error:"Cannot convert DRM-protected files. Please use legitimate desktop software to convert this file first.",originalFormat:e.extension};if(e.extension===".mp3")return{success:!0,blob:t,originalFormat:e.extension,targetFormat:".mp3"};const s=await t.arrayBuffer(),n=new(window.AudioContext||window.webkitAudioContext);try{const r=await n.decodeAudioData(s);return{success:!0,blob:await eY(r,n),originalFormat:e.extension,targetFormat:".wav"}}finally{n.close()}}catch(e){return console.error("Audio conversion error:",e),{success:!1,error:`Failed to convert audio: ${e instanceof Error?e.message:"Unknown error"}`,originalFormat:yx(t).extension}}}async function eY(t,e){const s=t.numberOfChannels,n=t.sampleRate,r=t.length*s*2,a=new ArrayBuffer(44+r),o=new DataView(a),l=(h,u)=>{for(let f=0;f<u.length;f++)o.setUint8(h+f,u.charCodeAt(f))};l(0,"RIFF"),o.setUint32(4,36+r,!0),l(8,"WAVE"),l(12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,s,!0),o.setUint32(24,n,!0),o.setUint32(28,n*s*2,!0),o.setUint16(32,s*2,!0),o.setUint16(34,16,!0),l(36,"data"),o.setUint32(40,r,!0);const c=[];for(let h=0;h<s;h++)c.push(t.getChannelData(h));let d=44;for(let h=0;h<t.length;h++)for(let u=0;u<s;u++){const f=Math.max(-1,Math.min(1,c[u][h]));o.setInt16(d,f*32767,!0),d+=2}return new Blob([a],{type:"audio/wav"})}async function tY(t){const e=yx(t);return await Q4(t)?{canProcess:!1,recommendation:"DRM-protected file detected",message:"This file has copy protection that prevents web playback. Here are legitimate conversion options:",suggestedTools:["iTunes: Burn to CD  Re-import as MP3/AAC","TunesKit: Professional DRM removal (paid)","Requiem: Open-source iTunes DRM removal","Purchase DRM-free version from artist/label","Stream from music services instead"],detailedSteps:{iTunes:["Create a new playlist with your protected songs","Insert a blank CD and burn the playlist","Re-import the CD as MP3 or AAC format","The imported files will be DRM-free"],Alternative:["Check if the artist offers DRM-free downloads","Purchase from DRM-free stores like Bandcamp","Use streaming services for web playback"]}}:e.needsConversion?{canProcess:!0,recommendation:"Convert to compressed format",message:"Large lossless file detected. Converting will optimize for web playback while maintaining quality.",suggestedTools:["Auto-convert to web-optimized format"],benefits:["Faster upload and download times","Reduced storage space usage","Better streaming performance","Maintained audio quality for web use"]}:e.extension===".mp3"&&t.size>8*1024*1024?{canProcess:!0,recommendation:"Large MP3 file",message:"This MP3 file is quite large. Consider re-encoding at a lower bitrate for web use.",suggestedTools:["Auto-optimize bitrate for web playback"],benefits:["Faster loading","Reduced bandwidth usage"]}:{canProcess:!0,recommendation:"File ready to use",message:"This file format is optimized and ready for upload.",suggestedTools:[],benefits:["Perfect for web playback","No conversion needed"]}}function sY({fileName:t,fileFormat:e,onClose:s}){const[n,r]=p.useState("itunes"),a={itunes:{title:"iTunes Method",difficulty:"Easy",cost:"Free",time:"10-15 minutes",legal:!0,steps:["Open iTunes and create a new playlist","Add your protected music files to the playlist","Insert a blank CD into your computer","Right-click the playlist and select 'Burn Playlist to Disc'","Choose 'Audio CD' format and burn the disc","Once burned, re-import the CD as MP3 or AAC","The imported files will be DRM-free and ready to use"],pros:["100% legal","Uses official Apple software","High quality output"],cons:["Requires blank CDs","Takes some time","Need CD drive"]},software:{title:"Desktop Software",difficulty:"Medium",cost:"Free - $50",time:"5-10 minutes",legal:!0,steps:["Download reputable DRM removal software","Install and launch the application","Add your protected music files","Select output format (MP3 recommended)","Start the conversion process","Wait for conversion to complete","Upload the converted files to MyKliq"],recommendedSoftware:[{name:"TunesKit",price:"$45",rating:"4.5/5"},{name:"DRmare",price:"$35",rating:"4.3/5"},{name:"Sidify",price:"$40",rating:"4.4/5"}],pros:["Fast conversion","Batch processing","High quality"],cons:["Costs money","Need to download software"]},alternative:{title:"Alternative Sources",difficulty:"Easy",cost:"Varies",time:"2-5 minutes",legal:!0,steps:["Check if the artist offers DRM-free downloads","Look for the same music on DRM-free platforms","Purchase from stores like Bandcamp, Amazon MP3","Download high-quality DRM-free version","Upload directly to MyKliq"],platforms:[{name:"Bandcamp",type:"Independent artists",drm:!1},{name:"Amazon Music",type:"MP3 downloads",drm:!1},{name:"7digital",type:"High-quality downloads",drm:!1},{name:"HDtracks",type:"High-res audio",drm:!1}],pros:["Instant access","Support artists directly","Often higher quality"],cons:["May cost extra","Not all music available"]}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs(X,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[i.jsx(Ce,{className:"border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Yn,{className:"w-6 h-6 text-pink-400"}),i.jsxs("div",{children:[i.jsx(Pe,{className:"text-white",children:"DRM Conversion Guide"}),i.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:['How to convert "',t,'" for web use']})]})]}),i.jsx(D,{variant:"ghost",onClick:s,className:"text-gray-400",children:""})]})}),i.jsxs(J,{className:"p-6",children:[i.jsxs(Pi,{className:"mb-6 border-amber-500/30 bg-amber-500/10",children:[i.jsx(sc,{className:"w-4 h-4 text-amber-400"}),i.jsxs(_i,{className:"text-amber-300",children:[i.jsx("strong",{children:"Important:"})," We respect copyright laws. These methods are for personal use only and help you enjoy music you legally own."]})]}),i.jsxs(wa,{value:n,onValueChange:r,className:"space-y-4",children:[i.jsxs(gi,{className:"grid w-full grid-cols-3 bg-gray-800",children:[i.jsxs(Nt,{value:"itunes",className:"text-white",children:[i.jsx(LI,{className:"w-4 h-4 mr-2"}),"iTunes"]}),i.jsxs(Nt,{value:"software",className:"text-white",children:[i.jsx($I,{className:"w-4 h-4 mr-2"}),"Software"]}),i.jsxs(Nt,{value:"alternative",className:"text-white",children:[i.jsx(ia,{className:"w-4 h-4 mr-2"}),"Alternatives"]})]}),Object.entries(a).map(([o,l])=>i.jsxs(It,{value:o,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(X,{className:"bg-gray-800 border-gray-600",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Difficulty"}),i.jsx(ze,{variant:l.difficulty==="Easy"?"default":"secondary",className:"mt-1",children:l.difficulty})]})}),i.jsx(X,{className:"bg-gray-800 border-gray-600",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Cost"}),i.jsx("div",{className:"text-white font-medium mt-1",children:l.cost})]})}),i.jsx(X,{className:"bg-gray-800 border-gray-600",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Time"}),i.jsx("div",{className:"text-white font-medium mt-1",children:l.time})]})}),i.jsx(X,{className:"bg-gray-800 border-gray-600",children:i.jsxs(J,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Legal"}),i.jsx(pv,{className:"w-5 h-5 text-green-400 mx-auto mt-1"})]})})]}),i.jsxs(X,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Ce,{children:i.jsx(Pe,{className:"text-white text-lg",children:"Step-by-Step Instructions"})}),i.jsx(J,{className:"space-y-3",children:l.steps.map((c,d)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 text-white text-sm flex items-center justify-center flex-shrink-0",children:d+1}),i.jsx("div",{className:"text-gray-300",children:c})]},d))})]}),o==="software"&&l.recommendedSoftware&&i.jsxs(X,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Ce,{children:i.jsx(Pe,{className:"text-white text-lg",children:"Recommended Software"})}),i.jsx(J,{children:i.jsx("div",{className:"grid gap-3",children:l.recommendedSoftware.map((c,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-medium",children:c.name}),i.jsxs("div",{className:"text-sm text-gray-400",children:["Rating: ",c.rating]})]}),i.jsx(ze,{variant:"outline",className:"text-green-400 border-green-400",children:c.price})]},d))})})]}),o==="alternative"&&l.platforms&&i.jsxs(X,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Ce,{children:i.jsx(Pe,{className:"text-white text-lg",children:"DRM-Free Platforms"})}),i.jsx(J,{children:i.jsx("div",{className:"grid gap-3",children:l.platforms.map((c,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-medium",children:c.name}),i.jsx("div",{className:"text-sm text-gray-400",children:c.type})]}),i.jsx(ze,{className:"bg-green-500/20 text-green-400",children:"DRM-Free"})]},d))})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs(X,{className:"bg-green-500/10 border-green-500/30",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-green-400 text-lg flex items-center gap-2",children:[i.jsx(pv,{className:"w-5 h-5"}),"Pros"]})}),i.jsx(J,{children:i.jsx("ul",{className:"space-y-1",children:l.pros.map((c,d)=>i.jsxs("li",{className:"text-green-300 text-sm",children:[" ",c]},d))})})]}),i.jsxs(X,{className:"bg-yellow-500/10 border-yellow-500/30",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-yellow-400 text-lg flex items-center gap-2",children:[i.jsx(Do,{className:"w-5 h-5"}),"Considerations"]})}),i.jsx(J,{children:i.jsx("ul",{className:"space-y-1",children:l.cons.map((c,d)=>i.jsxs("li",{className:"text-yellow-300 text-sm",children:[" ",c]},d))})})]})]})]},o))]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(VI,{className:"w-5 h-5 text-blue-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-blue-400 font-medium",children:"After Conversion"}),i.jsx("p",{className:"text-blue-300 text-sm mt-1",children:"Once you've converted your music using any of these methods, simply upload the new DRM-free files to MyKliq. They'll work perfectly for profile music and sharing with your kliq!"})]})]})})]})]})})}function nY({currentMusicUrl:t,currentMusicTitle:e,userId:s}){const[n,r]=p.useState(!1),[a,o]=p.useState(e||""),[l,c]=p.useState(null),[d,h]=p.useState(null),[u,f]=p.useState(""),[m,b]=p.useState(!1),[g,x]=p.useState(!1),[y,v]=p.useState(null),[w,S]=p.useState(!1),[N,P]=p.useState(null),[C,_]=p.useState("upload"),{toast:A}=Ct(),k=js(),R=Te({mutationFn:async({file:U,title:H})=>{b(!0);try{const ce=await fetch("/api/objects/upload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!ce.ok)throw new Error("Failed to get upload URL");const Y=await ce.json(),{uploadURL:xe}=Y;if(!(await fetch(xe,{method:"PUT",body:U,headers:{"Content-Type":U.type}})).ok)throw new Error("Failed to upload music file");return await fe("PUT","/api/user/profile-music",{musicUrl:xe.split("?")[0],musicTitle:H})}finally{b(!1)}},onSuccess:()=>{A({title:"Music uploaded!",description:"Your profile music has been updated."}),k.invalidateQueries({queryKey:["/api/auth/user"]}),r(!1),c(null)},onError:U=>{A({title:"Upload failed",description:U.message||"Failed to upload music file",variant:"destructive"})}}),O=Te({mutationFn:async({url:U,title:H})=>await fe("PUT","/api/user/profile-music",{musicUrl:U,musicTitle:H}),onSuccess:()=>{A({title:"Success",description:"Profile music updated successfully!"}),k.invalidateQueries({queryKey:["/api/auth/user"]}),r(!1),f(""),o("")},onError:U=>{A({title:"Error",description:U.message||"Failed to update profile music",variant:"destructive"})}}),$=Te({mutationFn:async()=>await fe("DELETE","/api/user/profile-music"),onSuccess:()=>{A({title:"Music removed",description:"Your profile music has been removed."}),k.invalidateQueries({queryKey:["/api/auth/user"]})},onError:U=>{A({title:"Remove failed",description:U.message||"Failed to remove music",variant:"destructive"})}}),z=async U=>{var pe;const H=(pe=U.target.files)==null?void 0:pe[0];if(!H)return;const ce=["audio/","application/x-m4p"],Y=[".mp3",".wav",".m4a",".m4p",".aac",".ogg",".flac"],xe=H.name.toLowerCase().substring(H.name.lastIndexOf("."));if(!(ce.some(Se=>H.type.startsWith(Se))||Y.includes(xe))){A({title:"Invalid file type",description:"Please select an audio file (MP3, WAV, M4A, M4P, AAC, OGG, FLAC)",variant:"destructive"});return}if(H.size>15*1024*1024){A({title:"File too large",description:"Please select a file smaller than 15MB",variant:"destructive"});return}c(H),h(null),P(null);const Be=await tY(H);v(Be),a||o(H.name.replace(/\.[^/.]+$/,"")),Be.canProcess&&Be.recommendation!=="File ready to use"&&await ee(H)},ee=async U=>{x(!0);try{const H=await JG(U);if(P(H),H.success&&H.blob){const ce=new File([H.blob],U.name.replace(/\.[^/.]+$/,".wav"),{type:"audio/wav"});h(ce),A({title:"Conversion successful",description:`File converted from ${H.originalFormat} to optimized format`})}else A({title:"Conversion failed",description:H.error||"Unable to convert file",variant:"destructive"})}catch{A({title:"Processing error",description:"An unexpected error occurred during conversion",variant:"destructive"})}finally{x(!1)}},K=async()=>{const U=d||l;if(!U||!a.trim()){A({title:"Missing information",description:"Please select a file and enter a title",variant:"destructive"});return}if(await Q4(l)&&!d){A({title:"Cannot upload DRM-protected file",description:"Please convert this file using desktop software first",variant:"destructive"});return}R.mutate({file:U,title:a.trim()})},Z=()=>{if(!u.trim()||!a.trim()){A({title:"Missing information",description:"Please enter both a URL and title",variant:"destructive"});return}try{new URL(u)}catch{A({title:"Invalid URL",description:"Please enter a valid URL",variant:"destructive"});return}O.mutate({url:u.trim(),title:a.trim()})},F=U=>{try{const H=new URL(U);if(H.hostname.includes("youtube.com")||H.hostname.includes("youtu.be")){const xe=new URLSearchParams(H.search);let Ze="";return H.hostname.includes("youtube.com")?Ze=xe.get("v")||"":H.hostname.includes("youtu.be")&&(Ze=H.pathname.split("/").pop()||""),Ze?`YouTube Music - ${Ze}`:"YouTube Music"}if(H.hostname.includes("soundcloud.com")){const xe=H.pathname.split("/").filter(Boolean);return xe.length>=2?decodeURIComponent(xe[xe.length-1].replace(/-/g," ")):"SoundCloud Track"}const ce=H.pathname.split("/").filter(Boolean),Y=ce[ce.length-1];return Y&&Y.includes(".")?decodeURIComponent(Y.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ")):`Music from ${H.hostname}`}catch{return""}},I=U=>{if(f(U),!a&&U){const H=F(U);H&&o(H)}};return i.jsxs("div",{className:"space-y-2",children:[t&&i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-pink-500/20 rounded-lg",children:[i.jsx(Yn,{className:"w-4 h-4 text-pink-400"}),i.jsx("span",{className:"text-sm text-pink-400 flex-1 truncate",children:e||"Profile Music"}),i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>$.mutate(),disabled:$.isPending,className:"text-destructive hover:text-destructive/80 hover:bg-destructive/10","data-testid":"button-remove-music",children:i.jsx(tc,{className:"w-3 h-3"})})]}),i.jsxs(Yt,{open:n,onOpenChange:r,children:[i.jsx(mi,{asChild:!0,children:i.jsxs(D,{variant:"outline",size:"sm",className:"w-full border-primary text-primary hover:bg-primary/10","data-testid":"button-upload-music",children:[i.jsx(Yn,{className:"w-4 h-4 mr-2"}),t?"Change Music":"Add Profile Music"]})}),i.jsxs(Ut,{className:"bg-card border-border max-w-lg",children:[i.jsxs(zt,{children:[i.jsx(Bt,{className:"text-primary",children:"Add Profile Music"}),i.jsx(jr,{className:"text-muted-foreground",children:"Upload a music file or paste a web URL to set your profile music"})]}),i.jsxs(wa,{value:C,onValueChange:_,className:"w-full",children:[i.jsxs(gi,{className:"grid w-full grid-cols-2 bg-muted",children:[i.jsxs(Nt,{value:"upload",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(Jf,{className:"w-4 h-4 mr-1"}),"Upload File"]}),i.jsxs(Nt,{value:"url",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(gv,{className:"w-4 h-4 mr-1"}),"Web URL"]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx(je,{htmlFor:"music-title",className:"text-foreground",children:"Song Title"}),i.jsx(he,{id:"music-title",value:a,onChange:U=>o(U.target.value),placeholder:"Enter song title",className:"bg-input border-border text-foreground","data-testid":"input-music-title"})]}),i.jsxs(It,{value:"upload",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"music-file",className:"text-foreground",children:"Audio File (MP3, WAV, M4A, M4P, AAC, OGG, FLAC)"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Note: M4P files with DRM protection may not play in web browsers"}),i.jsxs("div",{className:"mt-2",children:[i.jsx(he,{id:"music-file",type:"file",accept:"audio/*,.m4p,.m4a,.mp3,.wav,.aac,.ogg,.flac",onChange:z,className:"bg-gray-700 border-gray-600 text-white file:bg-pink-500 file:text-white file:border-0 file:rounded file:px-3 file:py-1","data-testid":"input-music-file"}),l&&i.jsx("div",{className:"mt-2 space-y-2",children:i.jsxs("div",{className:"p-3 bg-muted rounded border",children:[i.jsxs("p",{className:"text-sm text-foreground font-medium",children:["Selected: ",l.name," (",Math.round(l.size/1024),"KB)"]}),g&&i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-primary",children:[i.jsx(Ra,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Processing file..."})]}),d&&i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-primary",children:[i.jsx(al,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["Converted: ",d.name," (",Math.round(d.size/1024),"KB)"]})]}),y&&i.jsx(Pi,{className:`mt-2 ${y.canProcess?y.recommendation==="File ready to use"?"border-primary/30 bg-primary/10":"border-secondary/30 bg-secondary/10":"border-destructive/30 bg-destructive/10"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[y.canProcess?y.recommendation==="File ready to use"?i.jsx(Do,{className:"w-4 h-4 text-primary mt-0.5"}):i.jsx(al,{className:"w-4 h-4 text-secondary-foreground mt-0.5"}):i.jsx(sc,{className:"w-4 h-4 text-destructive mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:`font-medium text-sm ${y.canProcess?y.recommendation==="File ready to use"?"text-primary":"text-secondary-foreground":"text-destructive"}`,children:y.recommendation}),i.jsx(_i,{className:"text-xs text-muted-foreground mt-1",children:y.message}),y.suggestedTools.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Suggestions:"}),i.jsx("ul",{className:"text-xs text-foreground space-y-1",children:y.suggestedTools.map((U,H)=>i.jsxs("li",{className:"flex items-start gap-1",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:U})]},H))}),!y.canProcess&&i.jsxs(D,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"mt-2 text-xs border-muted-foreground text-muted-foreground hover:bg-muted",children:[i.jsx(Do,{className:"w-3 h-3 mr-1"}),"View Detailed Guide"]})]})]})]})})]})})]})]}),l&&y&&!y.canProcess&&i.jsxs(Pi,{className:"border-muted bg-muted/10",children:[i.jsx(sc,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs(_i,{className:"text-muted-foreground",children:[i.jsx("div",{className:"font-medium mb-2",children:"DRM-Protected File Detected"}),i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsx("p",{children:"This file contains copy protection that prevents web playback."}),i.jsxs(D,{onClick:()=>S(!0),variant:"outline",size:"sm",className:"border-muted-foreground text-muted-foreground hover:bg-muted",children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),"View Conversion Guide"]})]})]})]}),l&&!d&&(y==null?void 0:y.canProcess)&&(y==null?void 0:y.recommendation)==="Convert to compressed format"&&i.jsx(D,{onClick:()=>ee(l),disabled:g,variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/10",children:g?i.jsxs(i.Fragment,{children:[i.jsx(Ra,{className:"w-4 h-4 mr-2 animate-spin"}),"Converting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(al,{className:"w-4 h-4 mr-2"}),"Convert to Optimized Format"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(D,{onClick:K,disabled:!l||!a.trim()||m||g||!(y!=null&&y.canProcess)&&!d,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground disabled:opacity-50","data-testid":"button-confirm-upload",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Ra,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Upload ",d?"Converted ":"","Music"]})}),i.jsx(D,{variant:"ghost",onClick:()=>{r(!1),c(null),h(null),v(null),P(null),o(e||"")},disabled:m||g,className:"text-muted-foreground hover:text-foreground hover:bg-muted","data-testid":"button-cancel-upload",children:"Cancel"})]})]}),i.jsxs(It,{value:"url",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"music-url",className:"text-foreground",children:"Music URL"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a YouTube link for embedded player or direct audio file URL"}),i.jsx("div",{className:"mt-2",children:i.jsx(he,{id:"music-url",type:"url",value:u,onChange:U=>I(U.target.value),placeholder:"https://www.youtube.com/watch?v=dQw4w9WgXcQ or direct audio URL",className:"bg-input border-border text-foreground","data-testid":"input-music-url"})}),u&&i.jsxs("div",{className:"mt-2 p-3 bg-muted rounded border",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(ia,{className:"w-4 h-4 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"URL Preview"}),i.jsx("p",{className:"text-xs text-primary break-all",children:u})]})]}),u.includes("youtube.com")||u.includes("youtu.be")?i.jsxs(Pi,{className:"mt-2 border-primary/30 bg-primary/10",children:[i.jsx(Yn,{className:"w-4 h-4 text-primary"}),i.jsxs(_i,{className:"text-foreground text-xs",children:[i.jsx("div",{className:"font-medium mb-1",children:"YouTube Music Detected"}),i.jsx("p",{children:"Perfect! This will show as a YouTube embed player on your profile for easy music sharing."})]})]}):u.includes("soundcloud.com")?i.jsxs(Pi,{className:"mt-2 border-secondary/30 bg-secondary/10",children:[i.jsx(Do,{className:"w-4 h-4 text-secondary-foreground"}),i.jsxs(_i,{className:"text-foreground text-xs",children:[i.jsx("div",{className:"font-medium mb-1",children:"SoundCloud Link"}),i.jsx("p",{children:"SoundCloud links should work well for profile music playback."})]})]}):i.jsxs(Pi,{className:"mt-2 border-muted/30 bg-muted/10",children:[i.jsx(Do,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs(_i,{className:"text-muted-foreground text-xs",children:[i.jsx("div",{className:"font-medium mb-1",children:"Direct Audio URL"}),i.jsx("p",{children:"Make sure this URL directly points to an audio file (MP3, WAV, etc.) for best compatibility."})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(D,{onClick:Z,disabled:!u.trim()||!a.trim()||O.isPending,className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground disabled:opacity-50","data-testid":"button-save-url",children:O.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ra,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(gv,{className:"w-4 h-4 mr-2"}),"Save Music URL"]})}),i.jsx(D,{variant:"ghost",onClick:()=>{r(!1),f(""),o(e||"")},disabled:O.isPending,className:"text-muted-foreground hover:text-foreground hover:bg-muted","data-testid":"button-cancel-url",children:"Cancel"})]})]})]})]})]}),w&&l&&i.jsx(sY,{fileName:l.name,fileFormat:l.name.substring(l.name.lastIndexOf(".")),onClose:()=>S(!1)})]})}var Z4=["PageUp","PageDown"],X4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jc="Slider",[vx,rY,iY]=Gu(jc),[eM,hJ]=Ns(jc,[iY]),[aY,Rm]=eM(jc),tM=p.forwardRef((t,e)=>{const{name:s,min:n=0,max:r=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:b,...g}=t,x=p.useRef(new Set),y=p.useRef(0),w=o==="horizontal"?oY:lY,[S=[],N]=Ar({prop:h,defaultProp:d,onChange:R=>{var $;($=[...x.current][y.current])==null||$.focus(),u(R)}}),P=p.useRef(S);function C(R){const O=fY(S,R);k(R,O)}function _(R){k(R,y.current)}function A(){const R=P.current[y.current];S[y.current]!==R&&f(S)}function k(R,O,{commit:$}={commit:!1}){const z=yY(a),ee=vY(Math.round((R-n)/a)*a+n,z),K=eu(ee,[n,r]);N((Z=[])=>{const F=uY(Z,K,O);if(gY(F,c*a)){y.current=F.indexOf(K);const I=String(F)!==String(Z);return I&&$&&f(F),I?F:Z}else return Z})}return i.jsx(aY,{scope:t.__scopeSlider,name:s,disabled:l,min:n,max:r,valueIndexToChangeRef:y,thumbs:x.current,values:S,orientation:o,form:b,children:i.jsx(vx.Provider,{scope:t.__scopeSlider,children:i.jsx(vx.Slot,{scope:t.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:ne(g.onPointerDown,()=>{l||(P.current=S)}),min:n,max:r,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&k(n,0,{commit:!0}),onEndKeyDown:()=>!l&&k(r,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:O})=>{if(!l){const ee=Z4.includes(R.key)||R.shiftKey&&X4.includes(R.key)?10:1,K=y.current,Z=S[K],F=a*ee*O;k(Z+F,K,{commit:!0})}}})})})})});tM.displayName=jc;var[sM,nM]=eM(jc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oY=p.forwardRef((t,e)=>{const{min:s,max:n,dir:r,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,[u,f]=p.useState(null),m=Le(e,w=>f(w)),b=p.useRef(void 0),g=bc(r),x=g==="ltr",y=x&&!a||!x&&a;function v(w){const S=b.current||u.getBoundingClientRect(),N=[0,S.width],C=Ib(N,y?[s,n]:[n,s]);return b.current=S,C(w-S.left)}return i.jsx(sM,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(rM,{dir:g,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=v(w.clientX);o==null||o(S)},onSlideMove:w=>{const S=v(w.clientX);l==null||l(S)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=J4[y?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:N?-1:1})}})})}),lY=p.forwardRef((t,e)=>{const{min:s,max:n,inverted:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,h=p.useRef(null),u=Le(e,h),f=p.useRef(void 0),m=!r;function b(g){const x=f.current||h.current.getBoundingClientRect(),y=[0,x.height],w=Ib(y,m?[n,s]:[s,n]);return f.current=x,w(g-x.top)}return i.jsx(sM,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(rM,{"data-orientation":"vertical",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=b(g.clientY);a==null||a(x)},onSlideMove:g=>{const x=b(g.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=J4[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),rM=p.forwardRef((t,e)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:r,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,h=Rm(jc,s);return i.jsx(Ne.span,{...d,ref:e,onKeyDown:ne(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(l(u),u.preventDefault()):Z4.concat(X4).includes(u.key)&&(c(u),u.preventDefault())}),onPointerDown:ne(t.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),h.thumbs.has(f)?f.focus():n(u)}),onPointerMove:ne(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&r(u)}),onPointerUp:ne(t.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),a(u))})})}),iM="SliderTrack",aM=p.forwardRef((t,e)=>{const{__scopeSlider:s,...n}=t,r=Rm(iM,s);return i.jsx(Ne.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:e})});aM.displayName=iM;var xx="SliderRange",oM=p.forwardRef((t,e)=>{const{__scopeSlider:s,...n}=t,r=Rm(xx,s),a=nM(xx,s),o=p.useRef(null),l=Le(e,o),c=r.values.length,d=r.values.map(f=>cM(f,r.min,r.max)),h=c>1?Math.min(...d):0,u=100-Math.max(...d);return i.jsx(Ne.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:h+"%",[a.endEdge]:u+"%"}})});oM.displayName=xx;var bx="SliderThumb",lM=p.forwardRef((t,e)=>{const s=rY(t.__scopeSlider),[n,r]=p.useState(null),a=Le(e,l=>r(l)),o=p.useMemo(()=>n?s().findIndex(l=>l.ref.current===n):-1,[s,n]);return i.jsx(cY,{...t,ref:a,index:o})}),cY=p.forwardRef((t,e)=>{const{__scopeSlider:s,index:n,name:r,...a}=t,o=Rm(bx,s),l=nM(bx,s),[c,d]=p.useState(null),h=Le(e,v=>d(v)),u=c?o.form||!!c.closest("form"):!0,f=Y0(c),m=o.values[n],b=m===void 0?0:cM(m,o.min,o.max),g=hY(n,o.values.length),x=f==null?void 0:f[l.size],y=x?pY(x,b,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${y}px)`},children:[i.jsx(vx.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Ne.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:m===void 0?{display:"none"}:t.style,onFocus:ne(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),u&&i.jsx(dY,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});lM.displayName=bx;var dY=t=>{const{value:e,...s}=t,n=p.useRef(null),r=_b(e);return p.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(r!==e&&c){const d=new Event("input",{bubbles:!0});c.call(a,e),a.dispatchEvent(d)}},[r,e]),i.jsx("input",{style:{display:"none"},...s,ref:n,defaultValue:e})};function uY(t=[],e,s){const n=[...t];return n[s]=e,n.sort((r,a)=>r-a)}function cM(t,e,s){const a=100/(s-e)*(t-e);return eu(a,[0,100])}function hY(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function fY(t,e){if(t.length===1)return 0;const s=t.map(r=>Math.abs(r-e)),n=Math.min(...s);return s.indexOf(n)}function pY(t,e,s){const n=t/2,a=Ib([0,50],[0,n]);return(n-a(e)*s)*s}function mY(t){return t.slice(0,-1).map((e,s)=>t[s+1]-e)}function gY(t,e){if(e>0){const s=mY(t);return Math.min(...s)>=e}return!0}function Ib(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function yY(t){return(String(t).split(".")[1]||"").length}function vY(t,e){const s=Math.pow(10,e);return Math.round(t*s)/s}var dM=tM,xY=aM,bY=oM,wY=lM;const wx=p.forwardRef(({className:t,...e},s)=>i.jsxs(dM,{ref:s,className:te("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(xY,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(bY,{className:"absolute h-full bg-primary"})}),i.jsx(wY,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));wx.displayName=dM.displayName;function uM({musicUrl:t,musicTitle:e,autoPlay:s=!0}){const n=p.useRef(null),[r,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(.7),[h,u]=p.useState(0),[f,m]=p.useState(0),[b,g]=p.useState(!1),[x,y]=p.useState(!1),[v,w]=p.useState(!1);p.useEffect(()=>{const R=t.includes("youtube.com")||t.includes("youtu.be");y(R),g(!1);const O=n.current;if(!O||R)return;const $=()=>u(O.currentTime),z=()=>m(O.duration),ee=()=>{g(!0),a(!1)};if(O.addEventListener("timeupdate",$),O.addEventListener("loadedmetadata",z),O.addEventListener("ended",()=>{O.currentTime=0,O.play().then(()=>a(!0)).catch(()=>a(!1))}),O.addEventListener("error",ee),O.loop=!0,g(!1),!R){const K=O.play();K!==void 0&&K.then(()=>{a(!0)}).catch(Z=>{console.log("Auto-play prevented:",Z)})}return()=>{O.removeEventListener("timeupdate",$),O.removeEventListener("loadedmetadata",z),O.removeEventListener("error",ee)}},[t,s]);const S=()=>{if(x){w(!v);return}const R=n.current;if(!(!R||b))if(r)R.pause(),a(!1);else{const O=R.play();O!==void 0&&O.then(()=>{a(!0)}).catch($=>{console.log("Playback failed:",$),g(!0)})}},N=()=>{const R=n.current;R&&(R.muted=!o,l(!o))},P=R=>{const O=R[0];d(O);const $=n.current;$&&($.volume=O,O>0&&o&&($.muted=!1,l(!1)))},C=R=>{const O=R[0];u(O);const $=n.current;$&&($.currentTime=O)},_=R=>{if(isNaN(R))return"0:00";const O=Math.floor(R/60),$=Math.floor(R%60);return`${O}:${$.toString().padStart(2,"0")}`},A=R=>{const O=R.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return(O==null?void 0:O[1])||null},k=()=>{window.open(t,"_blank","noopener,noreferrer")};if(x){const R=A(t);return i.jsx("div",{className:"bg-card border-border rounded-lg p-4 border",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Yn,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"text-primary font-medium flex-1 truncate",children:e}),i.jsx(D,{variant:"ghost",size:"sm",onClick:k,className:"text-muted-foreground hover:text-foreground",title:"Open on YouTube",children:i.jsx(ia,{className:"w-4 h-4"})})]}),R&&i.jsx("div",{className:"relative",children:i.jsx("iframe",{width:"100%",height:"300",src:`https://www.youtube.com/embed/${R}?autoplay=1&loop=1&playlist=${R}&rel=0&modestbranding=1&mute=0`,title:e,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"rounded-lg shadow-lg",style:{background:"linear-gradient(45deg, #1a1a1a, #2a2a2a)",minHeight:"300px"}})}),!R&&i.jsxs(Pi,{className:"border-destructive bg-destructive/10",children:[i.jsx(sc,{className:"w-4 h-4 text-destructive"}),i.jsxs(_i,{className:"text-destructive text-sm",children:[i.jsx("div",{className:"font-medium mb-1",children:"Invalid YouTube URL"}),i.jsx("p",{children:"Cannot extract video ID from this URL. Please check the link."})]})]}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[i.jsx("span",{children:"YouTube Music Player"}),i.jsx("span",{className:"bg-primary/20 px-2 py-1 rounded text-primary",children:"YOUTUBE"})]})]})})}return b?i.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Yn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Unable to load audio file"})]}),i.jsx(D,{variant:"ghost",size:"sm",onClick:k,className:"text-muted-foreground hover:text-foreground",children:i.jsx(ia,{className:"w-3 h-3"})})]}),i.jsx("p",{className:"text-xs text-destructive/80 mt-1",children:"Try opening the link directly or check if the URL is accessible."})]}):i.jsxs("div",{className:"bg-card border-border rounded-lg p-4 border",children:[i.jsx("audio",{ref:n,src:t,preload:"metadata",loop:!0,autoPlay:!0,onError:R=>{console.log("Audio playback error for:",t,R),a(!1),g(!0)},onCanPlay:()=>{g(!1)},onPlay:()=>a(!0),onPause:()=>a(!1)}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(Yn,{className:"w-5 h-5 text-primary"}),i.jsx("span",{className:"text-primary font-medium flex-1 truncate",children:e}),t.toLowerCase().endsWith(".m4p")&&i.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:"M4P"})]}),b&&i.jsx("div",{className:"mb-3 p-2 bg-destructive/10 border border-destructive/20 rounded text-destructive text-sm",children:t.toLowerCase().endsWith(".m4p")?"M4P files may have playback restrictions. Some protected iTunes files cannot be played in browsers.":"Unable to play this audio file. The format may not be supported."}),i.jsxs("div",{className:"mb-3",children:[i.jsx(wx,{value:[h],max:f||100,step:1,onValueChange:C,className:"w-full","data-testid":"slider-progress"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsx("span",{children:_(h)}),i.jsx("span",{children:_(f)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(D,{variant:"ghost",size:"sm",onClick:S,className:"text-primary hover:text-primary/80","data-testid":"button-play-pause",children:r?i.jsx(QI,{className:"w-4 h-4"}):i.jsx(ec,{className:"w-4 h-4"})}),i.jsx(D,{variant:"ghost",size:"sm",onClick:N,className:"text-primary hover:text-primary/80","data-testid":"button-mute",children:o||c===0?i.jsx(U0,{className:"w-4 h-4"}):i.jsx($0,{className:"w-4 h-4"})}),i.jsx("div",{className:"flex-1 mx-2",children:i.jsx(wx,{value:[c],max:1,step:.1,onValueChange:P,className:"w-full","data-testid":"slider-volume"})})]})]})}function jY(){var f;const{user:t}=ir(),{toast:e}=Ct(),s=js(),{data:n=[]}=it({queryKey:["/api/birthdays/today"]}),r=Te({mutationFn:async({birthdayUserId:m,message:b})=>await fe("POST","/api/birthdays/send-message",{birthdayUserId:m,message:b}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/posts"]}),e({title:"Success",description:"Birthday message sent!"})},onError:m=>{const b=m.message.includes("already sent")?"You've already sent a birthday message this year":"Failed to send birthday message";e({title:"Error",description:b,variant:"destructive"})}}),a=async()=>({method:"PUT",url:(await fe("POST","/api/objects/upload",{})).uploadURL}),o=Te({mutationFn:async m=>{await fe("PUT","/api/user/profile-picture",{profileImageUrl:m})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Success",description:"Profile picture updated successfully!"})},onError:m=>{e({title:"Error",description:"Failed to update profile picture",variant:"destructive"})}}),l=m=>{if(m.successful&&m.successful[0]){const b=m.successful[0].uploadURL;o.mutate(b)}},c=async()=>({method:"PUT",url:(await fe("POST","/api/objects/upload",{})).uploadURL}),d=Te({mutationFn:async m=>await fe("PATCH","/api/user/background",{backgroundImageUrl:m}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Success",description:"Background image updated successfully"})},onError:m=>{console.error("Background update error:",m),e({title:"Error",description:m.message||"Failed to update background image",variant:"destructive"})}}),h=m=>{if(m.successful&&m.successful[0]){const b=m.successful[0].uploadURL;d.mutate(b)}};if(!t)return i.jsx("div",{children:"Loading..."});const u=t;return i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(X,{children:[i.jsxs(Ce,{children:[i.jsx(Pe,{children:"Profile Picture & Background"}),i.jsx(Sr,{children:"Upload and manage your profile picture and background wallpaper"})]}),i.jsxs(J,{className:"p-0",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary/20 to-secondary/20 bg-cover bg-center bg-no-repeat",style:{backgroundImage:u.backgroundImageUrl?`url("${u.backgroundImageUrl}")`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/20"}),i.jsx("div",{className:"absolute bottom-4 right-4",children:i.jsxs("div",{className:"relative",children:[i.jsxs(Us,{className:"w-24 h-24 border-4 border-white shadow-lg",children:[i.jsx(zs,{src:u.profileImageUrl,alt:"Profile picture",className:"object-cover"}),i.jsx(Bs,{className:"bg-white text-primary text-2xl",children:((f=u.firstName)==null?void 0:f[0])||"U"})]}),i.jsx("div",{className:"absolute -bottom-1 -right-1",children:i.jsx(dp,{maxNumberOfFiles:1,maxFileSize:5242880,onGetUploadParameters:a,onComplete:l,buttonClassName:"!p-2 !rounded-full !bg-primary !text-white hover:!bg-primary/90 !border-2 !border-white !shadow-lg",allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff","image/tif","image/svg+xml","image/avif","image/heic","image/heif"],children:i.jsx(Xf,{className:"w-4 h-4"})})})]})}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(dp,{maxNumberOfFiles:1,maxFileSize:15728640,onGetUploadParameters:c,onComplete:h,buttonClassName:"!p-3 !rounded-full !bg-white/90 !text-primary hover:!bg-white !border-2 !border-primary/20 !shadow-lg backdrop-blur-sm",allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff","image/tif","image/svg+xml","image/avif","image/heic","image/heif"],children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xf,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs font-medium hidden sm:block",children:"Background"})]})})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"Click the camera icons to upload your profile picture (5MB max) or background wallpaper (15MB max)"}),i.jsx("p",{className:"text-xs text-muted-foreground text-right mt-1",children:"Supported formats: JPEG, PNG, GIF, WebP, BMP, TIFF, SVG, AVIF, HEIC/HEIF"})]})]})]}),i.jsxs(X,{children:[i.jsxs(Ce,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Pe,{children:"Profile Information"}),i.jsx(YG,{user:u})]}),i.jsx(Sr,{children:"Your personal details, interests, and preferences"})]}),i.jsx(J,{children:i.jsx(QG,{user:u})})]}),n.length>0&&i.jsxs(X,{children:[i.jsxs(Ce,{children:[i.jsx(Pe,{children:" Birthdays Today!"}),i.jsx(Sr,{children:"Send birthday wishes to your kliq members"})]}),i.jsx(J,{children:i.jsx("div",{className:"space-y-4",children:n.map(m=>m.id===u.id?null:i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[m.profileImageUrl&&i.jsx("img",{src:m.profileImageUrl,alt:`${m.firstName}'s avatar`,className:"w-10 h-10 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:[m.firstName," ",m.lastName]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"It's their birthday! "})]})]}),i.jsx(D,{onClick:()=>r.mutate({birthdayUserId:m.id,message:"Hope you have the best day ever! "}),disabled:r.isPending,size:"sm","data-testid":`button-birthday-${m.id}`,children:r.isPending?"Sending...":"Send Birthday Wish"})]},m.id))})})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsxs(Ce,{children:[i.jsx(Pe,{className:"text-primary",children:" Profile Music"}),i.jsx(Sr,{className:"text-muted-foreground",children:"Add music that plays when people visit your profile"})]}),i.jsxs(J,{className:"space-y-4",children:[(t==null?void 0:t.profileMusicUrl)&&(t==null?void 0:t.profileMusicTitle)&&i.jsxs("div",{children:[i.jsx(je,{className:"text-sm font-medium text-foreground",children:"Current Profile Music"}),i.jsx("div",{className:"mt-2",children:i.jsx(uM,{musicUrl:t.profileMusicUrl,musicTitle:t.profileMusicTitle,autoPlay:!0})})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-sm font-medium text-foreground",children:"Profile Music Settings"}),i.jsx("div",{className:"mt-2",children:i.jsx(nY,{currentMusicUrl:(t==null?void 0:t.profileMusicUrl)||void 0,currentMusicTitle:(t==null?void 0:t.profileMusicTitle)||void 0,userId:t==null?void 0:t.id})})]})]})]})]}),i.jsx(dn,{})]})}function NY(){const{userId:t}=S0(),{translatePost:e}=km(),{data:s,isLoading:n}=it({queryKey:["/api/user/profile",t],enabled:!!t});if(n)return i.jsx("div",{className:"container mx-auto p-4 max-w-2xl",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"})]})});if(!s)return i.jsx("div",{className:"container mx-auto p-4 max-w-2xl",children:i.jsx(X,{children:i.jsxs(J,{className:"p-8 text-center",children:[i.jsx(Er,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),i.jsx("h2",{className:"text-xl font-bold text-gray-600 mb-2",children:"User not found"}),i.jsx("p",{className:"text-gray-500",children:"The profile you're looking for doesn't exist."})]})})});const r=s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.firstName||"Anonymous User";return i.jsx("div",{className:"container mx-auto p-4 max-w-2xl",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(X,{className:"bg-gradient-to-br from-pink-500/20 to-purple-500/20",children:i.jsx(J,{className:"p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs(Us,{className:"w-20 h-20",children:[i.jsx(zs,{src:s.profileImageUrl,alt:`${r}'s avatar`}),i.jsx(Bs,{className:"text-2xl",children:r.charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:r}),s.kliqName&&i.jsx(ze,{variant:"secondary",className:"mt-1 bg-pink-500 text-white",children:s.kliqName})]}),s.bio&&i.jsx("p",{className:"text-pink-100",children:e(s.bio)}),s.birthdate&&i.jsxs("div",{className:"flex items-center text-pink-200 text-sm",children:[i.jsx(EI,{className:"w-4 h-4 mr-1"}),"Birthday: ",new Date(s.birthdate).toLocaleDateString()]})]})]})})}),s.profileMusicUrl&&s.profileMusicTitle&&i.jsxs(X,{children:[i.jsxs(Ce,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Yn,{className:"w-5 h-5 text-pink-400"}),i.jsx(Pe,{className:"text-pink-400",children:"Profile Music"})]}),i.jsxs(Sr,{children:[r,"'s profile music will auto-play when you visit"]})]}),i.jsx(J,{children:i.jsx(uM,{musicUrl:s.profileMusicUrl,musicTitle:s.profileMusicTitle,autoPlay:!0})})]}),i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsx(Pe,{children:"Profile Information"})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-pink-500",children:s.kliqName||"My Kliq"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Kliq Name"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-500",children:s.createdAt?new Date(s.createdAt).getFullYear():"N/A"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Joined MyKliq"})]})]}),s.email&&i.jsx("div",{className:"text-center text-gray-600",children:i.jsxs("span",{className:"text-sm",children:["Contact: ",s.email]})})]})]})]})})}const oS={primaryColor:"#FF1493",secondaryColor:"#00BFFF",fontFamily:"comic",fontColor:"#FFFFFF",navBgColor:"#1F2937",navActiveColor:"#FF1493",borderStyle:"retro",enableSparkles:!0,backgroundType:"solid",backgroundColor:"#000000",backgroundGradientStart:"#FF1493",backgroundGradientEnd:"#00BFFF",backgroundPattern:"dots"};function SY({theme:t,onSave:e,onReset:s,onSurpriseMe:n}){const[r,a]=p.useState(t||oS);p.useEffect(()=>{t&&a(t)},[t]);const o=()=>{e(r)},l=()=>{a(oS),s()},c=(d,h)=>{a(u=>({...u,[d]:h}))};return i.jsxs("div",{className:"space-y-6 pb-20",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-mykliq-purple mb-2",children:" Theme Customization"}),i.jsx("p",{className:"text-muted-foreground",children:"Personalize your MyKliq experience"})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-primary flex items-center gap-2",children:[i.jsx(O0,{className:"w-5 h-5"}),"Banner & Colors"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.primaryColor||"#FF1493",onChange:d=>c("primaryColor",d.target.value),className:"w-12 h-10 rounded border-2 border-gray-600 cursor-pointer"}),i.jsx(he,{value:r.primaryColor||"#FF1493",onChange:d=>c("primaryColor",d.target.value),className:"flex-1 bg-input border-border text-foreground"})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.secondaryColor||"#00BFFF",onChange:d=>c("secondaryColor",d.target.value),className:"w-12 h-10 rounded border-2 border-gray-600 cursor-pointer"}),i.jsx(he,{value:r.secondaryColor||"#00BFFF",onChange:d=>c("secondaryColor",d.target.value),className:"flex-1 bg-input border-border text-foreground"})]})]})]})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-mykliq-green flex items-center gap-2",children:[i.jsx(aa,{className:"w-5 h-5"}),"Background Style"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Background Type"}),i.jsxs(tn,{value:r.backgroundType||"solid",onValueChange:d=>c("backgroundType",d),children:[i.jsx(qs,{className:"bg-input border-border text-foreground",children:i.jsx(sn,{})}),i.jsxs(Hs,{className:"bg-card border-border",children:[i.jsx(be,{value:"solid",children:"Solid Color"}),i.jsx(be,{value:"gradient",children:"Gradient"}),i.jsx(be,{value:"pattern",children:"Pattern"})]})]})]}),r.backgroundType==="solid"&&i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Background Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.backgroundColor||"#000000",onChange:d=>c("backgroundColor",d.target.value),className:"w-12 h-10 rounded border-2 border-border cursor-pointer"}),i.jsx(he,{value:r.backgroundColor||"#000000",onChange:d=>c("backgroundColor",d.target.value),className:"flex-1 bg-input border-border text-foreground"})]})]}),r.backgroundType==="gradient"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Gradient Start"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.backgroundGradientStart||"#FF1493",onChange:d=>c("backgroundGradientStart",d.target.value),className:"w-12 h-10 rounded border-2 border-border cursor-pointer"}),i.jsx(he,{value:r.backgroundGradientStart||"#FF1493",onChange:d=>c("backgroundGradientStart",d.target.value),className:"flex-1 bg-input border-border text-foreground"})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Gradient End"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.backgroundGradientEnd||"#00BFFF",onChange:d=>c("backgroundGradientEnd",d.target.value),className:"w-12 h-10 rounded border-2 border-border cursor-pointer"}),i.jsx(he,{value:r.backgroundGradientEnd||"#00BFFF",onChange:d=>c("backgroundGradientEnd",d.target.value),className:"flex-1 bg-input border-border text-foreground"})]})]})]}),r.backgroundType==="pattern"&&i.jsxs("div",{children:[i.jsx(je,{className:"text-muted-foreground",children:"Pattern Style"}),i.jsxs(tn,{value:r.backgroundPattern||"dots",onValueChange:d=>c("backgroundPattern",d),children:[i.jsx(qs,{className:"bg-input border-border text-foreground",children:i.jsx(sn,{})}),i.jsxs(Hs,{className:"bg-card border-border",children:[i.jsx(be,{value:"dots",children:"Dots"}),i.jsx(be,{value:"lines",children:"Lines"}),i.jsx(be,{value:"waves",children:"Waves"}),i.jsx(be,{value:"geometric",children:"Geometric"})]})]})]})]})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-secondary flex items-center gap-2",children:[i.jsx(nO,{className:"w-5 h-5"}),"Font Style"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Font Family"}),i.jsxs(tn,{value:r.fontFamily||"comic",onValueChange:d=>c("fontFamily",d),children:[i.jsx(qs,{className:"bg-gray-700 border-gray-600 text-white",children:i.jsx(sn,{})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"comic",children:"Comic Sans MS (Default)"}),i.jsx(be,{value:"retro",children:"Courier New (Retro)"}),i.jsx(be,{value:"helvetica",children:"Helvetica (Clean)"}),i.jsx(be,{value:"times",children:"Times New Roman (Classic)"}),i.jsx(be,{value:"impact",children:"Impact (Bold)"})]})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Font Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.fontColor||"#FFFFFF",onChange:d=>c("fontColor",d.target.value),className:"w-12 h-10 rounded border-2 border-gray-600 cursor-pointer"}),i.jsx(he,{value:r.fontColor||"#FFFFFF",onChange:d=>c("fontColor",d.target.value),className:"flex-1 bg-gray-700 border-gray-600 text-white"})]})]})]})]}),i.jsxs(X,{className:"bg-gray-800 border-gray-700",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-green-400 flex items-center gap-2",children:[i.jsx(YI,{className:"w-5 h-5"}),"Navigation Bar"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Background Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.navBgColor||"#1F2937",onChange:d=>c("navBgColor",d.target.value),className:"w-12 h-10 rounded border-2 border-gray-600 cursor-pointer"}),i.jsx(he,{value:r.navBgColor||"#1F2937",onChange:d=>c("navBgColor",d.target.value),className:"flex-1 bg-gray-700 border-gray-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Active Tab Color"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("input",{type:"color",value:r.navActiveColor||"#FF1493",onChange:d=>c("navActiveColor",d.target.value),className:"w-12 h-10 rounded border-2 border-gray-600 cursor-pointer"}),i.jsx(he,{value:r.navActiveColor||"#FF1493",onChange:d=>c("navActiveColor",d.target.value),className:"flex-1 bg-gray-700 border-gray-600 text-white"})]})]})]})]}),i.jsxs(X,{className:"bg-gray-800 border-gray-700",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-orange-400 flex items-center gap-2",children:[i.jsx(eO,{className:"w-5 h-5"}),"Borders & Effects"]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-gray-400",children:"Border Style"}),i.jsxs(tn,{value:r.borderStyle||"retro",onValueChange:d=>c("borderStyle",d),children:[i.jsx(qs,{className:"bg-gray-700 border-gray-600 text-white",children:i.jsx(sn,{})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"retro",children:"Retro Shadow (Default)"}),i.jsx(be,{value:"neon",children:"Neon Glow"}),i.jsx(be,{value:"simple",children:"Simple Border"}),i.jsx(be,{value:"gradient",children:"Gradient Border"}),i.jsx(be,{value:"none",children:"No Border"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-gray-400",children:"Enable Sparkle Effects "}),i.jsx(ah,{checked:r.enableSparkles??!0,onCheckedChange:d=>c("enableSparkles",d)})]})]})]}),i.jsxs(X,{className:"bg-gray-800 border-gray-700",children:[i.jsx(Ce,{children:i.jsx(Pe,{className:"text-yellow-400",children:"Preview"})}),i.jsx(J,{children:i.jsxs("div",{className:te("rounded-lg p-4 shadow-lg",r.borderStyle==="retro"&&"shadow-[4px_4px_0px_#FF4500,8px_8px_0px_#8A2BE2]",r.borderStyle==="neon"&&"shadow-[0_0_10px_#00FFFF,0_0_20px_#00FFFF,0_0_30px_#00FFFF]",r.borderStyle==="gradient"&&"border-2 border-gradient-to-r from-pink-500 to-blue-500"),style:{background:`linear-gradient(45deg, ${r.primaryColor||"#FF1493"}, ${r.secondaryColor||"#00BFFF"})`,color:r.fontColor||"#FFFFFF",fontFamily:(r.fontFamily||"comic")==="comic"?"Comic Sans MS, cursive":r.fontFamily==="retro"?"Courier New, monospace":r.fontFamily==="helvetica"?"Helvetica, sans-serif":r.fontFamily==="times"?"Times New Roman, serif":r.fontFamily==="impact"?"Impact, sans-serif":"inherit"},children:[i.jsx("p",{className:"font-bold mb-2",children:"Your theme preview"}),i.jsx("p",{className:"text-sm opacity-80",children:"This is how your posts will look"}),r.enableSparkles&&i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"animate-pulse",children:""})})]})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(D,{onClick:o,className:"flex-1 bg-green-600 hover:bg-green-700 text-black font-bold","data-testid":"button-save-theme",children:"Save Theme"}),i.jsx(D,{onClick:l,variant:"outline",className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white border-gray-600","data-testid":"button-reset-theme",children:"Reset"}),n&&i.jsx(D,{onClick:n,variant:"outline",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-purple-600","data-testid":"button-surprise-me",children:" Surprise Me"})]})]})}function kY(){const{toast:t}=Ct(),e=js(),{data:s,isLoading:n}=it({queryKey:["/api/user/theme"]}),r=Te({mutationFn:async u=>{await fe("POST","/api/user/theme",u)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/user/theme"]}),t({title:"Theme saved!",description:"Your customization has been applied"})},onError:u=>{if(Mt(u)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to save theme",variant:"destructive"})}}),a=u=>{r.mutate(u)},o=()=>{const u={primaryColor:"#FF1493",secondaryColor:"#00BFFF",fontFamily:"comic",fontColor:"#FFFFFF",navBgColor:"#1F2937",navActiveColor:"#FF1493",borderStyle:"retro",enableSparkles:!0};r.mutate(u)},l=u=>{const f=parseInt(u.slice(1,3),16),m=parseInt(u.slice(3,5),16),b=parseInt(u.slice(5,7),16);return(f*299+m*587+b*114)/1e3>128},c=()=>"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),d=u=>l(u)?"#000000":"#FFFFFF",h=()=>{const u=c(),f=c(),m=["solid","gradient","pattern"],b=m[Math.floor(Math.random()*m.length)];let g="#000000",x,y,v;if(b==="solid")g=c();else if(b==="gradient")x=c(),y=c(),g=x;else if(b==="pattern"){g=c();const P=["dots","lines","waves","geometric"];v=P[Math.floor(Math.random()*P.length)]}const w=["comic","retro","helvetica","times","impact"],S=["retro","modern"],N={primaryColor:u,secondaryColor:f,fontFamily:w[Math.floor(Math.random()*w.length)],fontColor:d(g),navBgColor:c(),navActiveColor:u,borderStyle:S[Math.floor(Math.random()*S.length)],enableSparkles:Math.random()>.5,backgroundType:b,backgroundColor:b==="solid"?g:void 0,backgroundGradientStart:x,backgroundGradientEnd:y,backgroundPattern:v};r.mutate(N)};return n?i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"w-48 h-6 bg-gray-600 rounded mx-auto"}),[...Array(4)].map((u,f)=>i.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[i.jsx("div",{className:"w-32 h-4 bg-gray-600 rounded mb-4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-10 bg-gray-600 rounded"}),i.jsx("div",{className:"w-full h-10 bg-gray-600 rounded"})]})]},f))]})}):i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto p-4 md:p-6 lg:p-8",children:[i.jsx(SY,{theme:s,onSave:a,onReset:o,onSurpriseMe:h}),i.jsx(dn,{})]})}function CY(){return i.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:[i.jsx(X,{className:"w-full max-w-md mx-4",children:i.jsxs(J,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(FI,{className:"h-8 w-8 text-destructive"}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Did you forget to add the page to the router?"})]})}),i.jsx(dn,{})]})}function PY(){const{data:t=[],isLoading:e}=it({queryKey:["/api/messages/conversations"]}),s=r=>{var a;return r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.firstName?r.firstName:((a=r.email)==null?void 0:a.split("@")[0])||"Unknown User"},n=r=>{var a,o;return r.firstName&&r.lastName?`${r.firstName[0]}${r.lastName[0]}`.toUpperCase():r.firstName?r.firstName[0].toUpperCase():((o=(a=r.email)==null?void 0:a[0])==null?void 0:o.toUpperCase())||"U"};return e?i.jsx("div",{className:"min-h-screen bg-background text-foreground p-4",children:i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(ls,{to:"/",children:i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-back",children:i.jsx(ra,{className:"w-4 h-4"})})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Incognito Messages"})]}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>i.jsx("div",{className:"animate-pulse",children:i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg border bg-white text-black",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})]})]})},r))})]})}):i.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4",children:[i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(ls,{to:"/",children:i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-back",children:i.jsx(ra,{className:"w-4 h-4"})})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Incognito Messages"})]}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Vt,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"No messages yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Start a conversation with your kliq members"})]}):i.jsx("div",{className:"space-y-2",children:t.map(r=>i.jsx(ls,{to:`/messages/${r.otherUser.id}`,"data-testid":`link-conversation-${r.otherUser.id}`,children:i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg border border-border bg-white text-black hover:bg-gray-50 transition-colors cursor-pointer",children:[i.jsxs(Us,{className:"w-12 h-12",children:[i.jsx(zs,{src:r.otherUser.profileImageUrl}),i.jsx(Bs,{className:"bg-blue-100 text-blue-600",children:n(r.otherUser)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-black truncate","data-testid":`text-username-${r.otherUser.id}`,children:s(r.otherUser)}),i.jsxs("div",{className:"flex items-center gap-2",children:[r.unreadCount>0&&i.jsx(ze,{variant:"destructive",className:"text-xs","data-testid":`badge-unread-${r.otherUser.id}`,children:r.unreadCount}),i.jsx("span",{className:"text-xs text-gray-500","data-testid":`text-time-${r.otherUser.id}`,children:Jd(new Date(r.lastActivity),{addSuffix:!0})})]})]}),r.lastMessage&&i.jsx("p",{className:"text-sm text-gray-600 truncate mt-1","data-testid":`text-last-message-${r.otherUser.id}`,children:r.lastMessage.content})]})]})},r.id))})]}),i.jsx(dn,{})]})}function _Y({onSelectGif:t,onSelectMoviecon:e,onSelectMedia:s}){const[n,r]=p.useState(!1),[a,o]=p.useState("gif"),l=(h,u)=>{s(h,u),r(!1)},c=h=>{t(h),r(!1)},d=h=>{e(h),r(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200","data-testid":"button-media-picker",children:i.jsx(aa,{className:"w-5 h-5"})}),i.jsx(Yt,{open:n,onOpenChange:r,children:i.jsxs(Ut,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[i.jsx(zt,{children:i.jsxs(Bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Add Media to Message"}),i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r(!1),"data-testid":"button-close-media-picker",children:i.jsx(ds,{className:"w-4 h-4"})})]})}),i.jsxs(wa,{value:a,onValueChange:o,className:"w-full",children:[i.jsxs(gi,{className:"grid w-full grid-cols-4",children:[i.jsxs(Nt,{value:"gif",className:"flex items-center gap-2","data-testid":"tab-gif",children:[i.jsx(I0,{className:"w-4 h-4"}),"GIFs"]}),i.jsxs(Nt,{value:"moviecon",className:"flex items-center gap-2","data-testid":"tab-moviecon",children:[i.jsx(Jl,{className:"w-4 h-4"}),"Moviecons"]}),i.jsxs(Nt,{value:"photo",className:"flex items-center gap-2","data-testid":"tab-photo",children:[i.jsx(aa,{className:"w-4 h-4"}),"Photos"]}),i.jsxs(Nt,{value:"video",className:"flex items-center gap-2","data-testid":"tab-video",children:[i.jsx(Xf,{className:"w-4 h-4"}),"Videos"]})]}),i.jsxs("div",{className:"mt-6 max-h-[60vh] overflow-y-auto",children:[i.jsx(It,{value:"gif",className:"mt-0",children:i.jsx(cx,{onSelectGif:c})}),i.jsx(It,{value:"moviecon",className:"mt-0",children:i.jsx(dx,{onSelectMoviecon:d})}),i.jsx(It,{value:"photo",className:"mt-0",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(D,{onClick:()=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=u=>{var m;const f=(m=u.target.files)==null?void 0:m[0];if(f){const b=URL.createObjectURL(f);l(b,"image")}},h.click()},className:"mx-auto",children:"Upload Photo"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Choose a photo from your device to share"})]})}),i.jsx(It,{value:"video",className:"mt-0",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(D,{onClick:()=>{const h=document.createElement("input");h.type="file",h.accept="video/*",h.onchange=u=>{var m;const f=(m=u.target.files)==null?void 0:m[0];if(f){const b=URL.createObjectURL(f);l(b,"video")}},h.click()},className:"mx-auto",children:"Upload Video"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:"Choose a video from your device to share"})]})})]})]})]})})]})}function EY(){var C;const{conversationId:t}=S0(),e=t,{user:s}=ir(),{toast:n}=Ct(),r=js(),[a,o]=p.useState(""),[l,c]=p.useState(null),d=p.useRef(null),{data:h,isLoading:u}=it({queryKey:["/api/messages/conversation",e],enabled:!!e}),f=Te({mutationFn:async _=>fe("POST","/api/messages/send",{receiverId:e,..._}),onSuccess:()=>{o(""),c(null),r.invalidateQueries({queryKey:["/api/messages/conversation",e]}),r.invalidateQueries({queryKey:["/api/messages/conversations"]}),m()},onError:_=>{n({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}}),m=()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{m()},[h==null?void 0:h.messages]);const b=_=>{_.preventDefault();const A=a.trim();if(A||l){const k={};if(A&&(k.content=A),l)switch(l.type){case"gif":k.gifId=l.data.id;break;case"moviecon":k.movieconId=l.data.id;break;case"image":case"video":k.mediaUrl=l.data.url,k.mediaType=l.type;break}f.mutate(k)}},g=_=>{c({type:"gif",data:_})},x=_=>{c({type:"moviecon",data:_})},y=(_,A)=>{c({type:A,data:{url:_}})},v=()=>{c(null)},w=_=>{var A;return _.firstName&&_.lastName?`${_.firstName} ${_.lastName}`:_.firstName?_.firstName:((A=_.email)==null?void 0:A.split("@")[0])||"Unknown User"},S=_=>{var A,k;return _.firstName&&_.lastName?`${_.firstName[0]}${_.lastName[0]}`.toUpperCase():_.firstName?_.firstName[0].toUpperCase():((k=(A=_.email)==null?void 0:A[0])==null?void 0:k.toUpperCase())||"U"};if(u)return i.jsx("div",{className:"min-h-screen bg-background text-foreground p-4",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(ls,{to:"/messages",children:i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-back",children:i.jsx(ra,{className:"w-4 h-4"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-muted rounded-full animate-pulse"}),i.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]})]})})});const N=(C=h==null?void 0:h.messages)==null?void 0:C[0],P=N&&s?N.sender.id===s.id?N.receiver:N.sender:null;return i.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[i.jsx("div",{className:"border-b border-border p-4 bg-background",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ls,{to:"/messages",children:i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-back",children:i.jsx(ra,{className:"w-4 h-4"})})}),P&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Us,{className:"w-10 h-10",children:[i.jsx(zs,{src:P.profileImageUrl}),i.jsx(Bs,{className:"bg-blue-100 text-blue-600",children:S(P)})]}),i.jsx("h1",{className:"text-lg font-semibold text-foreground","data-testid":"text-conversation-title",children:w(P)})]})]})})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-background",children:i.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[!(h!=null&&h.messages)||h.messages.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No messages yet. Start the conversation!"})}):h.messages.map(_=>{const A=s&&_.senderId===s.id;return i.jsx("div",{className:`flex ${A?"justify-end":"justify-start"}`,"data-testid":`message-${_.id}`,children:i.jsxs("div",{className:`flex gap-3 max-w-xs lg:max-w-md ${A?"flex-row-reverse":""}`,children:[i.jsxs(Us,{className:"w-8 h-8",children:[i.jsx(zs,{src:_.sender.profileImageUrl}),i.jsx(Bs,{className:"bg-blue-100 text-blue-600 text-xs",children:S(_.sender)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"rounded-lg bg-white text-black","data-testid":`text-message-content-${_.id}`,children:[_.content&&i.jsx("div",{className:"px-4 py-2",children:_.content}),_.mediaUrl&&i.jsx("div",{className:"rounded-lg overflow-hidden",children:_.mediaType==="image"?i.jsx("img",{src:_.mediaUrl,alt:"Shared image",className:"max-w-xs max-h-64 object-cover rounded-lg"}):i.jsx("video",{src:_.mediaUrl,controls:!0,className:"max-w-xs max-h-64 rounded-lg"})}),_.gif&&i.jsx("div",{className:"rounded-lg overflow-hidden",children:i.jsx(nd,{gif:_.gif,className:"max-w-xs"})}),_.moviecon&&i.jsx("div",{className:"rounded-lg overflow-hidden",children:i.jsx(rd,{moviecon:_.moviecon,className:"max-w-xs"})})]}),i.jsx("div",{className:`text-xs text-muted-foreground mt-1 ${A?"text-right":"text-left"}`,children:Jd(new Date(_.createdAt),{addSuffix:!0})})]})]})},_.id)}),i.jsx("div",{ref:d})]})}),i.jsx("div",{className:"border-t border-border p-4 bg-background",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[l&&i.jsx("div",{className:"mb-3 p-3 bg-white text-black rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[l.type==="gif"&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium",children:" GIF selected:"}),i.jsx("span",{className:"text-sm text-gray-700",children:l.data.title})]}),l.type==="moviecon"&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium",children:" Moviecon selected:"}),i.jsx("span",{className:"text-sm text-gray-700",children:l.data.title})]}),(l.type==="image"||l.type==="video")&&i.jsx(i.Fragment,{children:i.jsxs("span",{className:"text-sm font-medium",children:[l.type==="image"?" Photo":" Video"," selected"]})})]}),i.jsx(D,{variant:"ghost",size:"sm",onClick:v,"data-testid":"button-clear-media",children:i.jsx(ds,{className:"w-4 h-4"})})]})}),i.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[i.jsx(_Y,{onSelectGif:g,onSelectMoviecon:x,onSelectMedia:y}),i.jsx(he,{value:a,onChange:_=>o(_.target.value),placeholder:"Type your message...",className:"flex-1",disabled:f.isPending,"data-testid":"input-message"}),i.jsx(D,{type:"submit",disabled:!a.trim()&&!l||f.isPending,"data-testid":"button-send-message",children:i.jsx(D0,{className:"w-4 h-4"})})]})]})}),i.jsx(dn,{})]})}function TY({moviecons:t,onRefresh:e}){const[s,n]=p.useState(""),[r,a]=p.useState(!1),[o,l]=p.useState(""),{toast:c}=Ct(),d=t.filter(m=>m.title.toLowerCase().includes(o.toLowerCase())),h=async()=>{try{return{method:"PUT",url:(await fe("POST","/api/objects/upload")).uploadURL}}catch(m){throw console.error("Error getting upload parameters:",m),m}},u=async m=>{var b,g,x;if(!m.successful||m.successful.length===0){c({title:"Upload failed",description:"No files were uploaded successfully",variant:"destructive"});return}a(!0);try{const y=((b=m.successful)==null?void 0:b.map(async(v,w)=>{var C;const S=v.uploadURL,N=v.name||`Video ${w+1}`;let P;return s.trim()?P=(((C=m.successful)==null?void 0:C.length)||0)>1?`${s.trim()} ${w+1}`:s.trim():P=N.replace(/\.[^/.]+$/,""),fe("POST","/api/moviecons",{title:P,videoUrl:S})}))||[];await Promise.all(y),c({title:"Success!",description:`${((g=m.successful)==null?void 0:g.length)||0} moviecon${(((x=m.successful)==null?void 0:x.length)||0)>1?"s":""} uploaded successfully`}),n(""),qi.invalidateQueries({queryKey:["/api/moviecons"]}),e()}catch(y){console.error("Error creating moviecons:",y),c({title:"Upload failed",description:"Failed to save moviecon details",variant:"destructive"})}finally{a(!1)}},f=async(m,b)=>{if(confirm(`Are you sure you want to delete "${b}"?`))try{await fe("DELETE",`/api/moviecons/${m}`),c({title:"Deleted",description:`Moviecon "${b}" has been deleted`}),qi.invalidateQueries({queryKey:["/api/moviecons"]}),e()}catch(g){console.error("Error deleting moviecon:",g),c({title:"Delete failed",description:"Failed to delete moviecon",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-6","data-testid":"moviecon-uploader",children:[i.jsxs(X,{className:"bg-card border-border",children:[i.jsxs(Ce,{children:[i.jsx(Pe,{className:"text-foreground",children:"Upload New Moviecon"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload multiple MP4 video files (up to 50 files, 100MB each). Supported format: .mp4"})]}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"moviecon-title",className:"text-foreground",children:"Moviecon Title (Optional)"}),i.jsx(he,{id:"moviecon-title",value:s,onChange:m=>n(m.target.value),placeholder:"Enter a title (optional - will use filename if empty)",className:"bg-background border-border text-foreground","data-testid":"input-moviecon-title"})]}),i.jsx(dp,{maxNumberOfFiles:50,maxFileSize:100*1024*1024,onGetUploadParameters:h,onComplete:u,buttonClassName:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",allowedFileTypes:[".mp4","video/mp4"],children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jf,{className:"h-4 w-4"}),i.jsx("span",{children:" Upload MP4 Video Files (up to 50)"})]})}),r&&i.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing upload..."})]})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-foreground",children:["Your Moviecons (",t.length,")"]}),t.length>0&&i.jsxs("div",{className:"relative",children:[i.jsx(dm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(he,{value:o,onChange:m=>l(m.target.value),placeholder:"Search moviecons by title...",className:"pl-10 pr-10 bg-background border-border text-foreground","data-testid":"input-search-moviecons"}),o&&i.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-muted",onClick:()=>l(""),"data-testid":"button-clear-search",children:i.jsx(ds,{className:"h-3 w-3"})})]})]}),i.jsx(J,{children:t.length===0?i.jsx("div",{className:"text-muted-foreground text-center py-8",children:"No moviecons uploaded yet. Upload your first video above!"}):d.length===0?i.jsxs("div",{className:"text-muted-foreground text-center py-8",children:['No moviecons found matching "',o,'". Try a different search term.']}):i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:d.map(m=>i.jsxs("div",{className:"relative group bg-muted/30 rounded-lg border border-border overflow-hidden hover:shadow-lg transition-shadow","data-testid":`moviecon-item-${m.id}`,children:[i.jsxs("div",{className:"aspect-video relative bg-black",children:[i.jsx("video",{src:m.url,className:"w-full h-full object-cover","data-testid":`video-${m.id}`,preload:"metadata"}),i.jsx(D,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-8 w-8 p-0 shadow-lg",onClick:()=>f(m.id,m.title),"data-testid":`button-delete-${m.id}`,children:i.jsx(tc,{className:"h-3 w-3"})}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"w-8 h-8 bg-white/80 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-black border-y-[4px] border-y-transparent ml-1"})})})]}),i.jsx("div",{className:"p-3 bg-card",children:i.jsx("h3",{className:"text-sm font-medium text-foreground truncate",title:m.title,children:m.title})})]},m.id))})})]})]})}function MY(){const{data:t=[],refetch:e}=it({queryKey:["/api/moviecons"]});return i.jsx("div",{className:"min-h-screen bg-background text-foreground","data-testid":"moviecon-manager-page",children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Moviecon Manager"}),i.jsx("p",{className:"text-muted-foreground",children:"Upload and manage your video clips (moviecons) that users can add to their posts"})]}),i.jsx(TY,{moviecons:t,onRefresh:()=>e()})]})})})}function AY(){const{toast:t}=Ct(),{user:e}=ir(),[s,n]=p.useState(!1);if(!((e==null?void 0:e.email)==="futureshockholding@gmail.com"||(e==null?void 0:e.id)==="46297180"))return i.jsxs("div",{className:"container mx-auto p-6","data-testid":"unauthorized-access",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs(ls,{href:"/",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx(ra,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]})}),i.jsx(X,{className:"border-destructive",children:i.jsxs(J,{className:"p-6 text-center",children:[i.jsx(H1,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the maintenance dashboard."})]})})]});const{data:a,isLoading:o,refetch:l}=it({queryKey:["/api/maintenance/metrics"],refetchInterval:3e4}),{data:c}=it({queryKey:["/api/maintenance/health"],refetchInterval:3e4}),d=async()=>{n(!0),await l(),n(!1),t({title:"Dashboard Refreshed",description:"All metrics have been updated"})},h=m=>{switch(m){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}},u=m=>{switch(m){case"healthy":return i.jsx(pv,{className:"w-4 h-4"});case"warning":return i.jsx(sc,{className:"w-4 h-4"});case"critical":return i.jsx(H1,{className:"w-4 h-4"});default:return i.jsx(B1,{className:"w-4 h-4"})}},f=m=>m?new Date(m).toLocaleString():"Never";return o||!a?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Maintenance Dashboard"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(yv,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Loading..."})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,b)=>i.jsxs(X,{className:"animate-pulse",children:[i.jsx(Ce,{className:"pb-2",children:i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),i.jsxs(J,{children:[i.jsx("div",{className:"h-8 bg-muted rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-full"})]})]},b))})]}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"maintenance-dashboard",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(ls,{href:"/",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx(ra,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Maintenance Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitor MyKliq system health and performance"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[c&&i.jsxs("div",{className:te("flex items-center space-x-2",h(c.status)),children:[u(c.status),i.jsx("span",{className:"font-medium capitalize",children:c.status})]}),i.jsxs(D,{onClick:d,disabled:s,"data-testid":"refresh-dashboard",children:[i.jsx(yv,{className:te("w-4 h-4 mr-2",s&&"animate-spin")}),"Refresh"]})]})]}),c&&c.issues.length>0&&i.jsxs(X,{className:"border-destructive",children:[i.jsx(Ce,{className:"pb-2",children:i.jsxs(Pe,{className:"flex items-center space-x-2 text-destructive",children:[i.jsx(sc,{className:"w-5 h-5"}),i.jsx("span",{children:"System Issues Detected"})]})}),i.jsx(J,{children:i.jsx("ul",{className:"space-y-1",children:c.issues.map((m,b)=>i.jsxs("li",{className:"text-sm text-destructive",children:[" ",m]},b))})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(X,{children:[i.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(J,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a.database.totalUsers.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),i.jsxs(X,{children:[i.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Active Sessions"}),i.jsx(B1,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(J,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a.database.activeSessions}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently online"})]})]}),i.jsxs(X,{children:[i.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Total Posts"}),i.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(J,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a.database.totalPosts.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"All time posts"})]})]}),i.jsxs(X,{children:[i.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Upcoming Events"}),i.jsx(li,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(J,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a.database.upcomingEvents}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Future events"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(sO,{className:"w-5 h-5"}),i.jsx("span",{children:"Performance"})]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Avg Response Time"}),i.jsxs("span",{children:[Math.round(a.performance.avgResponseTime),"ms"]})]}),i.jsx(jd,{value:Math.min(a.performance.avgResponseTime/20,100)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Error Rate"}),i.jsxs("span",{children:[a.performance.errorRate.toFixed(1),"%"]})]}),i.jsx(jd,{value:a.performance.errorRate,className:a.performance.errorRate>5?"bg-destructive/20":""})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Memory Usage"}),i.jsxs("span",{children:[a.performance.memoryUsage,"MB"]})]}),i.jsx(jd,{value:Math.min(a.performance.memoryUsage/10,100)})]})]})]}),i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(DI,{className:"w-5 h-5"}),i.jsx("span",{children:"Database Health"})]})}),i.jsxs(J,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Query Performance"}),i.jsxs(ze,{variant:a.database.queryPerformance<500?"default":"destructive",children:[Math.round(a.database.queryPerformance),"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Active Polls"}),i.jsx("span",{className:"font-medium",children:a.database.activePolls})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Storage Usage"}),i.jsxs("span",{className:"font-medium",children:[a.database.storageUsage,"MB"]})]})]})]}),i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(zI,{className:"w-5 h-5"}),i.jsx("span",{children:"Cleanup Status"})]})}),i.jsx(J,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Expired Sessions"}),i.jsx(ze,{variant:a.cleanup.expiredSessions>50?"destructive":"secondary",children:a.cleanup.expiredSessions})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Old Notifications"}),i.jsx(ze,{variant:a.cleanup.oldNotifications>500?"destructive":"secondary",children:a.cleanup.oldNotifications})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Expired Stories"}),i.jsx(ze,{variant:a.cleanup.expiredStories>10?"destructive":"secondary",children:a.cleanup.expiredStories})]})]})})]})]}),i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(lm,{className:"w-5 h-5"}),i.jsx("span",{children:"Maintenance Schedule"})]})}),i.jsx(J,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-1",children:"Session Cleanup"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f(a.lastMaintenance.sessionCleanup)}),i.jsx(ze,{variant:"outline",className:"mt-1",children:"Daily"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-1",children:"Story Cleanup"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f(a.lastMaintenance.storyCleanup)}),i.jsx(ze,{variant:"outline",className:"mt-1",children:"Daily"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-1",children:"Notification Cleanup"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f(a.lastMaintenance.notificationCleanup)}),i.jsx(ze,{variant:"outline",className:"mt-1",children:"Weekly"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-1",children:"Database Optimization"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f(a.lastMaintenance.databaseOptimization)}),i.jsx(ze,{variant:"outline",className:"mt-1",children:"Weekly"})]})]})})]})]})}var oh=t=>t.type==="checkbox",Oa=t=>t instanceof Date,Ms=t=>t==null;const hM=t=>typeof t=="object";var Ot=t=>!Ms(t)&&!Array.isArray(t)&&hM(t)&&!Oa(t),fM=t=>Ot(t)&&t.target?oh(t.target)?t.target.checked:t.target.value:t,FY=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pM=(t,e)=>t.has(FY(e)),RY=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Ob=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rs(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ob&&(t instanceof Blob||n))&&(s||Ot(t)))if(e=s?[]:{},!s&&!RY(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rs(t[r]));else return t;return e}var Im=t=>Array.isArray(t)?t.filter(Boolean):[],At=t=>t===void 0,me=(t,e,s)=>{if(!e||!Ot(t))return s;const n=Im(e.split(/[,[\].]+?/)).reduce((r,a)=>Ms(r)?r:r[a],t);return At(n)||n===t?At(t[e])?s:t[e]:n},Xs=t=>typeof t=="boolean",Db=t=>/^\w*$/.test(t),mM=t=>Im(t.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(t,e,s)=>{let n=-1;const r=Db(e)?[e]:mM(e),a=r.length,o=a-1;for(;++n<a;){const l=r[n];let c=s;if(n!==o){const d=t[l];c=Ot(d)||Array.isArray(d)?d:isNaN(+r[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const mp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gM=Ue.createContext(null),Om=()=>Ue.useContext(gM),IY=t=>{const{children:e,...s}=t;return Ue.createElement(gM.Provider,{value:s},e)};var yM=(t,e,s,n=!0)=>{const r={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(r,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!n||Vn.all),s&&(s[o]=!0),t[o]}});return r};function OY(t){const e=Om(),{control:s=e.control,disabled:n,name:r,exact:a}=t||{},[o,l]=Ue.useState(s._formState),c=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Ue.useRef(r);return d.current=r,Ue.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:h=>{!n&&l({...s._formState,...h})}}),[s,n,a]),Ue.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),Ue.useMemo(()=>yM(o,s,c.current,!1),[o,s])}var Cr=t=>typeof t=="string",vM=(t,e,s,n,r)=>Cr(t)?(n&&e.watch.add(t),me(s,t,r)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),me(s,a))):(n&&(e.watchAll=!0),s);function DY(t){const e=Om(),{control:s=e.control,name:n,defaultValue:r,disabled:a,exact:o}=t||{},l=Ue.useRef(n),c=Ue.useRef(r);l.current=n,Ue.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:u=>!a&&h(vM(l.current,s._names,u.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,h]=Ue.useState(s._getWatch(n,r));return Ue.useEffect(()=>s._removeUnmounted()),d}function LY(t){const e=Om(),{name:s,disabled:n,control:r=e.control,shouldUnregister:a}=t,o=pM(r._names.array,s),l=DY({control:r,name:s,defaultValue:me(r._formValues,s,me(r._defaultValues,s,t.defaultValue)),exact:!0}),c=OY({control:r,name:s,exact:!0}),d=Ue.useRef(t),h=Ue.useRef(r.register(s,{...t.rules,value:l,...Xs(t.disabled)?{disabled:t.disabled}:{}})),u=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!me(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!me(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!me(c.validatingFields,s)},error:{enumerable:!0,get:()=>me(c.errors,s)}}),[c,s]),f=Ue.useCallback(x=>h.current.onChange({target:{value:fM(x),name:s},type:mp.CHANGE}),[s]),m=Ue.useCallback(()=>h.current.onBlur({target:{value:me(r._formValues,s),name:s},type:mp.BLUR}),[s,r._formValues]),b=Ue.useCallback(x=>{const y=me(r._fields,s);y&&x&&(y._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[r._fields,s]),g=Ue.useMemo(()=>({name:s,value:l,...Xs(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:f,onBlur:m,ref:b}),[s,n,c.disabled,f,m,b,l]);return Ue.useEffect(()=>{const x=r._options.shouldUnregister||a;r.register(s,{...d.current.rules,...Xs(d.current.disabled)?{disabled:d.current.disabled}:{}});const y=(v,w)=>{const S=me(r._fields,v);S&&S._f&&(S._f.mount=w)};if(y(s,!0),x){const v=rs(me(r._options.defaultValues,s));nt(r._defaultValues,s,v),At(me(r._formValues,s))&&nt(r._formValues,s,v)}return!o&&r.register(s),()=>{(o?x&&!r._state.action:x)?r.unregister(s):y(s,!1)}},[s,r,o,a]),Ue.useEffect(()=>{r._setDisabledField({disabled:n,name:s})},[n,s,r]),Ue.useMemo(()=>({field:g,formState:c,fieldState:u}),[g,c,u])}const $Y=t=>t.render(LY(t));var xM=(t,e,s,n,r)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:r||!0}}:{},Nd=t=>Array.isArray(t)?t:[t],lS=()=>{let t=[];return{get observers(){return t},next:r=>{for(const a of t)a.next&&a.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(a=>a!==r)}}),unsubscribe:()=>{t=[]}}},jx=t=>Ms(t)||!hM(t);function Ei(t,e){if(jx(t)||jx(e))return t===e;if(Oa(t)&&Oa(e))return t.getTime()===e.getTime();const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const r of s){const a=t[r];if(!n.includes(r))return!1;if(r!=="ref"){const o=e[r];if(Oa(a)&&Oa(o)||Ot(a)&&Ot(o)||Array.isArray(a)&&Array.isArray(o)?!Ei(a,o):a!==o)return!1}}return!0}var Es=t=>Ot(t)&&!Object.keys(t).length,Lb=t=>t.type==="file",qn=t=>typeof t=="function",gp=t=>{if(!Ob)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bM=t=>t.type==="select-multiple",$b=t=>t.type==="radio",UY=t=>$b(t)||oh(t),Xg=t=>gp(t)&&t.isConnected;function zY(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=At(t)?n++:t[e[n++]];return t}function BY(t){for(const e in t)if(t.hasOwnProperty(e)&&!At(t[e]))return!1;return!0}function Ht(t,e){const s=Array.isArray(e)?e:Db(e)?[e]:mM(e),n=s.length===1?t:zY(t,s),r=s.length-1,a=s[r];return n&&delete n[a],r!==0&&(Ot(n)&&Es(n)||Array.isArray(n)&&BY(n))&&Ht(t,s.slice(0,-1)),t}var wM=t=>{for(const e in t)if(qn(t[e]))return!0;return!1};function yp(t,e={}){const s=Array.isArray(t);if(Ot(t)||s)for(const n in t)Array.isArray(t[n])||Ot(t[n])&&!wM(t[n])?(e[n]=Array.isArray(t[n])?[]:{},yp(t[n],e[n])):Ms(t[n])||(e[n]=!0);return e}function jM(t,e,s){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!wM(t[r])?At(e)||jx(s[r])?s[r]=Array.isArray(t[r])?yp(t[r],[]):{...yp(t[r])}:jM(t[r],Ms(e)?{}:e[r],s[r]):s[r]=!Ei(t[r],e[r]);return s}var Hc=(t,e)=>jM(t,e,yp(e));const cS={value:!1,isValid:!1},dS={value:!0,isValid:!0};var NM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!At(t[0].attributes.value)?At(t[0].value)||t[0].value===""?dS:{value:t[0].value,isValid:!0}:dS:cS}return cS},SM=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>At(t)?t:e?t===""?NaN:t&&+t:s&&Cr(t)?new Date(t):n?n(t):t;const uS={isValid:!1,value:null};var kM=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,uS):uS;function hS(t){const e=t.ref;return Lb(e)?e.files:$b(e)?kM(t.refs).value:bM(e)?[...e.selectedOptions].map(({value:s})=>s):oh(e)?NM(t.refs).value:SM(At(e.value)?t.ref.value:e.value,t)}var VY=(t,e,s,n)=>{const r={};for(const a of t){const o=me(e,a);o&&nt(r,a,o._f)}return{criteriaMode:s,names:[...t],fields:r,shouldUseNativeValidation:n}},vp=t=>t instanceof RegExp,Wc=t=>At(t)?t:vp(t)?t.source:Ot(t)?vp(t.value)?t.value.source:t.value:t,fS=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const pS="AsyncFunction";var qY=t=>!!t&&!!t.validate&&!!(qn(t.validate)&&t.validate.constructor.name===pS||Ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pS)),HY=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),mS=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Sd=(t,e,s,n)=>{for(const r of s||Object.keys(t)){const a=me(t,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Sd(l,e))break}else if(Ot(l)&&Sd(l,e))break}}};function gS(t,e,s){const n=me(t,s);if(n||Db(s))return{error:n,name:s};const r=s.split(".");for(;r.length;){const a=r.join("."),o=me(e,a),l=me(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};r.pop()}return{name:s}}var WY=(t,e,s,n)=>{s(t);const{name:r,...a}=t;return Es(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Vn.all))},KY=(t,e,s)=>!t||!e||t===e||Nd(t).some(n=>n&&(s?n===e:n.startsWith(e)||e.startsWith(n))),GY=(t,e,s,n,r)=>r.isOnAll?!1:!s&&r.isOnTouch?!(e||t):(s?n.isOnBlur:r.isOnBlur)?!t:(s?n.isOnChange:r.isOnChange)?t:!0,YY=(t,e)=>!Im(me(t,e)).length&&Ht(t,e),QY=(t,e,s)=>{const n=Nd(me(t,s));return nt(n,"root",e[s]),nt(t,s,n),t},kf=t=>Cr(t);function yS(t,e,s="validate"){if(kf(t)||Array.isArray(t)&&t.every(kf)||Xs(t)&&!t)return{type:s,message:kf(t)?t:"",ref:e}}var Oo=t=>Ot(t)&&!vp(t)?t:{value:t,message:""},vS=async(t,e,s,n,r,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:u,max:f,pattern:m,validate:b,name:g,valueAsNumber:x,mount:y}=t._f,v=me(s,g);if(!y||e.has(g))return{};const w=l?l[0]:o,S=O=>{r&&w.reportValidity&&(w.setCustomValidity(Xs(O)?"":O||""),w.reportValidity())},N={},P=$b(o),C=oh(o),_=P||C,A=(x||Lb(o))&&At(o.value)&&At(v)||gp(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,k=xM.bind(null,g,n,N),R=(O,$,z,ee=zr.maxLength,K=zr.minLength)=>{const Z=O?$:z;N[g]={type:O?ee:K,message:Z,ref:o,...k(O?ee:K,Z)}};if(a?!Array.isArray(v)||!v.length:c&&(!_&&(A||Ms(v))||Xs(v)&&!v||C&&!NM(l).isValid||P&&!kM(l).isValid)){const{value:O,message:$}=kf(c)?{value:!!c,message:c}:Oo(c);if(O&&(N[g]={type:zr.required,message:$,ref:w,...k(zr.required,$)},!n))return S($),N}if(!A&&(!Ms(u)||!Ms(f))){let O,$;const z=Oo(f),ee=Oo(u);if(!Ms(v)&&!isNaN(v)){const K=o.valueAsNumber||v&&+v;Ms(z.value)||(O=K>z.value),Ms(ee.value)||($=K<ee.value)}else{const K=o.valueAsDate||new Date(v),Z=U=>new Date(new Date().toDateString()+" "+U),F=o.type=="time",I=o.type=="week";Cr(z.value)&&v&&(O=F?Z(v)>Z(z.value):I?v>z.value:K>new Date(z.value)),Cr(ee.value)&&v&&($=F?Z(v)<Z(ee.value):I?v<ee.value:K<new Date(ee.value))}if((O||$)&&(R(!!O,z.message,ee.message,zr.max,zr.min),!n))return S(N[g].message),N}if((d||h)&&!A&&(Cr(v)||a&&Array.isArray(v))){const O=Oo(d),$=Oo(h),z=!Ms(O.value)&&v.length>+O.value,ee=!Ms($.value)&&v.length<+$.value;if((z||ee)&&(R(z,O.message,$.message),!n))return S(N[g].message),N}if(m&&!A&&Cr(v)){const{value:O,message:$}=Oo(m);if(vp(O)&&!v.match(O)&&(N[g]={type:zr.pattern,message:$,ref:o,...k(zr.pattern,$)},!n))return S($),N}if(b){if(qn(b)){const O=await b(v,s),$=yS(O,w);if($&&(N[g]={...$,...k(zr.validate,$.message)},!n))return S($.message),N}else if(Ot(b)){let O={};for(const $ in b){if(!Es(O)&&!n)break;const z=yS(await b[$](v,s),w,$);z&&(O={...z,...k($,z.message)},S(z.message),n&&(N[g]=O))}if(!Es(O)&&(N[g]={ref:w,...O},!n))return N}}return S(!0),N};const ZY={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function XY(t={}){let e={...ZY,...t},s={submitCount:0,isDirty:!1,isLoading:qn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let r=Ot(e.defaultValues)||Ot(e.values)?rs(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:rs(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...h};const f={array:lS(),state:lS()},m=fS(e.mode),b=fS(e.reValidateMode),g=e.criteriaMode===Vn.all,x=T=>L=>{clearTimeout(d),d=setTimeout(T,L)},y=async T=>{if(!e.disabled&&(h.isValid||u.isValid||T)){const L=e.resolver?Es((await A()).errors):await R(n,!0);L!==s.isValid&&f.state.next({isValid:L})}},v=(T,L)=>{!e.disabled&&(h.isValidating||h.validatingFields||u.isValidating||u.validatingFields)&&((T||Array.from(l.mount)).forEach(q=>{q&&(L?nt(s.validatingFields,q,L):Ht(s.validatingFields,q))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Es(s.validatingFields)}))},w=(T,L=[],q,de,le=!0,ie=!0)=>{if(de&&q&&!e.disabled){if(o.action=!0,ie&&Array.isArray(me(n,T))){const ye=q(me(n,T),de.argA,de.argB);le&&nt(n,T,ye)}if(ie&&Array.isArray(me(s.errors,T))){const ye=q(me(s.errors,T),de.argA,de.argB);le&&nt(s.errors,T,ye),YY(s.errors,T)}if((h.touchedFields||u.touchedFields)&&ie&&Array.isArray(me(s.touchedFields,T))){const ye=q(me(s.touchedFields,T),de.argA,de.argB);le&&nt(s.touchedFields,T,ye)}(h.dirtyFields||u.dirtyFields)&&(s.dirtyFields=Hc(r,a)),f.state.next({name:T,isDirty:$(T,L),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else nt(a,T,L)},S=(T,L)=>{nt(s.errors,T,L),f.state.next({errors:s.errors})},N=T=>{s.errors=T,f.state.next({errors:s.errors,isValid:!1})},P=(T,L,q,de)=>{const le=me(n,T);if(le){const ie=me(a,T,At(q)?me(r,T):q);At(ie)||de&&de.defaultChecked||L?nt(a,T,L?ie:hS(le._f)):K(T,ie),o.mount&&y()}},C=(T,L,q,de,le)=>{let ie=!1,ye=!1;const Ye={name:T};if(!e.disabled){if(!q||de){(h.isDirty||u.isDirty)&&(ye=s.isDirty,s.isDirty=Ye.isDirty=$(),ie=ye!==Ye.isDirty);const ft=Ei(me(r,T),L);ye=!!me(s.dirtyFields,T),ft?Ht(s.dirtyFields,T):nt(s.dirtyFields,T,!0),Ye.dirtyFields=s.dirtyFields,ie=ie||(h.dirtyFields||u.dirtyFields)&&ye!==!ft}if(q){const ft=me(s.touchedFields,T);ft||(nt(s.touchedFields,T,q),Ye.touchedFields=s.touchedFields,ie=ie||(h.touchedFields||u.touchedFields)&&ft!==q)}ie&&le&&f.state.next(Ye)}return ie?Ye:{}},_=(T,L,q,de)=>{const le=me(s.errors,T),ie=(h.isValid||u.isValid)&&Xs(L)&&s.isValid!==L;if(e.delayError&&q?(c=x(()=>S(T,q)),c(e.delayError)):(clearTimeout(d),c=null,q?nt(s.errors,T,q):Ht(s.errors,T)),(q?!Ei(le,q):le)||!Es(de)||ie){const ye={...de,...ie&&Xs(L)?{isValid:L}:{},errors:s.errors,name:T};s={...s,...ye},f.state.next(ye)}},A=async T=>{v(T,!0);const L=await e.resolver(a,e.context,VY(T||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(T),L},k=async T=>{const{errors:L}=await A(T);if(T)for(const q of T){const de=me(L,q);de?nt(s.errors,q,de):Ht(s.errors,q)}else s.errors=L;return L},R=async(T,L,q={valid:!0})=>{for(const de in T){const le=T[de];if(le){const{_f:ie,...ye}=le;if(ie){const Ye=l.array.has(ie.name),ft=le._f&&qY(le._f);ft&&h.validatingFields&&v([de],!0);const Zt=await vS(le,l.disabled,a,g,e.shouldUseNativeValidation&&!L,Ye);if(ft&&h.validatingFields&&v([de]),Zt[ie.name]&&(q.valid=!1,L))break;!L&&(me(Zt,ie.name)?Ye?QY(s.errors,Zt,ie.name):nt(s.errors,ie.name,Zt[ie.name]):Ht(s.errors,ie.name))}!Es(ye)&&await R(ye,L,q)}}return q.valid},O=()=>{for(const T of l.unMount){const L=me(n,T);L&&(L._f.refs?L._f.refs.every(q=>!Xg(q)):!Xg(L._f.ref))&&We(T)}l.unMount=new Set},$=(T,L)=>!e.disabled&&(T&&L&&nt(a,T,L),!Ei(ce(),r)),z=(T,L,q)=>vM(T,l,{...o.mount?a:At(L)?r:Cr(T)?{[T]:L}:L},q,L),ee=T=>Im(me(o.mount?a:r,T,e.shouldUnregister?me(r,T,[]):[])),K=(T,L,q={})=>{const de=me(n,T);let le=L;if(de){const ie=de._f;ie&&(!ie.disabled&&nt(a,T,SM(L,ie)),le=gp(ie.ref)&&Ms(L)?"":L,bM(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=le.includes(ye.value)):ie.refs?oh(ie.ref)?ie.refs.length>1?ie.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(le)?!!le.find(Ye=>Ye===ye.value):le===ye.value)):ie.refs[0]&&(ie.refs[0].checked=!!le):ie.refs.forEach(ye=>ye.checked=ye.value===le):Lb(ie.ref)?ie.ref.value="":(ie.ref.value=le,ie.ref.type||f.state.next({name:T,values:rs(a)})))}(q.shouldDirty||q.shouldTouch)&&C(T,le,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&H(T)},Z=(T,L,q)=>{for(const de in L){const le=L[de],ie=`${T}.${de}`,ye=me(n,ie);(l.array.has(T)||Ot(le)||ye&&!ye._f)&&!Oa(le)?Z(ie,le,q):K(ie,le,q)}},F=(T,L,q={})=>{const de=me(n,T),le=l.array.has(T),ie=rs(L);nt(a,T,ie),le?(f.array.next({name:T,values:rs(a)}),(h.isDirty||h.dirtyFields||u.isDirty||u.dirtyFields)&&q.shouldDirty&&f.state.next({name:T,dirtyFields:Hc(r,a),isDirty:$(T,ie)})):de&&!de._f&&!Ms(ie)?Z(T,ie,q):K(T,ie,q),mS(T,l)&&f.state.next({...s}),f.state.next({name:o.mount?T:void 0,values:rs(a)})},I=async T=>{o.mount=!0;const L=T.target;let q=L.name,de=!0;const le=me(n,q),ie=ye=>{de=Number.isNaN(ye)||Oa(ye)&&isNaN(ye.getTime())||Ei(ye,me(a,q,ye))};if(le){let ye,Ye;const ft=L.type?hS(le._f):fM(T),Zt=T.type===mp.BLUR||T.type===mp.FOCUS_OUT,Nc=!HY(le._f)&&!e.resolver&&!me(s.errors,q)&&!le._f.deps||GY(Zt,me(s.touchedFields,q),s.isSubmitted,b,m),Sc=mS(q,l,Zt);nt(a,q,ft),Zt?(le._f.onBlur&&le._f.onBlur(T),c&&c(0)):le._f.onChange&&le._f.onChange(T);const kc=C(q,ft,Zt),Cc=!Es(kc)||Sc;if(!Zt&&f.state.next({name:q,type:T.type,values:rs(a)}),Nc)return(h.isValid||u.isValid)&&(e.mode==="onBlur"?Zt&&y():Zt||y()),Cc&&f.state.next({name:q,...Sc?{}:kc});if(!Zt&&Sc&&f.state.next({...s}),e.resolver){const{errors:uh}=await A([q]);if(ie(ft),de){const zm=gS(s.errors,n,q),hh=gS(uh,n,zm.name||q);ye=hh.error,q=hh.name,Ye=Es(uh)}}else v([q],!0),ye=(await vS(le,l.disabled,a,g,e.shouldUseNativeValidation))[q],v([q]),ie(ft),de&&(ye?Ye=!1:(h.isValid||u.isValid)&&(Ye=await R(n,!0)));de&&(le._f.deps&&H(le._f.deps),_(q,Ye,ye,kc))}},U=(T,L)=>{if(me(s.errors,L)&&T.focus)return T.focus(),1},H=async(T,L={})=>{let q,de;const le=Nd(T);if(e.resolver){const ie=await k(At(T)?T:le);q=Es(ie),de=T?!le.some(ye=>me(ie,ye)):q}else T?(de=(await Promise.all(le.map(async ie=>{const ye=me(n,ie);return await R(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!de&&!s.isValid)&&y()):de=q=await R(n);return f.state.next({...!Cr(T)||(h.isValid||u.isValid)&&q!==s.isValid?{}:{name:T},...e.resolver||!T?{isValid:q}:{},errors:s.errors}),L.shouldFocus&&!de&&Sd(n,U,T?le:l.mount),de},ce=T=>{const L={...o.mount?a:r};return At(T)?L:Cr(T)?me(L,T):T.map(q=>me(L,q))},Y=(T,L)=>({invalid:!!me((L||s).errors,T),isDirty:!!me((L||s).dirtyFields,T),error:me((L||s).errors,T),isValidating:!!me(s.validatingFields,T),isTouched:!!me((L||s).touchedFields,T)}),xe=T=>{T&&Nd(T).forEach(L=>Ht(s.errors,L)),f.state.next({errors:T?s.errors:{}})},Ze=(T,L,q)=>{const de=(me(n,T,{_f:{}})._f||{}).ref,le=me(s.errors,T)||{},{ref:ie,message:ye,type:Ye,...ft}=le;nt(s.errors,T,{...ft,...L,ref:de}),f.state.next({name:T,errors:s.errors,isValid:!1}),q&&q.shouldFocus&&de&&de.focus&&de.focus()},Be=(T,L)=>qn(T)?f.state.subscribe({next:q=>T(z(void 0,L),q)}):z(T,L,!0),pe=T=>f.state.subscribe({next:L=>{KY(T.name,L.name,T.exact)&&WY(L,T.formState||h,Sn,T.reRenderRoot)&&T.callback({values:{...a},...s,...L})}}).unsubscribe,Se=T=>(o.mount=!0,u={...u,...T.formState},pe({...T,formState:u})),We=(T,L={})=>{for(const q of T?Nd(T):l.mount)l.mount.delete(q),l.array.delete(q),L.keepValue||(Ht(n,q),Ht(a,q)),!L.keepError&&Ht(s.errors,q),!L.keepDirty&&Ht(s.dirtyFields,q),!L.keepTouched&&Ht(s.touchedFields,q),!L.keepIsValidating&&Ht(s.validatingFields,q),!e.shouldUnregister&&!L.keepDefaultValue&&Ht(r,q);f.state.next({values:rs(a)}),f.state.next({...s,...L.keepDirty?{isDirty:$()}:{}}),!L.keepIsValid&&y()},Ke=({disabled:T,name:L})=>{(Xs(T)&&o.mount||T||l.disabled.has(L))&&(T?l.disabled.add(L):l.disabled.delete(L))},$e=(T,L={})=>{let q=me(n,T);const de=Xs(L.disabled)||Xs(e.disabled);return nt(n,T,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:T}},name:T,mount:!0,...L}}),l.mount.add(T),q?Ke({disabled:Xs(L.disabled)?L.disabled:e.disabled,name:T}):P(T,!0,L.value),{...de?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:Wc(L.min),max:Wc(L.max),minLength:Wc(L.minLength),maxLength:Wc(L.maxLength),pattern:Wc(L.pattern)}:{},name:T,onChange:I,onBlur:I,ref:le=>{if(le){$e(T,L),q=me(n,T);const ie=At(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,ye=UY(ie),Ye=q._f.refs||[];if(ye?Ye.find(ft=>ft===ie):ie===q._f.ref)return;nt(n,T,{_f:{...q._f,...ye?{refs:[...Ye.filter(Xg),ie,...Array.isArray(me(r,T))?[{}]:[]],ref:{type:ie.type,name:T}}:{ref:ie}}}),P(T,!1,void 0,ie)}else q=me(n,T,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(pM(l.array,T)&&o.action)&&l.unMount.add(T)}}},Oe=()=>e.shouldFocusError&&Sd(n,U,l.mount),gt=T=>{Xs(T)&&(f.state.next({disabled:T}),Sd(n,(L,q)=>{const de=me(n,q);de&&(L.disabled=de._f.disabled||T,Array.isArray(de._f.refs)&&de._f.refs.forEach(le=>{le.disabled=de._f.disabled||T}))},0,!1))},st=(T,L)=>async q=>{let de;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let le=rs(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:ye}=await A();s.errors=ie,le=ye}else await R(n);if(l.disabled.size)for(const ie of l.disabled)nt(le,ie,void 0);if(Ht(s.errors,"root"),Es(s.errors)){f.state.next({errors:{}});try{await T(le,q)}catch(ie){de=ie}}else L&&await L({...s.errors},q),Oe(),setTimeout(Oe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Es(s.errors)&&!de,submitCount:s.submitCount+1,errors:s.errors}),de)throw de},Q=(T,L={})=>{me(n,T)&&(At(L.defaultValue)?F(T,rs(me(r,T))):(F(T,L.defaultValue),nt(r,T,rs(L.defaultValue))),L.keepTouched||Ht(s.touchedFields,T),L.keepDirty||(Ht(s.dirtyFields,T),s.isDirty=L.defaultValue?$(T,rs(me(r,T))):$()),L.keepError||(Ht(s.errors,T),h.isValid&&y()),f.state.next({...s}))},ue=(T,L={})=>{const q=T?rs(T):r,de=rs(q),le=Es(T),ie=le?r:de;if(L.keepDefaultValues||(r=q),!L.keepValues){if(L.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(Hc(r,a))]);for(const Ye of Array.from(ye))me(s.dirtyFields,Ye)?nt(ie,Ye,me(a,Ye)):F(Ye,me(ie,Ye))}else{if(Ob&&At(T))for(const ye of l.mount){const Ye=me(n,ye);if(Ye&&Ye._f){const ft=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(gp(ft)){const Zt=ft.closest("form");if(Zt){Zt.reset();break}}}}for(const ye of l.mount)F(ye,me(ie,ye))}a=rs(ie),f.array.next({values:{...ie}}),f.state.next({values:{...ie}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?s.submitCount:0,isDirty:le?!1:L.keepDirty?s.isDirty:!!(L.keepDefaultValues&&!Ei(T,r)),isSubmitted:L.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:le?{}:L.keepDirtyValues?L.keepDefaultValues&&a?Hc(r,a):s.dirtyFields:L.keepDefaultValues&&T?Hc(r,T):L.keepDirty?s.dirtyFields:{},touchedFields:L.keepTouched?s.touchedFields:{},errors:L.keepErrors?s.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Re=(T,L)=>ue(qn(T)?T(a):T,L),hs=(T,L={})=>{const q=me(n,T),de=q&&q._f;if(de){const le=de.refs?de.refs[0]:de.ref;le.focus&&(le.focus(),L.shouldSelect&&qn(le.select)&&le.select())}},Sn=T=>{s={...s,...T}},Ae={control:{register:$e,unregister:We,getFieldState:Y,handleSubmit:st,setError:Ze,_subscribe:pe,_runSchema:A,_getWatch:z,_getDirty:$,_setValid:y,_setFieldArray:w,_setDisabledField:Ke,_setErrors:N,_getFieldArray:ee,_reset:ue,_resetDefaultValues:()=>qn(e.defaultValues)&&e.defaultValues().then(T=>{Re(T,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:gt,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return r},get _names(){return l},set _names(T){l=T},get _formState(){return s},get _options(){return e},set _options(T){e={...e,...T}}},subscribe:Se,trigger:H,register:$e,handleSubmit:st,watch:Be,setValue:F,getValues:ce,reset:Re,resetField:Q,clearErrors:xe,unregister:We,setError:Ze,setFocus:hs,getFieldState:Y};return{...Ae,formControl:Ae}}function Ub(t={}){const e=Ue.useRef(void 0),s=Ue.useRef(void 0),[n,r]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:qn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:XY(t),formState:n},t.formControl&&t.defaultValues&&!qn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Ue.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0}),[a]),Ue.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ue.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Ue.useEffect(()=>{t.values&&!Ei(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,r(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Ue.useEffect(()=>{t.errors&&!Es(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Ue.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ue.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=yM(n,a),e.current}const xS=(t,e,s)=>{if(t&&"reportValidity"in t){const n=me(s,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},CM=(t,e)=>{for(const s in e.fields){const n=e.fields[s];n&&n.ref&&"reportValidity"in n.ref?xS(n.ref,s,t):n.refs&&n.refs.forEach(r=>xS(r,s,t))}},JY=(t,e)=>{e.shouldUseNativeValidation&&CM(t,e);const s={};for(const n in t){const r=me(e.fields,n),a=Object.assign(t[n]||{},{ref:r&&r.ref});if(eQ(e.names||Object.keys(t),n)){const o=Object.assign({},me(s,n));nt(o,"root",a),nt(s,n,o)}else nt(s,n,a)}return s},eQ=(t,e)=>t.some(s=>s.startsWith(e+"."));var tQ=function(t,e){for(var s={};t.length;){var n=t[0],r=n.code,a=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:r};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return t.push(u)})}),e){var c=s[o].types,d=c&&c[n.code];s[o]=xM(o,e,s,r,d?[].concat(d,n.message):n.message)}t.shift()}return s},zb=function(t,e,s){return s===void 0&&(s={}),function(n,r,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&CM({},a),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:JY(tQ(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},et;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function s(r){throw new Error}t.assertNever=s,t.arrayToEnum=r=>{const a={};for(const o of r)a[o]=o;return a},t.getValidEnumValues=r=>{const a=t.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of a)o[l]=r[l];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(a){return r[a]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.push(o);return a},t.find=(r,a)=>{for(const o of r)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,a=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(et||(et={}));var Nx;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Nx||(Nx={}));const ve=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kr=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},se=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class an extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return r(this),n}static assert(e){if(!(e instanceof an))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const r of this.issues)r.path.length>0?(s[r.path[0]]=s[r.path[0]]||[],s[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}an.create=t=>new an(t);const cc=(t,e)=>{let s;switch(t.code){case se.invalid_type:t.received===ve.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,et.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:s=`Unrecognized key(s) in object: ${et.joinValues(t.keys,", ")}`;break;case se.invalid_union:s="Invalid input";break;case se.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${et.joinValues(t.options)}`;break;case se.invalid_enum_value:s=`Invalid enum value. Expected ${et.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:s="Invalid function arguments";break;case se.invalid_return_type:s="Invalid function return type";break;case se.invalid_date:s="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:et.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case se.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case se.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case se.custom:s="Invalid input";break;case se.invalid_intersection_types:s="Intersection results could not be merged";break;case se.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:s="Number must be finite";break;default:s=e.defaultError,et.assertNever(t)}return{message:s}};let PM=cc;function nQ(t){PM=t}function xp(){return PM}const bp=t=>{const{data:e,path:s,errorMaps:n,issueData:r}=t,a=[...s,...r.path||[]],o={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...r,path:a,message:l}},rQ=[];function ge(t,e){const s=xp(),n=bp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===cc?void 0:cc].filter(r=>!!r)});t.common.issues.push(n)}class ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const r of s){if(r.status==="aborted")return Ie;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const r of s){const a=await r.key,o=await r.value;n.push({key:a,value:o})}return ws.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const r of s){const{key:a,value:o}=r;if(a.status==="aborted"||o.status==="aborted")return Ie;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Ie=Object.freeze({status:"aborted"}),Xo=t=>({status:"dirty",value:t}),Fs=t=>({status:"valid",value:t}),Sx=t=>t.status==="aborted",kx=t=>t.status==="dirty",yo=t=>t.status==="valid",tu=t=>typeof Promise<"u"&&t instanceof Promise;function wp(t,e,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _M(t,e,s,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var ad,od;class Rr{constructor(e,s,n,r){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bS=(t,e)=>{if(yo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new an(t.common.issues);return this._error=s,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:r}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,l)=>{var c,d;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??s)!==null&&d!==void 0?d:l.defaultError}},description:r}}class Ge{get description(){return this._def.description}_getType(e){return Kr(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ws,ctx:{common:e.parent.common,data:e.data,parsedType:Kr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(tu(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){var n;const r={common:{issues:[],async:(n=s==null?void 0:s.async)!==null&&n!==void 0?n:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)},a=this._parseSync({data:e,path:r.path,parent:r});return bS(r,a)}"~validate"(e){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return yo(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((n=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>yo(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kr(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(tu(r)?r:Promise.resolve(r));return bS(n,a)}refine(e,s){const n=r=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(r):s;return this._refinement((r,a)=>{const o=e(r),l=()=>a.addIssue({code:se.custom,...n(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof s=="function"?s(n,r):s),!1))}_refinement(e){return new nr({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Mr.create(this,this._def)}nullable(){return pa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zn.create(this)}promise(){return uc.create(this,this._def)}or(e){return iu.create([this,e],this._def)}and(e){return au.create(this,e,this._def)}transform(e){return new nr({...Ve(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new uu({...Ve(this._def),innerType:this,defaultValue:s,typeName:Fe.ZodDefault})}brand(){return new Bb({typeName:Fe.ZodBranded,type:this,...Ve(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new hu({...Ve(this._def),innerType:this,catchValue:s,typeName:Fe.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return lh.create(this,e)}readonly(){return fu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iQ=/^c[^\s-]{8,}$/i,aQ=/^[0-9a-z]+$/,oQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cQ=/^[a-z0-9_-]{21}$/i,dQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jg;const pQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,EM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bQ=new RegExp(`^${EM}$`);function TM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wQ(t){return new RegExp(`^${TM(t)}$`)}function MM(t){let e=`${EM}T${TM(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function jQ(t,e){return!!((e==="v4"||!e)&&pQ.test(t)||(e==="v6"||!e)&&gQ.test(t))}function NQ(t,e){if(!dQ.test(t))return!1;try{const[s]=t.split("."),n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function SQ(t,e){return!!((e==="v4"||!e)&&mQ.test(t)||(e==="v6"||!e)&&yQ.test(t))}class Wn extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const a=this._getOrReturnCtx(e);return ge(a,{code:se.invalid_type,expected:ve.string,received:a.parsedType}),Ie}const n=new ws;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),ge(r,{code:se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),ge(r,{code:se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?ge(r,{code:se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ge(r,{code:se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")hQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"email",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Jg||(Jg=new RegExp(fQ,"u")),Jg.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"emoji",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")lQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"uuid",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")cQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"nanoid",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")iQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"cuid",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")aQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"cuid2",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")oQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"ulid",code:se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ge(r,{validation:"url",code:se.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"regex",code:se.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?MM(a).test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?bQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?wQ(a).test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:se.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?uQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"duration",code:se.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?jQ(e.data,a.version)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"ip",code:se.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?NQ(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"jwt",code:se.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?SQ(e.data,a.version)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"cidr",code:se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?vQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"base64",code:se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?xQ.test(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{validation:"base64url",code:se.invalid_string,message:a.message}),n.dirty()):et.assertNever(a);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(r=>e.test(r),{validation:s,code:se.invalid_string,...ke.errToObj(n)})}_addCheck(e){return new Wn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var s,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...ke.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...ke.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...ke.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...ke.errToObj(s)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new Wn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Wn.create=t=>{var e;return new Wn({checks:[],typeName:Fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};function kQ(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=s>n?s:n,a=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return a%o/Math.pow(10,r)}class ua extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const a=this._getOrReturnCtx(e);return ge(a,{code:se.invalid_type,expected:ve.number,received:a.parsedType}),Ie}let n;const r=new ws;for(const a of this._def.checks)a.kind==="int"?et.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ge(n,{code:se.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?kQ(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_finite,message:a.message}),r.dirty()):et.assertNever(a);return{status:r.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,ke.toString(s))}gt(e,s){return this.setLimit("min",e,!1,ke.toString(s))}lte(e,s){return this.setLimit("max",e,!0,ke.toString(s))}lt(e,s){return this.setLimit("max",e,!1,ke.toString(s))}setLimit(e,s,n,r){return new ua({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:ke.toString(r)}]})}_addCheck(e){return new ua({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&et.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}ua.create=t=>new ua({checks:[],typeName:Fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class ha extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let n;const r=new ws;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):et.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return ge(s,{code:se.invalid_type,expected:ve.bigint,received:s.parsedType}),Ie}gte(e,s){return this.setLimit("min",e,!0,ke.toString(s))}gt(e,s){return this.setLimit("min",e,!1,ke.toString(s))}lte(e,s){return this.setLimit("max",e,!0,ke.toString(s))}lt(e,s){return this.setLimit("max",e,!1,ke.toString(s))}setLimit(e,s,n,r){return new ha({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:ke.toString(r)}]})}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}ha.create=t=>{var e;return new ha({checks:[],typeName:Fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};class su extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.boolean,received:n.parsedType}),Ie}return Fs(e.data)}}su.create=t=>new su({typeName:Fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class vo extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const a=this._getOrReturnCtx(e);return ge(a,{code:se.invalid_type,expected:ve.date,received:a.parsedType}),Ie}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ge(a,{code:se.invalid_date}),Ie}const n=new ws;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),ge(r,{code:se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),ge(r,{code:se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):et.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}vo.create=t=>new vo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Fe.ZodDate,...Ve(t)});class jp extends Ge{_parse(e){if(this._getType(e)!==ve.symbol){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.symbol,received:n.parsedType}),Ie}return Fs(e.data)}}jp.create=t=>new jp({typeName:Fe.ZodSymbol,...Ve(t)});class nu extends Ge{_parse(e){if(this._getType(e)!==ve.undefined){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.undefined,received:n.parsedType}),Ie}return Fs(e.data)}}nu.create=t=>new nu({typeName:Fe.ZodUndefined,...Ve(t)});class ru extends Ge{_parse(e){if(this._getType(e)!==ve.null){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.null,received:n.parsedType}),Ie}return Fs(e.data)}}ru.create=t=>new ru({typeName:Fe.ZodNull,...Ve(t)});class dc extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Fs(e.data)}}dc.create=t=>new dc({typeName:Fe.ZodAny,...Ve(t)});class ro extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fs(e.data)}}ro.create=t=>new ro({typeName:Fe.ZodUnknown,...Ve(t)});class hi extends Ge{_parse(e){const s=this._getOrReturnCtx(e);return ge(s,{code:se.invalid_type,expected:ve.never,received:s.parsedType}),Ie}}hi.create=t=>new hi({typeName:Fe.ZodNever,...Ve(t)});class Np extends Ge{_parse(e){if(this._getType(e)!==ve.undefined){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.void,received:n.parsedType}),Ie}return Fs(e.data)}}Np.create=t=>new Np({typeName:Fe.ZodVoid,...Ve(t)});class Zn extends Ge{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),r=this._def;if(s.parsedType!==ve.array)return ge(s,{code:se.invalid_type,expected:ve.array,received:s.parsedType}),Ie;if(r.exactLength!==null){const o=s.data.length>r.exactLength.value,l=s.data.length<r.exactLength.value;(o||l)&&(ge(s,{code:o?se.too_big:se.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&s.data.length<r.minLength.value&&(ge(s,{code:se.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&s.data.length>r.maxLength.value&&(ge(s,{code:se.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>r.type._parseAsync(new Rr(s,o,s.path,l)))).then(o=>ws.mergeArray(n,o));const a=[...s.data].map((o,l)=>r.type._parseSync(new Rr(s,o,s.path,l)));return ws.mergeArray(n,a)}get element(){return this._def.type}min(e,s){return new Zn({...this._def,minLength:{value:e,message:ke.toString(s)}})}max(e,s){return new Zn({...this._def,maxLength:{value:e,message:ke.toString(s)}})}length(e,s){return new Zn({...this._def,exactLength:{value:e,message:ke.toString(s)}})}nonempty(e){return this.min(1,e)}}Zn.create=(t,e)=>new Zn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Ve(e)});function Lo(t){if(t instanceof wt){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=Mr.create(Lo(n))}return new wt({...t._def,shape:()=>e})}else return t instanceof Zn?new Zn({...t._def,type:Lo(t.element)}):t instanceof Mr?Mr.create(Lo(t.unwrap())):t instanceof pa?pa.create(Lo(t.unwrap())):t instanceof Ir?Ir.create(t.items.map(e=>Lo(e))):t}class wt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=et.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==ve.object){const d=this._getOrReturnCtx(e);return ge(d,{code:se.invalid_type,expected:ve.object,received:d.parsedType}),Ie}const{status:n,ctx:r}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof hi&&this._def.unknownKeys==="strip"))for(const d in r.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],u=r.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Rr(r,u,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof hi){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(d==="strict")l.length>0&&(ge(r,{code:se.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=r.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Rr(r,u,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,f=await h.value;d.push({key:u,value:f,alwaysSet:h.alwaysSet})}return d}).then(d=>ws.mergeObjectSync(n,d)):ws.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var r,a,o,l;const c=(o=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,s,n).message)!==null&&o!==void 0?o:n.defaultError;return s.code==="unrecognized_keys"?{message:(l=ke.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const s={};return et.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(s[n]=this.shape[n])}),new wt({...this._def,shape:()=>s})}omit(e){const s={};return et.objectKeys(this.shape).forEach(n=>{e[n]||(s[n]=this.shape[n])}),new wt({...this._def,shape:()=>s})}deepPartial(){return Lo(this)}partial(e){const s={};return et.objectKeys(this.shape).forEach(n=>{const r=this.shape[n];e&&!e[n]?s[n]=r:s[n]=r.optional()}),new wt({...this._def,shape:()=>s})}required(e){const s={};return et.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])s[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Mr;)a=a._def.innerType;s[n]=a}}),new wt({...this._def,shape:()=>s})}keyof(){return AM(et.objectKeys(this.shape))}}wt.create=(t,e)=>new wt({shape:()=>t,unknownKeys:"strip",catchall:hi.create(),typeName:Fe.ZodObject,...Ve(e)});wt.strictCreate=(t,e)=>new wt({shape:()=>t,unknownKeys:"strict",catchall:hi.create(),typeName:Fe.ZodObject,...Ve(e)});wt.lazycreate=(t,e)=>new wt({shape:t,unknownKeys:"strip",catchall:hi.create(),typeName:Fe.ZodObject,...Ve(e)});class iu extends Ge{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function r(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new an(l.ctx.common.issues));return ge(s,{code:se.invalid_union,unionErrors:o}),Ie}if(s.common.async)return Promise.all(n.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(r);{let a;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},h=c._parseSync({data:s.data,path:s.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new an(c));return ge(s,{code:se.invalid_union,unionErrors:l}),Ie}}get options(){return this._def.options}}iu.create=(t,e)=>new iu({options:t,typeName:Fe.ZodUnion,...Ve(e)});const qr=t=>t instanceof lu?qr(t.schema):t instanceof nr?qr(t.innerType()):t instanceof cu?[t.value]:t instanceof fa?t.options:t instanceof du?et.objectValues(t.enum):t instanceof uu?qr(t._def.innerType):t instanceof nu?[void 0]:t instanceof ru?[null]:t instanceof Mr?[void 0,...qr(t.unwrap())]:t instanceof pa?[null,...qr(t.unwrap())]:t instanceof Bb||t instanceof fu?qr(t.unwrap()):t instanceof hu?qr(t._def.innerType):[];class Dm extends Ge{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ve.object)return ge(s,{code:se.invalid_type,expected:ve.object,received:s.parsedType}),Ie;const n=this.discriminator,r=s.data[n],a=this.optionsMap.get(r);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(ge(s,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,n){const r=new Map;for(const a of s){const o=qr(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(r.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);r.set(l,a)}}return new Dm({typeName:Fe.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:r,...Ve(n)})}}function Cx(t,e){const s=Kr(t),n=Kr(e);if(t===e)return{valid:!0,data:t};if(s===ve.object&&n===ve.object){const r=et.objectKeys(e),a=et.objectKeys(t).filter(l=>r.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Cx(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===ve.array&&n===ve.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Cx(o,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return s===ve.date&&n===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class au extends Ge{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=(a,o)=>{if(Sx(a)||Sx(o))return Ie;const l=Cx(a.value,o.value);return l.valid?((kx(a)||kx(o))&&s.dirty(),{status:s.value,value:l.data}):(ge(n,{code:se.invalid_intersection_types}),Ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>r(a,o)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}au.create=(t,e,s)=>new au({left:t,right:e,typeName:Fe.ZodIntersection,...Ve(s)});class Ir extends Ge{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.array)return ge(n,{code:se.invalid_type,expected:ve.array,received:n.parsedType}),Ie;if(n.data.length<this._def.items.length)return ge(n,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&n.data.length>this._def.items.length&&(ge(n,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Rr(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ws.mergeArray(s,o)):ws.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new Ir({...this._def,rest:e})}}Ir.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ir({items:t,typeName:Fe.ZodTuple,rest:null,...Ve(e)})};class ou extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return ge(n,{code:se.invalid_type,expected:ve.object,received:n.parsedType}),Ie;const r=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)r.push({key:a._parse(new Rr(n,l,n.path,l)),value:o._parse(new Rr(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ws.mergeObjectAsync(s,r):ws.mergeObjectSync(s,r)}get element(){return this._def.valueType}static create(e,s,n){return s instanceof Ge?new ou({keyType:e,valueType:s,typeName:Fe.ZodRecord,...Ve(n)}):new ou({keyType:Wn.create(),valueType:e,typeName:Fe.ZodRecord,...Ve(s)})}}class Sp extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.map)return ge(n,{code:se.invalid_type,expected:ve.map,received:n.parsedType}),Ie;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:r._parse(new Rr(n,l,n.path,[d,"key"])),value:a._parse(new Rr(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Ie;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Ie;(d.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(d.value,h.value)}return{status:s.value,value:l}}}}Sp.create=(t,e,s)=>new Sp({valueType:e,keyType:t,typeName:Fe.ZodMap,...Ve(s)});class xo extends Ge{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.set)return ge(n,{code:se.invalid_type,expected:ve.set,received:n.parsedType}),Ie;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(ge(n,{code:se.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),s.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(ge(n,{code:se.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Ie;h.status==="dirty"&&s.dirty(),d.add(h.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new Rr(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new xo({...this._def,minSize:{value:e,message:ke.toString(s)}})}max(e,s){return new xo({...this._def,maxSize:{value:e,message:ke.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}xo.create=(t,e)=>new xo({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Ve(e)});class dl extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ve.function)return ge(s,{code:se.invalid_type,expected:ve.function,received:s.parsedType}),Ie;function n(l,c){return bp({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xp(),cc].filter(d=>!!d),issueData:{code:se.invalid_arguments,argumentsError:c}})}function r(l,c){return bp({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xp(),cc].filter(d=>!!d),issueData:{code:se.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof uc){const l=this;return Fs(async function(...c){const d=new an([]),h=await l._def.args.parseAsync(c,a).catch(m=>{throw d.addIssue(n(c,m)),d}),u=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(u,a).catch(m=>{throw d.addIssue(r(u,m)),d})})}else{const l=this;return Fs(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new an([n(c,d.error)]);const h=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(h,a);if(!u.success)throw new an([r(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new dl({...this._def,args:Ir.create(e).rest(ro.create())})}returns(e){return new dl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,n){return new dl({args:e||Ir.create([]).rest(ro.create()),returns:s||ro.create(),typeName:Fe.ZodFunction,...Ve(n)})}}class lu extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}lu.create=(t,e)=>new lu({getter:t,typeName:Fe.ZodLazy,...Ve(e)});class cu extends Ge{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return ge(s,{received:s.data,code:se.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}cu.create=(t,e)=>new cu({value:t,typeName:Fe.ZodLiteral,...Ve(e)});function AM(t,e){return new fa({values:t,typeName:Fe.ZodEnum,...Ve(e)})}class fa extends Ge{constructor(){super(...arguments),ad.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return ge(s,{expected:et.joinValues(n),received:s.parsedType,code:se.invalid_type}),Ie}if(wp(this,ad)||_M(this,ad,new Set(this._def.values)),!wp(this,ad).has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return ge(s,{received:s.data,code:se.invalid_enum_value,options:n}),Ie}return Fs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return fa.create(e,{...this._def,...s})}exclude(e,s=this._def){return fa.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}ad=new WeakMap;fa.create=AM;class du extends Ge{constructor(){super(...arguments),od.set(this,void 0)}_parse(e){const s=et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ve.string&&n.parsedType!==ve.number){const r=et.objectValues(s);return ge(n,{expected:et.joinValues(r),received:n.parsedType,code:se.invalid_type}),Ie}if(wp(this,od)||_M(this,od,new Set(et.getValidEnumValues(this._def.values))),!wp(this,od).has(e.data)){const r=et.objectValues(s);return ge(n,{received:n.data,code:se.invalid_enum_value,options:r}),Ie}return Fs(e.data)}get enum(){return this._def.values}}od=new WeakMap;du.create=(t,e)=>new du({values:t,typeName:Fe.ZodNativeEnum,...Ve(e)});class uc extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ve.promise&&s.common.async===!1)return ge(s,{code:se.invalid_type,expected:ve.promise,received:s.parsedType}),Ie;const n=s.parsedType===ve.promise?s.data:Promise.resolve(s.data);return Fs(n.then(r=>this._def.type.parseAsync(r,{path:s.path,errorMap:s.common.contextualErrorMap})))}}uc.create=(t,e)=>new uc({type:t,typeName:Fe.ZodPromise,...Ve(e)});class nr extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:o=>{ge(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const o=r.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Ie;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ie:c.status==="dirty"||s.value==="dirty"?Xo(c.value):c});{if(s.value==="aborted")return Ie;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ie:l.status==="dirty"||s.value==="dirty"?Xo(l.value):l}}if(r.type==="refinement"){const o=l=>{const c=r.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ie:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ie:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(r.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!yo(o))return o;const l=r.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>yo(o)?Promise.resolve(r.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);et.assertNever(r)}}nr.create=(t,e,s)=>new nr({schema:t,typeName:Fe.ZodEffects,effect:e,...Ve(s)});nr.createWithPreprocess=(t,e,s)=>new nr({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...Ve(s)});class Mr extends Ge{_parse(e){return this._getType(e)===ve.undefined?Fs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mr.create=(t,e)=>new Mr({innerType:t,typeName:Fe.ZodOptional,...Ve(e)});class pa extends Ge{_parse(e){return this._getType(e)===ve.null?Fs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pa.create=(t,e)=>new pa({innerType:t,typeName:Fe.ZodNullable,...Ve(e)});class uu extends Ge{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}uu.create=(t,e)=>new uu({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class hu extends Ge{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return tu(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hu.create=(t,e)=>new hu({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class kp extends Ge{_parse(e){if(this._getType(e)!==ve.nan){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:ve.nan,received:n.parsedType}),Ie}return{status:"valid",value:e.data}}}kp.create=t=>new kp({typeName:Fe.ZodNaN,...Ve(t)});const CQ=Symbol("zod_brand");class Bb extends Ge{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class lh extends Ge{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ie:a.status==="dirty"?(s.dirty(),Xo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?Ie:r.status==="dirty"?(s.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,s){return new lh({in:e,out:s,typeName:Fe.ZodPipeline})}}class fu extends Ge{_parse(e){const s=this._def.innerType._parse(e),n=r=>(yo(r)&&(r.value=Object.freeze(r.value)),r);return tu(s)?s.then(r=>n(r)):n(s)}unwrap(){return this._def.innerType}}fu.create=(t,e)=>new fu({innerType:t,typeName:Fe.ZodReadonly,...Ve(e)});function wS(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function FM(t,e={},s){return t?dc.create().superRefine((n,r)=>{var a,o;const l=t(n);if(l instanceof Promise)return l.then(c=>{var d,h;if(!c){const u=wS(e,n),f=(h=(d=u.fatal)!==null&&d!==void 0?d:s)!==null&&h!==void 0?h:!0;r.addIssue({code:"custom",...u,fatal:f})}});if(!l){const c=wS(e,n),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...c,fatal:d})}}):dc.create()}const PQ={object:wt.lazycreate};var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const _Q=(t,e={message:`Input not instance of ${t.name}`})=>FM(s=>s instanceof t,e),RM=Wn.create,IM=ua.create,EQ=kp.create,TQ=ha.create,OM=su.create,MQ=vo.create,AQ=jp.create,FQ=nu.create,RQ=ru.create,IQ=dc.create,OQ=ro.create,DQ=hi.create,LQ=Np.create,$Q=Zn.create,UQ=wt.create,zQ=wt.strictCreate,BQ=iu.create,VQ=Dm.create,qQ=au.create,HQ=Ir.create,WQ=ou.create,KQ=Sp.create,GQ=xo.create,YQ=dl.create,QQ=lu.create,ZQ=cu.create,XQ=fa.create,JQ=du.create,eZ=uc.create,jS=nr.create,tZ=Mr.create,sZ=pa.create,nZ=nr.createWithPreprocess,rZ=lh.create,iZ=()=>RM().optional(),aZ=()=>IM().optional(),oZ=()=>OM().optional(),lZ={string:t=>Wn.create({...t,coerce:!0}),number:t=>ua.create({...t,coerce:!0}),boolean:t=>su.create({...t,coerce:!0}),bigint:t=>ha.create({...t,coerce:!0}),date:t=>vo.create({...t,coerce:!0})},cZ=Ie;var Qe=Object.freeze({__proto__:null,defaultErrorMap:cc,setErrorMap:nQ,getErrorMap:xp,makeIssue:bp,EMPTY_PATH:rQ,addIssueToContext:ge,ParseStatus:ws,INVALID:Ie,DIRTY:Xo,OK:Fs,isAborted:Sx,isDirty:kx,isValid:yo,isAsync:tu,get util(){return et},get objectUtil(){return Nx},ZodParsedType:ve,getParsedType:Kr,ZodType:Ge,datetimeRegex:MM,ZodString:Wn,ZodNumber:ua,ZodBigInt:ha,ZodBoolean:su,ZodDate:vo,ZodSymbol:jp,ZodUndefined:nu,ZodNull:ru,ZodAny:dc,ZodUnknown:ro,ZodNever:hi,ZodVoid:Np,ZodArray:Zn,ZodObject:wt,ZodUnion:iu,ZodDiscriminatedUnion:Dm,ZodIntersection:au,ZodTuple:Ir,ZodRecord:ou,ZodMap:Sp,ZodSet:xo,ZodFunction:dl,ZodLazy:lu,ZodLiteral:cu,ZodEnum:fa,ZodNativeEnum:du,ZodPromise:uc,ZodEffects:nr,ZodTransformer:nr,ZodOptional:Mr,ZodNullable:pa,ZodDefault:uu,ZodCatch:hu,ZodNaN:kp,BRAND:CQ,ZodBranded:Bb,ZodPipeline:lh,ZodReadonly:fu,custom:FM,Schema:Ge,ZodSchema:Ge,late:PQ,get ZodFirstPartyTypeKind(){return Fe},coerce:lZ,any:IQ,array:$Q,bigint:TQ,boolean:OM,date:MQ,discriminatedUnion:VQ,effect:jS,enum:XQ,function:YQ,instanceof:_Q,intersection:qQ,lazy:QQ,literal:ZQ,map:KQ,nan:EQ,nativeEnum:JQ,never:DQ,null:RQ,nullable:sZ,number:IM,object:UQ,oboolean:oZ,onumber:aZ,optional:tZ,ostring:iZ,pipeline:rZ,preprocess:nZ,promise:eZ,record:WQ,set:GQ,strictObject:zQ,string:RM,symbol:AQ,transformer:jS,tuple:HQ,undefined:FQ,union:BQ,unknown:OQ,void:LQ,NEVER:cZ,ZodIssueCode:se,quotelessJson:sQ,ZodError:an});const Vb=IY,DM=p.createContext({}),_t=({...t})=>i.jsx(DM.Provider,{value:{name:t.name},children:i.jsx($Y,{...t})}),Lm=()=>{const t=p.useContext(DM),e=p.useContext(LM),{getFieldState:s,formState:n}=Om(),r=s(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},LM=p.createContext({}),yt=p.forwardRef(({className:t,...e},s)=>{const n=p.useId();return i.jsx(LM.Provider,{value:{id:n},children:i.jsx("div",{ref:s,className:te("space-y-2",t),...e})})});yt.displayName="FormItem";const vt=p.forwardRef(({className:t,...e},s)=>{const{error:n,formItemId:r}=Lm();return i.jsx(je,{ref:s,className:te(n&&"text-destructive",t),htmlFor:r,...e})});vt.displayName="FormLabel";const xt=p.forwardRef(({...t},e)=>{const{error:s,formItemId:n,formDescriptionId:r,formMessageId:a}=Lm();return i.jsx(w2,{ref:e,id:n,"aria-describedby":s?`${r} ${a}`:`${r}`,"aria-invalid":!!s,...t})});xt.displayName="FormControl";const $M=p.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:n}=Lm();return i.jsx("p",{ref:s,id:n,className:te("text-sm text-muted-foreground",t),...e})});$M.displayName="FormDescription";const bt=p.forwardRef(({className:t,children:e,...s},n)=>{const{error:r,formMessageId:a}=Lm(),o=r?String((r==null?void 0:r.message)??""):e;return o?i.jsx("p",{ref:n,id:a,className:te("text-sm font-medium text-destructive",t),...s,children:o}):null});bt.displayName="FormMessage";function dZ({title:t,description:e,backgroundColor:s,ctaText:n,category:r}){const a=kb(s);return i.jsx(X,{className:"relative overflow-hidden border-l-4 border-l-blue-500",style:{backgroundColor:s},"data-testid":"ad-preview",children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(ze,{variant:"secondary",className:"text-xs",children:"Sponsored"}),i.jsx(ze,{variant:"outline",className:"text-xs",children:r})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold leading-tight",style:{color:a},"data-testid":"preview-title",children:t}),i.jsx("p",{className:"text-sm leading-relaxed",style:{color:a},"data-testid":"preview-description",children:e}),i.jsx(D,{size:"sm",className:"mt-3","data-testid":"preview-cta",children:n})]}),i.jsxs("div",{className:"text-xs mt-3 opacity-70",style:{color:a},children:["Text color: ",_K(s)?"White (black background)":"Black (colored background)"]})]})})}const uZ=Qe.object({title:Qe.string().min(1,"Title is required").max(100,"Title too long"),description:Qe.string().min(1,"Description is required").max(500,"Description too long"),imageUrl:Qe.string().url("Must be a valid URL").optional().or(Qe.literal("")),videoUrl:Qe.string().url("Must be a valid URL").optional().or(Qe.literal("")),ctaText:Qe.string().min(1,"Call-to-action text is required").max(30,"CTA text too long"),ctaUrl:Qe.string().url("Must be a valid URL"),backgroundColor:Qe.string().default("#ffffff"),category:Qe.enum(["fitness","tech","food","travel","fashion","entertainment","education","finance","health","lifestyle"]),targetInterests:Qe.array(Qe.string()).default([]),targetMusicGenres:Qe.array(Qe.string()).default([]),targetRelationshipStatus:Qe.array(Qe.string()).default([]),targetHobbies:Qe.array(Qe.string()).default([]),targetPetPreferences:Qe.array(Qe.string()).default([]),targetLifestyle:Qe.array(Qe.string()).default([]),targetAgeMin:Qe.number().min(13).max(100).optional(),targetAgeMax:Qe.number().min(13).max(100).optional(),priority:Qe.number().min(1).max(10).default(1),dailyBudget:Qe.number().min(0).optional(),costPerClick:Qe.number().min(0).optional(),startDate:Qe.string(),endDate:Qe.string(),advertiserName:Qe.string().min(1,"Advertiser name is required"),advertiserEmail:Qe.string().email("Must be a valid email")});function hZ(){const{toast:t}=Ct(),[e,s]=p.useState(null),[n,r]=p.useState(!1),{data:a=[],isLoading:o}=it({queryKey:["/api/ads"]}),l=Ub({resolver:zb(uZ),defaultValues:{title:"",description:"",imageUrl:"",videoUrl:"",backgroundColor:"#ffffff",ctaText:"Learn More",ctaUrl:"",category:"lifestyle",targetInterests:[],targetMusicGenres:[],targetRelationshipStatus:[],targetHobbies:[],targetPetPreferences:[],targetLifestyle:[],priority:1,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],advertiserName:"",advertiserEmail:""}}),c=Te({mutationFn:async g=>{const x={...g,imageUrl:g.imageUrl||void 0,videoUrl:g.videoUrl||void 0,dailyBudget:g.dailyBudget||void 0,costPerClick:g.costPerClick||void 0,targetAgeMin:g.targetAgeMin||void 0,targetAgeMax:g.targetAgeMax||void 0,startDate:new Date(g.startDate).toISOString(),endDate:new Date(g.endDate).toISOString(),status:"active"};return fe("/api/ads","POST",x)},onSuccess:()=>{qi.invalidateQueries({queryKey:["/api/ads"]}),t({title:"Success",description:"Ad created successfully"}),r(!1),l.reset()},onError:g=>{t({title:"Error",description:g.message||"Failed to create ad",variant:"destructive"})}}),d=Te({mutationFn:async({id:g,data:x})=>{const y={...x,imageUrl:x.imageUrl||void 0,videoUrl:x.videoUrl||void 0,dailyBudget:x.dailyBudget||void 0,costPerClick:x.costPerClick||void 0,targetAgeMin:x.targetAgeMin||void 0,targetAgeMax:x.targetAgeMax||void 0,startDate:new Date(x.startDate).toISOString(),endDate:new Date(x.endDate).toISOString()};return fe(`/api/ads/${g}`,"PATCH",y)},onSuccess:()=>{qi.invalidateQueries({queryKey:["/api/ads"]}),t({title:"Success",description:"Ad updated successfully"}),s(null),r(!1),l.reset()},onError:g=>{t({title:"Error",description:g.message||"Failed to update ad",variant:"destructive"})}}),h=Te({mutationFn:async g=>fe(`/api/ads/${g}`,"DELETE"),onSuccess:()=>{qi.invalidateQueries({queryKey:["/api/ads"]}),t({title:"Success",description:"Ad deleted successfully"})},onError:g=>{t({title:"Error",description:g.message||"Failed to delete ad",variant:"destructive"})}}),u=Te({mutationFn:async({id:g,status:x})=>fe(`/api/ads/${g}/status`,"PATCH",{status:x}),onSuccess:()=>{qi.invalidateQueries({queryKey:["/api/ads"]}),t({title:"Success",description:"Ad status updated"})},onError:g=>{t({title:"Error",description:g.message||"Failed to update ad status",variant:"destructive"})}}),f=g=>{s(g),r(!0),l.reset({title:g.title,description:g.description,imageUrl:g.imageUrl??"",videoUrl:g.videoUrl??"",backgroundColor:g.backgroundColor??"#ffffff",ctaText:g.ctaText??"Learn More",ctaUrl:g.ctaUrl,category:g.category,targetInterests:g.targetInterests||[],targetMusicGenres:g.targetMusicGenres||[],targetRelationshipStatus:g.targetRelationshipStatus||[],targetHobbies:g.targetHobbies||[],targetPetPreferences:g.targetPetPreferences||[],targetLifestyle:g.targetLifestyle||[],targetAgeMin:g.targetAgeMin?Number(g.targetAgeMin):void 0,targetAgeMax:g.targetAgeMax?Number(g.targetAgeMax):void 0,priority:Number(g.priority),dailyBudget:g.dailyBudget?Number(g.dailyBudget):void 0,costPerClick:g.costPerClick?Number(g.costPerClick):void 0,startDate:g.startDate?new Date(g.startDate).toISOString().split("T")[0]:"",endDate:g.endDate?new Date(g.endDate).toISOString().split("T")[0]:"",advertiserName:g.advertiserName,advertiserEmail:g.advertiserEmail})},m=g=>{e?d.mutate({id:e.id,data:g}):c.mutate(g)},b=()=>{s(null),r(!0),l.reset()};return o?i.jsx("div",{className:"p-6",children:"Loading ads..."}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white",children:"Sponsored Ads Manager"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your sponsored advertisements"})]}),i.jsxs(D,{onClick:b,"data-testid":"new-ad-button",children:[i.jsx(ci,{className:"w-4 h-4 mr-2"}),"New Ad"]})]}),n&&i.jsxs(X,{children:[i.jsx(Ce,{children:i.jsx(Pe,{children:e?"Edit Ad":"Create New Ad"})}),i.jsx(J,{children:i.jsx(Vb,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(m),className:"space-y-6",children:[i.jsxs(wa,{defaultValue:"basic",className:"w-full",children:[i.jsxs(gi,{children:[i.jsx(Nt,{value:"basic",children:"Basic Info"}),i.jsx(Nt,{value:"targeting",children:"Targeting"}),i.jsx(Nt,{value:"budget",children:"Budget & Dates"})]}),i.jsxs(It,{value:"basic",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"title",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Title"}),i.jsx(xt,{children:i.jsx(he,{...g,"data-testid":"ad-title-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"category",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Category"}),i.jsxs(tn,{onValueChange:g.onChange,defaultValue:g.value,children:[i.jsx(xt,{children:i.jsx(qs,{"data-testid":"ad-category-select",children:i.jsx(sn,{placeholder:"Select category"})})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"fitness",children:"Fitness"}),i.jsx(be,{value:"tech",children:"Technology"}),i.jsx(be,{value:"food",children:"Food & Drink"}),i.jsx(be,{value:"travel",children:"Travel"}),i.jsx(be,{value:"fashion",children:"Fashion"}),i.jsx(be,{value:"entertainment",children:"Entertainment"}),i.jsx(be,{value:"education",children:"Education"}),i.jsx(be,{value:"finance",children:"Finance"}),i.jsx(be,{value:"health",children:"Health"}),i.jsx(be,{value:"lifestyle",children:"Lifestyle"})]})]}),i.jsx(bt,{})]})})]}),i.jsx(_t,{control:l.control,name:"description",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Description"}),i.jsx(xt,{children:i.jsx(tr,{...g,rows:3,"data-testid":"ad-description-input"})}),i.jsx(bt,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"imageUrl",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Image URL (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,placeholder:"https://...","data-testid":"ad-image-url-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"videoUrl",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Video URL (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,placeholder:"https://...","data-testid":"ad-video-url-input"})}),i.jsx(bt,{})]})})]}),i.jsx(_t,{control:l.control,name:"backgroundColor",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Background Color"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"color","data-testid":"ad-background-color-input"})}),i.jsx(bt,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"ctaText",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Call-to-Action Text"}),i.jsx(xt,{children:i.jsx(he,{...g,"data-testid":"ad-cta-text-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"ctaUrl",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Call-to-Action URL"}),i.jsx(xt,{children:i.jsx(he,{...g,placeholder:"https://...","data-testid":"ad-cta-url-input"})}),i.jsx(bt,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"advertiserName",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Advertiser Name"}),i.jsx(xt,{children:i.jsx(he,{...g,"data-testid":"ad-advertiser-name-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"advertiserEmail",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Advertiser Email"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"email","data-testid":"ad-advertiser-email-input"})}),i.jsx(bt,{})]})})]})]}),i.jsxs(It,{value:"targeting",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"targetAgeMin",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Minimum Age (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"number",min:"13",max:"100",onChange:x=>g.onChange(x.target.value?parseInt(x.target.value):void 0),"data-testid":"ad-age-min-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"targetAgeMax",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Maximum Age (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"number",min:"13",max:"100",onChange:x=>g.onChange(x.target.value?parseInt(x.target.value):void 0),"data-testid":"ad-age-max-input"})}),i.jsx(bt,{})]})})]}),i.jsx(_t,{control:l.control,name:"targetInterests",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Target Interests (comma-separated)"}),i.jsx(xt,{children:i.jsx(he,{value:g.value.join(", "),onChange:x=>g.onChange(x.target.value.split(",").map(y=>y.trim()).filter(Boolean)),placeholder:"fitness, health, sports","data-testid":"ad-interests-input"})}),i.jsx(bt,{})]})})]}),i.jsxs(It,{value:"budget",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(_t,{control:l.control,name:"priority",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Priority (1-10)"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"number",min:"1",max:"10",onChange:x=>g.onChange(parseInt(x.target.value)),"data-testid":"ad-priority-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"dailyBudget",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Daily Budget (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"number",min:"0",step:"0.01",onChange:x=>g.onChange(x.target.value?parseFloat(x.target.value):void 0),"data-testid":"ad-budget-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"costPerClick",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Cost per Click (optional)"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"number",min:"0",step:"0.01",onChange:x=>g.onChange(x.target.value?parseFloat(x.target.value):void 0),"data-testid":"ad-cpc-input"})}),i.jsx(bt,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(_t,{control:l.control,name:"startDate",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"Start Date"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"date","data-testid":"ad-start-date-input"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:l.control,name:"endDate",render:({field:g})=>i.jsxs(yt,{children:[i.jsx(vt,{children:"End Date"}),i.jsx(xt,{children:i.jsx(he,{...g,type:"date","data-testid":"ad-end-date-input"})}),i.jsx(bt,{})]})})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Preview"}),i.jsx(dZ,{title:l.watch("title")||"Ad Title",description:l.watch("description")||"Ad description will appear here",backgroundColor:l.watch("backgroundColor")||"#ffffff",ctaText:l.watch("ctaText")||"Learn More",category:l.watch("category")})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(D,{type:"submit",disabled:c.isPending||d.isPending,"data-testid":"save-ad-button",children:e?"Update Ad":"Create Ad"}),i.jsx(D,{type:"button",variant:"outline",onClick:()=>{r(!1),s(null),l.reset()},"data-testid":"cancel-ad-button",children:"Cancel"})]})]})})})]}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-black dark:text-white",children:["Active Ads (",a.length,")"]}),a.length===0?i.jsx(X,{children:i.jsx(J,{className:"p-6 text-center",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No ads created yet"})})}):a.map(g=>{const x=g.backgroundColor||"#ffffff",y=kb(x);return i.jsx(X,{"data-testid":`ad-card-${g.id}`,className:"border-l-4 border-l-blue-500",style:{backgroundColor:x},children:i.jsx(J,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:y},children:g.title}),i.jsx(ze,{variant:g.status==="active"?"default":"secondary",style:{color:y,borderColor:y},children:g.status}),i.jsx(ze,{variant:"outline",style:{color:y,borderColor:y},children:g.category})]}),i.jsx("p",{className:"text-sm mb-3",style:{color:y},children:g.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",style:{color:y},children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fo,{className:"w-4 h-4"}),i.jsxs("span",{children:[g.impressions||0," views"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J2,{className:"w-4 h-4"}),i.jsxs("span",{children:[g.clicks||0," clicks"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(li,{className:"w-4 h-4"}),i.jsxs("span",{children:[g.startDate?new Date(g.startDate).toLocaleDateString():"N/A"," - ",g.endDate?new Date(g.endDate).toLocaleDateString():"N/A"]})]})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("span",{className:"text-sm",style:{color:y},children:["Advertiser: ",g.advertiserName," (",g.advertiserEmail,")"]})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ah,{checked:g.status==="active",onCheckedChange:v=>u.mutate({id:g.id,status:v?"active":"paused"}),"data-testid":`ad-status-toggle-${g.id}`}),i.jsx(D,{variant:"outline",size:"sm",onClick:()=>f(g),"data-testid":`edit-ad-${g.id}`,children:i.jsx(hm,{className:"w-4 h-4"})}),i.jsx(D,{variant:"outline",size:"sm",onClick:()=>h.mutate(g.id),disabled:h.isPending,"data-testid":`delete-ad-${g.id}`,children:i.jsx(tc,{className:"w-4 h-4"})})]})]})})},g.id)})]}),i.jsx(dn,{})]})}function fZ(){const[t,e]=p.useState("default"),[s,n]=p.useState(null),r="Notification"in window;p.useEffect(()=>{r&&e(Notification.permission)},[r]);const{data:a=[]}=it({queryKey:["/api/notifications"],refetchInterval:3e4,staleTime:15e3,enabled:r&&t==="granted"});p.useEffect(()=>{if(!r||t!=="granted"||a.length===0)return;const c=a.filter(h=>!h.isRead&&h.isVisible).sort((h,u)=>new Date(u.createdAt).getTime()-new Date(h.createdAt).getTime());if(c.length===0)return;const d=c[0];if(d.id!==s){n(d.id);let h="MyKliq",u=d.message,f="/favicon.ico";switch(d.type){case"post_like":h=" New Like";break;case"comment":h=" New Comment";break;case"friend_request":h=" Friend Request";break;case"event_invite":h=" Event Invitation";break;case"message":h=" New Message";break;case"birthday":h=" Birthday Reminder";break;case"meetup_invite":h=" Meetup Invitation";break;case"live_stream":h=" Live Stream";break;default:h=" MyKliq Notification"}l(h,{body:u,icon:f,badge:f,tag:d.type,requireInteraction:!1,silent:!1,data:{notificationId:d.id,type:d.type,url:window.location.origin}})}},[a,t,r,s]);const o=async()=>{if(!r)return"denied";try{const c=await Notification.requestPermission();return e(c),c}catch(c){return console.error("Error requesting notification permission:",c),"denied"}},l=(c,d={})=>{if(!(!r||t!=="granted"))try{const h=new Notification(c,{...d,...!d.requireInteraction&&{timestamp:Date.now()}});d.requireInteraction||setTimeout(()=>{h.close()},6e3),h.onclick=()=>{var u;window.focus(),h.close(),(u=d.data)!=null&&u.url&&(window.location.href=d.data.url)},h.onclose=()=>{console.log("Notification closed")}}catch(h){console.error("Error showing notification:",h)}};return{permission:t,requestPermission:o,showNotification:l,isSupported:r}}function pZ({onDismiss:t,compact:e=!1,darkStyle:s=!1}){const{permission:n,requestPermission:r,isSupported:a}=fZ(),[o,l]=p.useState(!1),c=async u=>{if(u){l(!0);try{await r()}finally{l(!1)}}};if(!a)return null;const d=n==="granted",h=n==="denied";return i.jsx(X,{className:te("transition-all duration-200",s?"bg-black border-gray-700 text-white":"bg-card border-border"),children:i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:te("p-2 rounded-full transition-colors",s?d?"bg-green-600":"bg-gray-600":d?"bg-green-500":"bg-muted"),children:d?i.jsx(Vd,{className:te("w-4 h-4","text-white")}):i.jsx(PI,{className:te("w-4 h-4",s?"text-gray-300":"text-muted-foreground")})}),i.jsxs("div",{children:[i.jsx("h3",{className:te("font-medium text-sm",s?"text-white":"text-foreground"),children:"Push Notifications"}),i.jsx("p",{className:te("text-xs",s?"text-gray-300":"text-muted-foreground"),children:d?"Receiving real-time alerts":h?"Blocked - check browser settings":"Get instant kliq activity alerts"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ah,{checked:d,onCheckedChange:c,disabled:o||h,className:te("data-[state=checked]:bg-green-500",h&&"opacity-50 cursor-not-allowed")}),t&&!d&&i.jsx(D,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 ml-1",children:i.jsx(ds,{className:"w-3 h-3"})})]})]}),h&&i.jsx("div",{className:te("mt-3 p-2 rounded text-xs",s?"bg-gray-800 text-gray-300":"bg-orange-50 text-orange-700 border border-orange-200"),children:"To enable notifications, click the notification icon in your browser's address bar and allow notifications."})]})})}var Px=["Enter"," "],mZ=["ArrowDown","PageUp","Home"],UM=["ArrowUp","PageDown","End"],gZ=[...mZ,...UM],yZ={ltr:[...Px,"ArrowRight"],rtl:[...Px,"ArrowLeft"]},vZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ch="Menu",[pu,xZ,bZ]=Gu(ch),[ko,zM]=Ns(ch,[bZ,xa,Pm]),$m=xa(),BM=Pm(),[wZ,Co]=ko(ch),[jZ,dh]=ko(ch),VM=t=>{const{__scopeMenu:e,open:s=!1,children:n,dir:r,onOpenChange:a,modal:o=!0}=t,l=$m(e),[c,d]=p.useState(null),h=p.useRef(!1),u=mt(a),f=bc(r);return p.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(X0,{...l,children:i.jsx(wZ,{scope:e,open:s,onOpenChange:u,content:c,onContentChange:d,children:i.jsx(jZ,{scope:e,onClose:p.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:f,modal:o,children:n})})})};VM.displayName=ch;var NZ="MenuAnchor",qb=p.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t,r=$m(s);return i.jsx(Xu,{...r,...n,ref:e})});qb.displayName=NZ;var Hb="MenuPortal",[SZ,qM]=ko(Hb,{forceMount:void 0}),HM=t=>{const{__scopeMenu:e,forceMount:s,children:n,container:r}=t,a=Co(Hb,e);return i.jsx(SZ,{scope:e,forceMount:s,children:i.jsx(us,{present:s||a.open,children:i.jsx(gc,{asChild:!0,container:r,children:n})})})};HM.displayName=Hb;var xn="MenuContent",[kZ,Wb]=ko(xn),WM=p.forwardRef((t,e)=>{const s=qM(xn,t.__scopeMenu),{forceMount:n=s.forceMount,...r}=t,a=Co(xn,t.__scopeMenu),o=dh(xn,t.__scopeMenu);return i.jsx(pu.Provider,{scope:t.__scopeMenu,children:i.jsx(us,{present:n||a.open,children:i.jsx(pu.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(CZ,{...r,ref:e}):i.jsx(PZ,{...r,ref:e})})})})}),CZ=p.forwardRef((t,e)=>{const s=Co(xn,t.__scopeMenu),n=p.useRef(null),r=Le(e,n);return p.useEffect(()=>{const a=n.current;if(a)return Sm(a)},[]),i.jsx(Kb,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),PZ=p.forwardRef((t,e)=>{const s=Co(xn,t.__scopeMenu);return i.jsx(Kb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),_Z=na("MenuContent.ScrollLock"),Kb=p.forwardRef((t,e)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:m,disableOutsideScroll:b,...g}=t,x=Co(xn,s),y=dh(xn,s),v=$m(s),w=BM(s),S=xZ(s),[N,P]=p.useState(null),C=p.useRef(null),_=Le(e,C,x.onContentChange),A=p.useRef(0),k=p.useRef(""),R=p.useRef(0),O=p.useRef(null),$=p.useRef("right"),z=p.useRef(0),ee=b?eh:p.Fragment,K=b?{as:_Z,allowPinchZoom:!0}:void 0,Z=I=>{var pe,Se;const U=k.current+I,H=S().filter(We=>!We.disabled),ce=document.activeElement,Y=(pe=H.find(We=>We.ref.current===ce))==null?void 0:pe.textValue,xe=H.map(We=>We.textValue),Ze=UZ(xe,U,Y),Be=(Se=H.find(We=>We.textValue===Ze))==null?void 0:Se.ref.current;(function We(Ke){k.current=Ke,window.clearTimeout(A.current),Ke!==""&&(A.current=window.setTimeout(()=>We(""),1e3))})(U),Be&&setTimeout(()=>Be.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),jm();const F=p.useCallback(I=>{var H,ce;return $.current===((H=O.current)==null?void 0:H.side)&&BZ(I,(ce=O.current)==null?void 0:ce.area)},[]);return i.jsx(kZ,{scope:s,searchRef:k,onItemEnter:p.useCallback(I=>{F(I)&&I.preventDefault()},[F]),onItemLeave:p.useCallback(I=>{var U;F(I)||((U=C.current)==null||U.focus(),P(null))},[F]),onTriggerLeave:p.useCallback(I=>{F(I)&&I.preventDefault()},[F]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(I=>{O.current=I},[]),children:i.jsx(ee,{...K,children:i.jsx(Ju,{asChild:!0,trapped:r,onMountAutoFocus:ne(a,I=>{var U;I.preventDefault(),(U=C.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(So,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:m,children:i.jsx(FT,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:ne(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(gm,{role:"menu","aria-orientation":"vertical","data-state":lA(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,ce=I.ctrlKey||I.altKey||I.metaKey,Y=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!ce&&Y&&Z(I.key));const xe=C.current;if(I.target!==xe||!gZ.includes(I.key))return;I.preventDefault();const Be=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);UM.includes(I.key)&&Be.reverse(),LZ(Be)}),onBlur:ne(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:ne(t.onPointerMove,mu(I=>{const U=I.target,H=z.current!==I.clientX;if(I.currentTarget.contains(U)&&H){const ce=I.clientX>z.current?"right":"left";$.current=ce,z.current=I.clientX}}))})})})})})})});WM.displayName=xn;var EZ="MenuGroup",Gb=p.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return i.jsx(Ne.div,{role:"group",...n,ref:e})});Gb.displayName=EZ;var TZ="MenuLabel",KM=p.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return i.jsx(Ne.div,{...n,ref:e})});KM.displayName=TZ;var Cp="MenuItem",NS="menu.itemSelect",Um=p.forwardRef((t,e)=>{const{disabled:s=!1,onSelect:n,...r}=t,a=p.useRef(null),o=dh(Cp,t.__scopeMenu),l=Wb(Cp,t.__scopeMenu),c=Le(e,a),d=p.useRef(!1),h=()=>{const u=a.current;if(!s&&u){const f=new CustomEvent(NS,{bubbles:!0,cancelable:!0});u.addEventListener(NS,m=>n==null?void 0:n(m),{once:!0}),E0(u,f),f.defaultPrevented?d.current=!1:o.onClose()}};return i.jsx(GM,{...r,ref:c,disabled:s,onClick:ne(t.onClick,h),onPointerDown:u=>{var f;(f=t.onPointerDown)==null||f.call(t,u),d.current=!0},onPointerUp:ne(t.onPointerUp,u=>{var f;d.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:ne(t.onKeyDown,u=>{const f=l.searchRef.current!=="";s||f&&u.key===" "||Px.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Um.displayName=Cp;var GM=p.forwardRef((t,e)=>{const{__scopeMenu:s,disabled:n=!1,textValue:r,...a}=t,o=Wb(Cp,s),l=BM(s),c=p.useRef(null),d=Le(e,c),[h,u]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[a.children]),i.jsx(pu.ItemSlot,{scope:s,disabled:n,textValue:r??f,children:i.jsx(RT,{asChild:!0,...l,focusable:!n,children:i.jsx(Ne.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:ne(t.onPointerMove,mu(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(t.onPointerLeave,mu(b=>o.onItemLeave(b))),onFocus:ne(t.onFocus,()=>u(!0)),onBlur:ne(t.onBlur,()=>u(!1))})})})}),MZ="MenuCheckboxItem",YM=p.forwardRef((t,e)=>{const{checked:s=!1,onCheckedChange:n,...r}=t;return i.jsx(eA,{scope:t.__scopeMenu,checked:s,children:i.jsx(Um,{role:"menuitemcheckbox","aria-checked":Pp(s)?"mixed":s,...r,ref:e,"data-state":Qb(s),onSelect:ne(r.onSelect,()=>n==null?void 0:n(Pp(s)?!0:!s),{checkForDefaultPrevented:!1})})})});YM.displayName=MZ;var QM="MenuRadioGroup",[AZ,FZ]=ko(QM,{value:void 0,onValueChange:()=>{}}),ZM=p.forwardRef((t,e)=>{const{value:s,onValueChange:n,...r}=t,a=mt(n);return i.jsx(AZ,{scope:t.__scopeMenu,value:s,onValueChange:a,children:i.jsx(Gb,{...r,ref:e})})});ZM.displayName=QM;var XM="MenuRadioItem",JM=p.forwardRef((t,e)=>{const{value:s,...n}=t,r=FZ(XM,t.__scopeMenu),a=s===r.value;return i.jsx(eA,{scope:t.__scopeMenu,checked:a,children:i.jsx(Um,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Qb(a),onSelect:ne(n.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,s)},{checkForDefaultPrevented:!1})})})});JM.displayName=XM;var Yb="MenuItemIndicator",[eA,RZ]=ko(Yb,{checked:!1}),tA=p.forwardRef((t,e)=>{const{__scopeMenu:s,forceMount:n,...r}=t,a=RZ(Yb,s);return i.jsx(us,{present:n||Pp(a.checked)||a.checked===!0,children:i.jsx(Ne.span,{...r,ref:e,"data-state":Qb(a.checked)})})});tA.displayName=Yb;var IZ="MenuSeparator",sA=p.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return i.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});sA.displayName=IZ;var OZ="MenuArrow",nA=p.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t,r=$m(s);return i.jsx(ym,{...r,...n,ref:e})});nA.displayName=OZ;var DZ="MenuSub",[fJ,rA]=ko(DZ),ld="MenuSubTrigger",iA=p.forwardRef((t,e)=>{const s=Co(ld,t.__scopeMenu),n=dh(ld,t.__scopeMenu),r=rA(ld,t.__scopeMenu),a=Wb(ld,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),c(null)}},[l,c]),i.jsx(qb,{asChild:!0,...d,children:i.jsx(GM,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":r.contentId,"data-state":lA(s.open),...t,ref:im(e,r.onTriggerChange),onClick:u=>{var f;(f=t.onClick)==null||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,mu(u=>{a.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:ne(t.onPointerLeave,mu(u=>{var m,b;h();const f=(m=s.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(b=s.content)==null?void 0:b.dataset.side,x=g==="right",y=x?-5:5,v=f[x?"left":"right"],w=f[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+y,y:u.clientY},{x:v,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,u=>{var m;const f=a.searchRef.current!=="";t.disabled||f&&u.key===" "||yZ[n.dir].includes(u.key)&&(s.onOpenChange(!0),(m=s.content)==null||m.focus(),u.preventDefault())})})})});iA.displayName=ld;var aA="MenuSubContent",oA=p.forwardRef((t,e)=>{const s=qM(xn,t.__scopeMenu),{forceMount:n=s.forceMount,...r}=t,a=Co(xn,t.__scopeMenu),o=dh(xn,t.__scopeMenu),l=rA(aA,t.__scopeMenu),c=p.useRef(null),d=Le(e,c);return i.jsx(pu.Provider,{scope:t.__scopeMenu,children:i.jsx(us,{present:n||a.open,children:i.jsx(pu.Slot,{scope:t.__scopeMenu,children:i.jsx(Kb,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;o.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ne(t.onKeyDown,h=>{var m;const u=h.currentTarget.contains(h.target),f=vZ[o.dir].includes(h.key);u&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),h.preventDefault())})})})})})});oA.displayName=aA;function lA(t){return t?"open":"closed"}function Pp(t){return t==="indeterminate"}function Qb(t){return Pp(t)?"indeterminate":t?"checked":"unchecked"}function LZ(t){const e=document.activeElement;for(const s of t)if(s===e||(s.focus(),document.activeElement!==e))return}function $Z(t,e){return t.map((s,n)=>t[(e+n)%t.length])}function UZ(t,e,s){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=$Z(t,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}function zZ(t,e){const{x:s,y:n}=t;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,h=e[o].y;c>n!=h>n&&s<(d-l)*(n-c)/(h-c)+l&&(r=!r)}return r}function BZ(t,e){if(!e)return!1;const s={x:t.clientX,y:t.clientY};return zZ(s,e)}function mu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VZ=VM,qZ=qb,HZ=HM,WZ=WM,KZ=Gb,GZ=KM,YZ=Um,QZ=YM,ZZ=ZM,XZ=JM,JZ=tA,eX=sA,tX=nA,sX=iA,nX=oA,Zb="DropdownMenu",[rX,pJ]=Ns(Zb,[zM]),Os=zM(),[iX,cA]=rX(Zb),dA=t=>{const{__scopeDropdownMenu:e,children:s,dir:n,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Os(e),d=p.useRef(null),[h=!1,u]=Ar({prop:r,defaultProp:a,onChange:o});return i.jsx(iX,{scope:e,triggerId:Qn(),triggerRef:d,contentId:Qn(),open:h,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:l,children:i.jsx(VZ,{...c,open:h,onOpenChange:u,dir:n,modal:l,children:s})})};dA.displayName=Zb;var uA="DropdownMenuTrigger",hA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...r}=t,a=cA(uA,s),o=Os(s);return i.jsx(qZ,{asChild:!0,...o,children:i.jsx(Ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:im(e,a.triggerRef),onPointerDown:ne(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ne(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});hA.displayName=uA;var aX="DropdownMenuPortal",fA=t=>{const{__scopeDropdownMenu:e,...s}=t,n=Os(e);return i.jsx(HZ,{...n,...s})};fA.displayName=aX;var pA="DropdownMenuContent",mA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=cA(pA,s),a=Os(s),o=p.useRef(!1);return i.jsx(WZ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...n,ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!r.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mA.displayName=pA;var oX="DropdownMenuGroup",lX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(KZ,{...r,...n,ref:e})});lX.displayName=oX;var cX="DropdownMenuLabel",gA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(GZ,{...r,...n,ref:e})});gA.displayName=cX;var dX="DropdownMenuItem",yA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(YZ,{...r,...n,ref:e})});yA.displayName=dX;var uX="DropdownMenuCheckboxItem",vA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(QZ,{...r,...n,ref:e})});vA.displayName=uX;var hX="DropdownMenuRadioGroup",fX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(ZZ,{...r,...n,ref:e})});fX.displayName=hX;var pX="DropdownMenuRadioItem",xA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(XZ,{...r,...n,ref:e})});xA.displayName=pX;var mX="DropdownMenuItemIndicator",bA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(JZ,{...r,...n,ref:e})});bA.displayName=mX;var gX="DropdownMenuSeparator",wA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(eX,{...r,...n,ref:e})});wA.displayName=gX;var yX="DropdownMenuArrow",vX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(tX,{...r,...n,ref:e})});vX.displayName=yX;var xX="DropdownMenuSubTrigger",jA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(sX,{...r,...n,ref:e})});jA.displayName=xX;var bX="DropdownMenuSubContent",NA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,r=Os(s);return i.jsx(nX,{...r,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NA.displayName=bX;var wX=dA,jX=hA,NX=fA,SA=mA,kA=gA,CA=yA,PA=vA,_A=xA,EA=bA,TA=wA,MA=jA,AA=NA;const SX=wX,kX=jX,CX=p.forwardRef(({className:t,inset:e,children:s,...n},r)=>i.jsxs(MA,{ref:r,className:te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[s,i.jsx(MI,{className:"ml-auto"})]}));CX.displayName=MA.displayName;const PX=p.forwardRef(({className:t,...e},s)=>i.jsx(AA,{ref:s,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-black p-1 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));PX.displayName=AA.displayName;const FA=p.forwardRef(({className:t,sideOffset:e=4,...s},n)=>i.jsx(NX,{children:i.jsx(SA,{ref:n,sideOffset:e,className:te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-white text-black p-1 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));FA.displayName=SA.displayName;const RA=p.forwardRef(({className:t,inset:e,...s},n)=>i.jsx(CA,{ref:n,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s}));RA.displayName=CA.displayName;const _X=p.forwardRef(({className:t,children:e,checked:s,...n},r)=>i.jsxs(PA,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(EA,{children:i.jsx(Xl,{className:"h-4 w-4"})})}),e]}));_X.displayName=PA.displayName;const EX=p.forwardRef(({className:t,children:e,...s},n)=>i.jsxs(_A,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(EA,{children:i.jsx(RI,{className:"h-2 w-2 fill-current"})})}),e]}));EX.displayName=_A.displayName;const TX=p.forwardRef(({className:t,inset:e,...s},n)=>i.jsx(kA,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));TX.displayName=kA.displayName;const MX=p.forwardRef(({className:t,...e},s)=>i.jsx(TA,{ref:s,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));MX.displayName=TA.displayName;const Jh=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"it",name:"Italiano",flag:""},{code:"zh",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"ko",name:"",flag:""},{code:"ar",name:"",flag:""}];function IA({variant:t="dropdown",showFlag:e=!0,className:s=""}){const{i18n:n,t:r}=bm(),[a,o]=p.useState(!0),l=Jh.find(d=>d.code===n.language)||Jh[0],c=d=>{n.changeLanguage(d),o(!1),localStorage.setItem("i18nextLng",d)};return t==="select"?i.jsxs("div",{className:`space-y-2 ${s}`,children:[i.jsx("label",{className:"text-sm font-medium",children:r("language.selectLanguage")}),i.jsxs(tn,{value:n.language,onValueChange:c,children:[i.jsx(qs,{children:i.jsx(sn,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[e&&i.jsx("span",{children:l.flag}),i.jsx("span",{children:l.name}),a&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r("language.autoDetected"),")"]})]})})}),i.jsx(Hs,{children:Jh.map(d=>i.jsx(be,{value:d.code,children:i.jsxs("div",{className:"flex items-center gap-2",children:[e&&i.jsx("span",{children:d.flag}),i.jsx("span",{children:d.name})]})},d.code))})]})]}):i.jsxs(SX,{children:[i.jsx(kX,{asChild:!0,children:i.jsxs(D,{variant:"ghost",size:"sm",className:`gap-2 ${s}`,"data-testid":"button-language-selector",children:[i.jsx(UI,{className:"w-4 h-4"}),e&&i.jsx("span",{children:l.flag}),i.jsx("span",{className:"hidden sm:inline",children:l.name}),i.jsx("span",{className:"sm:hidden",children:l.code.toUpperCase()})]})}),i.jsx(FA,{align:"end",className:"w-48",children:Jh.map(d=>i.jsxs(RA,{onClick:()=>c(d.code),className:`flex items-center gap-3 ${n.language===d.code?"bg-accent":""}`,"data-testid":`language-option-${d.code}`,children:[e&&i.jsx("span",{className:"text-lg",children:d.flag}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:d.name}),n.language===d.code&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[r("language.currentLanguage"),a&&`  ${r("language.autoDetected")}`]})]})]},d.code))})]})}const ey={instagram:{name:"Instagram",icon:Y2,color:"bg-gradient-to-r from-purple-500 to-pink-500",description:"Share your photos and stories"},tiktok:{name:"TikTok",icon:Vt,color:"bg-black",description:"Short-form video content"},twitch:{name:"Twitch",icon:tP,color:"bg-purple-600",description:"Live streaming and gaming"},discord:{name:"Discord",icon:Vt,color:"bg-indigo-600",description:"Gaming communities and chat"},youtube:{name:"YouTube",icon:sP,color:"bg-red-600",description:"Video content and subscriptions"},reddit:{name:"Reddit",icon:Vt,color:"bg-orange-600",description:"Communities and discussions"}};function AX(){const t=js();bm();const[e,s]=p.useState(!1),[n,r]=p.useState(!1),a=()=>{window.location.href="/api/logout"},o=Qe.object({password:Qe.string().min(10,"Password must be at least 10 characters long").regex(/[a-zA-Z]/,"Password must contain at least one letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),confirmPassword:Qe.string()}).refine(y=>y.password===y.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),l=Ub({resolver:zb(o),defaultValues:{password:"",confirmPassword:""}}),c=Te({mutationFn:async y=>await fe("POST","/api/auth/setup-password",y),onSuccess:()=>{Vr({title:"Password Set Successfully",description:"Your password has been set up and will be used for future logins."}),l.reset()},onError:y=>{Vr({title:"Error Setting Password",description:"Failed to set up password. Please try again.",variant:"destructive"})}}),d=y=>{c.mutate({password:y.password})},{data:h=[],isLoading:u}=it({queryKey:["/api/social/accounts"]}),f=Te({mutationFn:async y=>await fe("GET",`/api/oauth/authorize/${y}`),onSuccess:y=>{if(y.demo)Vr({title:"Demo Connection Successful",description:y.message}),t.invalidateQueries({queryKey:["/api/social/accounts"]});else{window.open(y.authUrl,"_blank","width=600,height=700");const w=setInterval(()=>{t.invalidateQueries({queryKey:["/api/social/accounts"]})},2e3);setTimeout(()=>clearInterval(w),12e4)}},onError:y=>{Vr({title:"Connection Failed",description:"Failed to start OAuth flow. Please try again.",variant:"destructive"})}}),m=Te({mutationFn:async y=>await fe("DELETE",`/api/social/accounts/${y}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/social/accounts"]}),Vr({title:"Account Removed",description:"Social media account has been disconnected."})},onError:()=>{Vr({title:"Error",description:"Failed to remove account. Please try again.",variant:"destructive"})}}),b=Te({mutationFn:async y=>await fe("POST",`/api/social/sync/${y}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/social/accounts"]}),Vr({title:"Sync Started",description:"Content sync has been initiated."})},onError:()=>{Vr({title:"Sync Failed",description:"Failed to sync content. Please try again.",variant:"destructive"})}}),g=()=>h.map(y=>y.platform),x=()=>{const y=g();return Object.keys(ey).filter(v=>!y.includes(v))};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:i.jsxs("div",{className:"w-full max-w-none md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),i.jsx("p",{className:"text-purple-200",children:"Manage your preferences and connected accounts"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[i.jsx(HI,{className:"w-5 h-5"}),"Social Media Integration"]}),i.jsx(Sr,{className:"text-purple-200",children:"Connect your social media accounts to aggregate content in MyKliq"})]}),i.jsxs(J,{className:"space-y-6",children:[h.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Connected Accounts"}),i.jsx("div",{className:"grid gap-4",children:h.map(y=>{const v=ey[y.platform],w=(v==null?void 0:v.icon)||Vt;return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${(v==null?void 0:v.color)||"bg-gray-600"}`,children:i.jsx(w,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:(v==null?void 0:v.name)||y.platform}),i.jsxs("p",{className:"text-purple-200 text-sm",children:["@",y.username]}),y.lastSyncAt&&i.jsxs("p",{className:"text-purple-300 text-xs",children:["Last sync: ",new Date(y.lastSyncAt).toLocaleDateString()]})]}),i.jsx(ze,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(D,{size:"sm",variant:"outline",onClick:()=>b.mutate(y.platform),disabled:b.isPending,className:"border-white/20 text-white hover:bg-white/10","data-testid":`button-sync-${y.platform}`,children:i.jsx(yv,{className:`w-4 h-4 ${b.isPending?"animate-spin":""}`})}),i.jsx(D,{size:"sm",variant:"destructive",onClick:()=>m.mutate(y.id),disabled:m.isPending,"data-testid":`button-remove-${y.platform}`,children:i.jsx(tc,{className:"w-4 h-4"})})]})]},y.id)})})]}),x().length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Connect New Platform"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x().map(y=>{const v=ey[y],w=(v==null?void 0:v.icon)||Vt;return i.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${(v==null?void 0:v.color)||"bg-gray-600"}`,children:i.jsx(w,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:(v==null?void 0:v.name)||y}),i.jsx("p",{className:"text-purple-200 text-sm",children:v==null?void 0:v.description})]})]}),i.jsxs(D,{onClick:()=>f.mutate(y),disabled:f.isPending,className:"w-full bg-white/10 hover:bg-white/20 text-white border-white/20","data-testid":`button-connect-${y}`,children:[i.jsx(ia,{className:"w-4 h-4 mr-2"}),"Connect Account"]})]},y)})})]}),h.length===0&&!u&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-purple-200 mb-4",children:"No social accounts connected yet"}),i.jsx("p",{className:"text-purple-300 text-sm",children:"Connect your social media accounts to see all your content in one place"})]})]})]}),i.jsx(pZ,{darkStyle:!0,compact:!1}),i.jsxs(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[i.jsxs(Ce,{children:[i.jsx(Pe,{className:"text-white",children:" Language Settings"}),i.jsx(Sr,{className:"text-purple-200",children:"Choose your preferred language for the interface"})]}),i.jsx(J,{children:i.jsx(IA,{variant:"select",showFlag:!0,className:"w-full"})})]}),i.jsxs(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[i.jsx(um,{className:"w-5 h-5"}),"Password Setup"]}),i.jsx(Sr,{className:"text-purple-200",children:"Set up your password for future login access"})]}),i.jsx(J,{children:i.jsx(Vb,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[i.jsx(_t,{control:l.control,name:"password",render:({field:y})=>i.jsxs(yt,{children:[i.jsx(vt,{className:"text-white",children:"Password"}),i.jsx(xt,{children:i.jsxs("div",{className:"relative",children:[i.jsx(he,{...y,type:e?"text":"password",placeholder:"Enter your password",className:"bg-white/5 border-white/20 text-white placeholder:text-purple-300 pr-10","data-testid":"input-password"}),i.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!e),"data-testid":"button-toggle-password",children:e?i.jsx(mv,{className:"h-4 w-4 text-purple-300"}):i.jsx(fo,{className:"h-4 w-4 text-purple-300"})})]})}),i.jsx($M,{className:"text-purple-300 text-sm",children:"Must be at least 10 characters with letters, numbers, and special characters"}),i.jsx(bt,{className:"text-red-400"})]})}),i.jsx(_t,{control:l.control,name:"confirmPassword",render:({field:y})=>i.jsxs(yt,{children:[i.jsx(vt,{className:"text-white",children:"Confirm Password"}),i.jsx(xt,{children:i.jsxs("div",{className:"relative",children:[i.jsx(he,{...y,type:n?"text":"password",placeholder:"Confirm your password",className:"bg-white/5 border-white/20 text-white placeholder:text-purple-300 pr-10","data-testid":"input-confirm-password"}),i.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),"data-testid":"button-toggle-confirm-password",children:n?i.jsx(mv,{className:"h-4 w-4 text-purple-300"}):i.jsx(fo,{className:"h-4 w-4 text-purple-300"})})]})}),i.jsx(bt,{className:"text-red-400"})]})}),i.jsx(D,{type:"submit",disabled:c.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-setup-password",children:c.isPending?"Setting up...":"Set Password"})]})})})]}),i.jsxs(X,{className:"bg-white/10 backdrop-blur-sm border-white/20",children:[i.jsxs(Ce,{children:[i.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[i.jsx(Er,{className:"w-5 h-5"}),"Account Management"]}),i.jsx(Sr,{className:"text-purple-200",children:"Manage your account settings and session"})]}),i.jsx(J,{children:i.jsxs(D,{onClick:a,variant:"destructive",className:"w-full bg-red-600 hover:bg-red-700 text-white","data-testid":"button-logout",children:[i.jsx(Q2,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})]})]})})}function FX(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),i.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Information We Collect"}),i.jsx("p",{className:"mb-4",children:"MyKliq collects information you provide when creating your account and using our services, including:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Profile information (name, email, profile picture)"}),i.jsx("li",{children:"Content you create and share (posts, comments, photos, videos)"}),i.jsx("li",{children:"Usage data and interactions within the platform"}),i.jsx("li",{children:"Communication preferences and settings"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How We Use Your Information"}),i.jsx("p",{className:"mb-4",children:"We use your information to:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Provide and maintain our social networking services"}),i.jsx("li",{children:"Personalize your experience and content recommendations"}),i.jsx("li",{children:"Communicate with you about updates and features"}),i.jsx("li",{children:"Ensure platform security and prevent abuse"}),i.jsx("li",{children:"Improve our services through analytics and user feedback"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Information Sharing"}),i.jsx("p",{className:"mb-4",children:'MyKliq is designed for sharing within your close friend groups ("kliqs"). Content you share is visible to:'}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Members of your kliq based on friend ranking and privacy settings"}),i.jsx("li",{children:"Other users as determined by your content filter and sharing preferences"})]}),i.jsx("p",{className:"mb-4",children:"We do not sell your personal information to third parties. We may share anonymized, aggregated data for analytics purposes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Data Security"}),i.jsx("p",{className:"mb-4",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no internet transmission is 100% secure."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Rights"}),i.jsx("p",{className:"mb-4",children:"You have the right to:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Access and update your personal information"}),i.jsx("li",{children:"Delete your account and associated data"}),i.jsx("li",{children:"Control your privacy settings and content visibility"}),i.jsx("li",{children:"Opt out of certain communications"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contact Us"}),i.jsxs("p",{className:"mb-4",children:["If you have questions about this Privacy Policy, please contact us at"," ",i.jsx("a",{href:"mailto:futureshockholdings@gmail.com",className:"text-primary hover:underline",children:"futureshockholdings@gmail.com"})]})]}),i.jsx("section",{children:i.jsx("p",{className:"text-sm text-muted-foreground mt-8",children:"Last updated: August 23, 2025"})})]})]})}),i.jsx(dn,{})]})}function RX(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Disclaimer"}),i.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"General Disclaimer"}),i.jsx("p",{className:"mb-4",children:"The information and services provided by MyKliq are for general informational and entertainment purposes only. While we strive to provide accurate and up-to-date information, we make no warranties or representations about the completeness, accuracy, reliability, suitability, or availability of the platform or its content."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"User-Generated Content"}),i.jsx("p",{className:"mb-4",children:"MyKliq allows users to create, share, and interact with content. We are not responsible for:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"The accuracy, completeness, or reliability of user-generated content"}),i.jsx("li",{children:"Views, opinions, or statements expressed by users"}),i.jsx("li",{children:"Content that may be offensive, inappropriate, or harmful"}),i.jsx("li",{children:"Interactions between users on or off the platform"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Platform Availability"}),i.jsx("p",{className:"mb-4",children:"We strive to maintain continuous service availability, but MyKliq may experience:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Temporary interruptions for maintenance or updates"}),i.jsx("li",{children:"Technical difficulties or server issues"}),i.jsx("li",{children:"Service limitations or feature changes"})]}),i.jsx("p",{className:"mb-4",children:"We are not liable for any inconvenience or loss resulting from service interruptions."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Third-Party Links and Services"}),i.jsx("p",{className:"mb-4",children:"MyKliq may contain links to external websites or integrate with third-party services. We are not responsible for the content, privacy practices, or availability of external sites or services."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Limitation of Liability"}),i.jsx("p",{className:"mb-4",children:"To the fullest extent permitted by law, MyKliq and its operators shall not be liable for any direct, indirect, incidental, consequential, or punitive damages arising from:"}),i.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[i.jsx("li",{children:"Use or inability to use the platform"}),i.jsx("li",{children:"User interactions or relationships formed through the platform"}),i.jsx("li",{children:"Loss of data, privacy breaches, or security incidents"}),i.jsx("li",{children:"Technical errors, bugs, or system failures"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Age Restrictions"}),i.jsx("p",{className:"mb-4",children:"MyKliq is intended for users aged 13 and older. Users under 18 should obtain parental consent before using the platform. Parents and guardians are responsible for monitoring their minor children's online activities."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Changes to This Disclaimer"}),i.jsx("p",{className:"mb-4",children:"We reserve the right to modify this disclaimer at any time. Changes will be effective immediately upon posting. Continued use of MyKliq constitutes acceptance of any modifications."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contact Information"}),i.jsxs("p",{className:"mb-4",children:["If you have questions about this disclaimer, please contact us at"," ",i.jsx("a",{href:"mailto:futureshockholdings@gmail.com",className:"text-primary hover:underline",children:"futureshockholdings@gmail.com"})]})]}),i.jsx("section",{children:i.jsx("p",{className:"text-sm text-muted-foreground mt-8",children:"Last updated: August 23, 2025"})})]})]})}),i.jsx(dn,{})]})}function IX(){const{toast:t}=Ct(),[e,s]=p.useState(!1),[n,r]=p.useState(null);p.useEffect(()=>{const T=new URLSearchParams(window.location.search).get("inviteCode");T&&r(T)},[]);const[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(""),[u,f]=p.useState(""),[m,b]=p.useState(""),[g,x]=p.useState("My Kliq"),[y,v]=p.useState(""),[w,S]=p.useState([]),[N,P]=p.useState([]),[C,_]=p.useState([]),[A,k]=p.useState([]),[R,O]=p.useState([]),[$,z]=p.useState([]),[ee,K]=p.useState([]),[Z,F]=p.useState(""),[I,U]=p.useState(""),[H,ce]=p.useState(""),[Y,xe]=p.useState(""),[Ze,Be]=p.useState(""),[pe,Se]=p.useState(""),[We,Ke]=p.useState(""),[$e,Oe]=p.useState(""),[gt,st]=p.useState(""),[Q,ue]=p.useState(""),Re=(Ae,T,L,q)=>{L.trim()&&!Ae.includes(L.trim())&&(T([...Ae,L.trim()]),q(""))},hs=(Ae,T,L)=>{T(Ae.filter(q=>q!==L))},Sn=async()=>{if(!a.trim()||!l.trim()||!d.trim()||!u.trim()){t({title:"Missing Information",description:"Please fill in all required fields (name, email, phone number)",variant:"destructive"});return}s(!0);try{await fe("POST","/api/auth/signup",{firstName:a.trim(),lastName:l.trim(),email:d.trim(),phoneNumber:u.trim(),bio:m.trim(),kliqName:g.trim(),birthdate:y||null,interests:w,favoriteLocations:N,favoriteFoods:C,musicGenres:A,hobbies:R,favoriteMovies:$,favoriteBooks:ee,relationshipStatus:Z||null,petPreferences:I||null,lifestyle:H||null,inviteCode:n||void 0}),t({title:"Welcome to MyKliq!",description:"Your profile has been created successfully."}),window.location.href="/"}catch(Ae){t({title:"Signup Failed",description:Ae.message||"Failed to create your profile. Please try again.",variant:"destructive"})}finally{s(!1)}},Dt=({label:Ae,items:T,setItems:L,newItem:q,setNewItem:de,placeholder:le,icon:ie})=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(ie,{className:"w-4 h-4"}),Ae]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{value:q,onChange:ye=>de(ye.target.value),placeholder:le,className:"bg-input border-border text-foreground flex-1",onKeyDown:ye=>{ye.key==="Enter"&&(ye.preventDefault(),Re(T,L,q,de))}}),i.jsx(D,{type:"button",variant:"outline",size:"sm",onClick:()=>Re(T,L,q,de),className:"border-primary text-primary hover:bg-primary/20",children:i.jsx(ci,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((ye,Ye)=>i.jsxs(ze,{variant:"secondary",className:"bg-secondary text-secondary-foreground hover:bg-secondary/80",children:[ye,i.jsx(D,{variant:"ghost",size:"sm",className:"ml-2 h-auto p-0 text-muted-foreground hover:text-foreground",onClick:()=>hs(T,L,ye),children:i.jsx(ds,{className:"w-3 h-3"})})]},Ye))})]});return i.jsx("div",{className:"min-h-screen bg-background p-4",children:i.jsxs("div",{className:"w-full max-w-sm md:max-w-2xl lg:max-w-4xl xl:max-w-5xl mx-auto",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Welcome to MyKliq!"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your profile to join your exclusive social circle"})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsxs(Pe,{className:"text-foreground flex items-center gap-2",children:[i.jsx(Er,{className:"w-5 h-5"}),"Create Your Profile"]})}),i.jsxs(J,{children:[i.jsxs(wa,{defaultValue:"basic",className:"space-y-6",children:[i.jsxs(gi,{className:"grid w-full grid-cols-2",children:[i.jsx(Nt,{value:"basic",children:"Basic Info"}),i.jsx(Nt,{value:"extended",children:"About You"})]}),i.jsx(It,{value:"basic",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(Er,{className:"w-4 h-4"}),"First Name *"]}),i.jsx(he,{value:a,onChange:Ae=>o(Ae.target.value),placeholder:"Your first name",className:"bg-input border-border text-foreground","data-testid":"input-first-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(Er,{className:"w-4 h-4"}),"Last Name *"]}),i.jsx(he,{value:l,onChange:Ae=>c(Ae.target.value),placeholder:"Your last name",className:"bg-input border-border text-foreground","data-testid":"input-last-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(GI,{className:"w-4 h-4"}),"Email *"]}),i.jsx(he,{type:"email",value:d,onChange:Ae=>h(Ae.target.value),placeholder:"your.email@example.com",className:"bg-input border-border text-foreground","data-testid":"input-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(cm,{className:"w-4 h-4"}),"Phone Number *"]}),i.jsx(he,{type:"tel",value:u,onChange:Ae=>f(Ae.target.value),placeholder:"(555) 123-4567",className:"bg-input border-border text-foreground","data-testid":"input-phone"})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(je,{className:"text-foreground flex items-center gap-2",children:[i.jsx(li,{className:"w-4 h-4"}),"Birthday"]}),i.jsx(he,{type:"date",value:y,onChange:Ae=>v(Ae.target.value),className:"bg-input border-border text-foreground","data-testid":"input-birthdate"})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(je,{className:"text-foreground",children:"Kliq Name"}),i.jsx(he,{value:g,onChange:Ae=>x(Ae.target.value),placeholder:"My Kliq",className:"bg-input border-border text-foreground","data-testid":"input-kliq-name"})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(je,{className:"text-foreground",children:"Bio"}),i.jsx(tr,{value:m,onChange:Ae=>b(Ae.target.value),placeholder:"Tell us about yourself...",className:"bg-input border-border text-foreground resize-none",rows:3,"data-testid":"input-bio"})]})]})}),i.jsx(It,{value:"extended",className:"space-y-6",children:i.jsxs("div",{className:"grid gap-6",children:[i.jsx(Dt,{label:"Interests & Hobbies",items:w,setItems:S,newItem:Y,setNewItem:xe,placeholder:"Add an interest",icon:vn}),i.jsx(Dt,{label:"Hobbies",items:R,setItems:O,newItem:$e,setNewItem:Oe,placeholder:"Add a hobby",icon:R0}),i.jsx(Dt,{label:"Favorite Locations",items:N,setItems:P,newItem:Ze,setNewItem:Be,placeholder:"Add a place",icon:oa}),i.jsx(Dt,{label:"Favorite Foods",items:C,setItems:_,newItem:pe,setNewItem:Se,placeholder:"Add a food",icon:L0}),i.jsx(Dt,{label:"Music Genres",items:A,setItems:k,newItem:We,setNewItem:Ke,placeholder:"Add a genre",icon:Yn}),i.jsx(Dt,{label:"Favorite Movies",items:$,setItems:z,newItem:gt,setNewItem:st,placeholder:"Add a movie",icon:Jl}),i.jsx(Dt,{label:"Favorite Books",items:ee,setItems:K,newItem:Q,setNewItem:ue,placeholder:"Add a book",icon:F0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"Relationship Status"}),i.jsxs(tn,{value:Z,onValueChange:F,children:[i.jsx(qs,{className:"bg-input border-border text-foreground",children:i.jsx(sn,{placeholder:"Select status"})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"single",children:"Single"}),i.jsx(be,{value:"taken",children:"In a relationship"}),i.jsx(be,{value:"married",children:"Married"}),i.jsx(be,{value:"complicated",children:"It's complicated"}),i.jsx(be,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"Pet Preferences"}),i.jsxs(tn,{value:I,onValueChange:U,children:[i.jsx(qs,{className:"bg-input border-border text-foreground",children:i.jsx(sn,{placeholder:"Select preference"})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"dogs",children:"Dogs"}),i.jsx(be,{value:"cats",children:"Cats"}),i.jsx(be,{value:"both",children:"Both dogs and cats"}),i.jsx(be,{value:"other",children:"Other pets"}),i.jsx(be,{value:"none",children:"No pets"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-foreground",children:"Lifestyle"}),i.jsxs(tn,{value:H,onValueChange:ce,children:[i.jsx(qs,{className:"bg-input border-border text-foreground",children:i.jsx(sn,{placeholder:"Select lifestyle"})}),i.jsxs(Hs,{children:[i.jsx(be,{value:"active",children:"Active"}),i.jsx(be,{value:"relaxed",children:"Relaxed"}),i.jsx(be,{value:"adventurous",children:"Adventurous"}),i.jsx(be,{value:"homebody",children:"Homebody"}),i.jsx(be,{value:"social",children:"Social"}),i.jsx(be,{value:"creative",children:"Creative"})]})]})]})]})]})})]}),i.jsxs("div",{className:"flex gap-4 mt-8",children:[i.jsx(D,{variant:"outline",className:"flex-1",onClick:()=>window.location.href="/","data-testid":"button-back-to-landing",children:"Back to Landing"}),i.jsx(D,{onClick:Sn,disabled:e,className:"flex-1 bg-gradient-to-r from-primary to-secondary hover:from-primary/80 hover:to-secondary/80","data-testid":"button-create-profile",children:e?"Creating Profile...":"Create Profile"})]})]})]})]})})}const OX=Qe.object({phoneNumber:Qe.string().min(1,"Phone number is required"),password:Qe.string().min(1,"Password is required")});function DX(){const[t,e]=p.useState(!1),[s,n]=p.useState(!1),{toast:r}=Ct(),[,a]=Ku(),{isAuthenticated:o,isLoading:l}=ir();p.useEffect(()=>{!l&&o&&a("/")},[o,l,a]);const c=Ub({resolver:zb(OX),defaultValues:{phoneNumber:"",password:""}}),d=async h=>{n(!0);try{const u=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({phoneNumber:h.phoneNumber,password:h.password})});if(u.ok){const f=u.headers.get("content-type");if(f&&f.includes("application/json")){const m=await u.json();console.log("Login response:",m)}r({title:"Login Successful",description:"Welcome back to MyKliq!"}),setTimeout(()=>{window.location.href="/"},1e3)}else{let f="Invalid phone number or password";try{f=(await u.json()).message||f}catch{f=`Login failed (${u.status})`}throw new Error(f)}}catch(u){console.error("Login error:",u),r({title:"Login Failed",description:u.message||"Invalid phone number or password. Please try again.",variant:"destructive"})}finally{n(!1)}};return l?i.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o?null:i.jsxs("div",{className:"min-h-screen bg-background text-foreground overflow-hidden relative",children:[i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-primary rounded-full animate-pulse"}),i.jsx("div",{className:"absolute top-32 right-8 w-16 h-16 bg-secondary rounded-full animate-bounce"}),i.jsx("div",{className:"absolute bottom-20 left-6 w-12 h-12 bg-mykliq-green rounded-full animate-pulse"}),i.jsx("div",{className:"absolute bottom-40 right-12 w-8 h-8 bg-mykliq-orange rounded-full animate-bounce"})]}),i.jsxs("div",{className:"relative z-10 w-full max-w-sm md:max-w-2xl lg:max-w-4xl xl:max-w-5xl mx-auto bg-card min-h-screen",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary via-secondary to-mykliq-green h-32 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"}),i.jsxs("div",{className:"absolute bottom-4 left-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"MyKliq"}),i.jsx("p",{className:"text-white/90 text-sm",children:"Welcome Back"})]}),i.jsx(ls,{href:"/",children:i.jsxs(D,{variant:"ghost",size:"sm",className:"absolute top-4 left-4 text-white hover:bg-white/20","data-testid":"button-back",children:[i.jsx(ra,{className:"w-4 h-4 mr-2"}),"Back"]})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:"Login to Your Account"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Enter your phone number and password to access your kliq"})]}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{children:i.jsx(Pe,{className:"text-primary",children:"Account Login"})}),i.jsx(J,{children:i.jsx(Vb,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[i.jsx(_t,{control:c.control,name:"phoneNumber",render:({field:h})=>i.jsxs(yt,{children:[i.jsx(vt,{className:"text-foreground",children:"Phone Number"}),i.jsx(xt,{children:i.jsx(rb,{label:"",value:h.value,onChange:u=>h.onChange(u.target.value),disabled:s,placeholder:"Enter your phone number"})}),i.jsx(bt,{})]})}),i.jsx(_t,{control:c.control,name:"password",render:({field:h})=>i.jsxs(yt,{children:[i.jsx(vt,{className:"text-foreground",children:"Password"}),i.jsx(xt,{children:i.jsxs("div",{className:"relative",children:[i.jsx(he,{...h,type:t?"text":"password",placeholder:"Enter your password",className:"bg-background border-border text-foreground pr-10",disabled:s,"data-testid":"input-password"}),i.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!t),disabled:s,"data-testid":"button-toggle-password",children:t?i.jsx(mv,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(fo,{className:"h-4 w-4 text-muted-foreground"})})]})}),i.jsx(bt,{})]})}),i.jsx(D,{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/80 hover:to-secondary/80 text-primary-foreground font-bold py-3","data-testid":"button-login",children:s?"Logging in...":"Login"})]})})})]}),i.jsxs("div",{className:"text-center pt-3",children:[i.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Don't have an account yet?"}),i.jsx(ls,{href:"/",children:i.jsx(D,{variant:"outline",className:"w-full bg-card border-border text-card-foreground hover:bg-accent","data-testid":"link-signup",children:"Join MyKliq"})})]}),i.jsx("div",{className:"text-center pt-6 border-t border-border space-y-3",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:" 2024 MyKliq. All rights reserved."})})]})]})]})}function LX(){const[t,e]=p.useState("name"),[s,n]=p.useState(""),[r,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,u]=p.useState({answer1:"",answer2:"",answer3:""}),[f,m]=p.useState(""),[b,g]=p.useState(""),[x,y]=p.useState(""),[v,w]=p.useState(!1),{toast:S}=Ct(),N=async()=>{w(!0);try{(await fe("POST","/api/auth/verify-name",{firstName:s,lastName:r})).success&&(e("phone"),S({title:"Name verified!",description:"Please enter your phone number"}))}catch(k){S({title:"Name verification failed",description:k.message||"Name doesn't match our records",variant:"destructive"})}finally{w(!1)}},P=async()=>{w(!0);try{const k=await fe("POST","/api/auth/forgot-password",{firstName:s,lastName:r,phoneNumber:o});k.success&&(d(k.resetToken),e("questions"),S({title:"Phone number verified!",description:"Please answer your security questions"}))}catch(k){S({title:"Phone verification failed",description:k.message||"Phone number doesn't match our records",variant:"destructive"})}finally{w(!1)}},C=async()=>{w(!0);try{(await fe("POST","/api/auth/verify-security",{resetToken:c,securityAnswer1:h.answer1,securityAnswer2:h.answer2,securityAnswer3:h.answer3})).success&&(e("pin"),S({title:"Security questions verified!",description:"Now enter your 4-digit PIN"}))}catch(k){S({title:"Verification failed",description:k.message||"Security answers don't match",variant:"destructive"})}finally{w(!1)}},_=async()=>{w(!0);try{(await fe("POST","/api/auth/verify-pin",{resetToken:c,pin:f})).success&&(e("password"),S({title:"PIN verified!",description:"Now you can set a new password"}))}catch(k){S({title:"PIN verification failed",description:k.message||"Incorrect PIN",variant:"destructive"})}finally{w(!1)}},A=async()=>{if(b!==x){S({title:"Passwords don't match",description:"Please make sure both passwords are the same",variant:"destructive"});return}w(!0);try{await fe("POST","/api/auth/reset-password",{resetToken:c,newPassword:b}),S({title:"Password reset successful!",description:"You can now login with your new password"}),window.location.href="/login"}catch(k){S({title:"Error",description:k.message||"Failed to reset password",variant:"destructive"})}finally{w(!1)}};return i.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(D,{variant:"ghost",className:"text-muted-foreground hover:text-primary",onClick:()=>{window.location.href="/api/logout"},children:[i.jsx(ra,{className:"w-4 h-4 mr-2"}),"Back to Log In"]})}),i.jsxs(X,{className:"bg-card border-border",children:[i.jsx(Ce,{className:"text-center",children:i.jsxs(Pe,{className:"text-primary text-2xl",children:[t==="name"&&i.jsxs(i.Fragment,{children:[i.jsx(Er,{className:"w-8 h-8 mx-auto mb-2"}),"Reset Password - Step 1 of 5"]}),t==="phone"&&i.jsxs(i.Fragment,{children:[i.jsx(cm,{className:"w-8 h-8 mx-auto mb-2"}),"Reset Password - Step 2 of 5"]}),t==="questions"&&i.jsxs(i.Fragment,{children:[i.jsx(um,{className:"w-8 h-8 mx-auto mb-2"}),"Reset Password - Step 3 of 5"]}),t==="pin"&&i.jsxs(i.Fragment,{children:[i.jsx(BI,{className:"w-8 h-8 mx-auto mb-2"}),"Reset Password - Step 4 of 5"]}),t==="password"&&i.jsxs(i.Fragment,{children:[i.jsx(WI,{className:"w-8 h-8 mx-auto mb-2"}),"Reset Password - Step 5 of 5"]})]})}),i.jsxs(J,{className:"space-y-4",children:[t==="name"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground text-sm text-center mb-4",children:"Enter your first and last name for account verification"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"First Name"}),i.jsx(he,{value:s,onChange:k=>n(k.target.value),placeholder:"Enter your first name","data-testid":"input-first-name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"Last Name"}),i.jsx(he,{value:r,onChange:k=>a(k.target.value),placeholder:"Enter your last name","data-testid":"input-last-name"})]})]}),i.jsx(D,{onClick:N,disabled:!s||!r||v,className:"w-full","data-testid":"button-verify-name",children:v?"Verifying...":"Verify Name"})]}),t==="phone"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground text-sm text-center mb-4",children:"Enter your phone number for account verification"}),i.jsx(rb,{label:"Phone number",value:o,onChange:k=>l(k.target.value),placeholder:"Enter your phone number","data-testid":"input-phone-reset"}),i.jsx(D,{onClick:P,disabled:!o||v,className:"w-full","data-testid":"button-send-reset-sms",children:v?"Verifying...":"Verify Account"})]}),t==="questions"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground text-sm text-center mb-4",children:"Answer your security questions to verify your identity"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"What was the make and model of your first car?"}),i.jsx(he,{value:h.answer1,onChange:k=>u({...h,answer1:k.target.value}),placeholder:"Enter your answer","data-testid":"input-security-answer-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"What is your mother's maiden name?"}),i.jsx(he,{value:h.answer2,onChange:k=>u({...h,answer2:k.target.value}),placeholder:"Enter your answer","data-testid":"input-security-answer-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"What was your favorite teacher's last name?"}),i.jsx(he,{value:h.answer3,onChange:k=>u({...h,answer3:k.target.value}),placeholder:"Enter your answer","data-testid":"input-security-answer-3"})]})]}),i.jsx(D,{onClick:C,disabled:!h.answer1||!h.answer2||!h.answer3||v,className:"w-full","data-testid":"button-verify-security",children:v?"Verifying...":"Verify Answers"})]}),t==="pin"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground text-sm text-center mb-4",children:"Enter your 4-digit PIN to verify your identity"}),i.jsx(he,{type:"password",maxLength:4,value:f,onChange:k=>{const R=k.target.value.replace(/\D/g,"");m(R)},placeholder:"Enter your 4-digit PIN",className:"text-center text-xl tracking-widest","data-testid":"input-security-pin"}),i.jsx(D,{onClick:_,disabled:f.length!==4||v,className:"w-full","data-testid":"button-verify-pin",children:v?"Verifying...":"Verify PIN"})]}),t==="password"&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground text-sm text-center mb-4",children:"Create a new password for your account"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"New Password"}),i.jsx(he,{type:"password",value:b,onChange:k=>g(k.target.value),placeholder:"Enter new password","data-testid":"input-new-password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"Confirm Password"}),i.jsx(he,{type:"password",value:x,onChange:k=>y(k.target.value),placeholder:"Confirm new password","data-testid":"input-confirm-password"})]})]}),i.jsx(D,{onClick:A,disabled:!b||!x||v,className:"w-full","data-testid":"button-reset-password",children:v?"Resetting...":"Reset Password"})]})]})]})]})})}const $X={message:Vt,friend_request:bs,event_invite:li,post_like:vn,comment:I0,story_view:Vt,live_stream:JI,meetup_invite:oa,birthday:_I},UX={low:"text-muted-foreground",normal:"text-foreground",high:"text-orange-500 dark:text-orange-400",urgent:"text-red-500 dark:text-red-400"};function zX({isOpen:t,onClose:e}){const[s,n]=p.useState("all"),{toast:r}=Ct(),a=js(),{data:o=[],isLoading:l}=it({queryKey:["/api/notifications"],enabled:t}),c=Te({mutationFn:async x=>{await fe("PATCH",`/api/notifications/${x}`,{isRead:!0})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{r({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}}),d=Te({mutationFn:async x=>{await fe("PATCH","/api/notifications/mark-all-read",{type:x==="all"?void 0:x})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notifications"]}),r({title:"Success",description:"All notifications marked as read"})},onError:()=>{r({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}}),h=Te({mutationFn:async x=>{await fe("DELETE",`/api/notifications/${x}`)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{r({title:"Error",description:"Failed to delete notification",variant:"destructive"})}}),u=Te({mutationFn:async x=>{await fe("DELETE","/api/notifications/delete-all",{type:x==="all"?void 0:x})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notifications"]}),r({title:"Success",description:"All notifications deleted"})},onError:()=>{r({title:"Error",description:"Failed to delete all notifications",variant:"destructive"})}}),f=x=>{x.isRead||c.mutate(x.id),x.actionUrl&&(window.location.href=x.actionUrl)},m=o.filter(x=>x.isVisible?s==="all"?!0:x.type===s:!1),b=o.filter(x=>!x.isRead&&x.isVisible).length,g=[{value:"all",label:"All",icon:Vd},{value:"message",label:"Messages",icon:Vt},{value:"friend_request",label:"Friends",icon:bs},{value:"event_invite",label:"Events",icon:li},{value:"post_like",label:"Likes",icon:vn},{value:"comment",label:"Comments",icon:I0}];return t?i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm","data-testid":"notification-panel-overlay",children:i.jsx("div",{className:"fixed right-2 md:right-4 top-2 md:top-4 bottom-16 md:bottom-4 w-[calc(100vw-1rem)] md:w-96 max-w-[calc(100vw-1rem)]",children:i.jsxs(X,{className:"h-full flex flex-col bg-card border-border",children:[i.jsxs(Ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(Pe,{className:"text-lg font-semibold text-foreground",children:["Notifications",b>0&&i.jsx(ze,{variant:"destructive",className:"ml-2",children:b})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[b>0&&i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>d.mutate(s),"data-testid":"mark-all-read-button",children:i.jsx(Xl,{className:"h-4 w-4"})}),m.length>0&&i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>u.mutate(s),"data-testid":"delete-all-notifications-button",children:i.jsx(tc,{className:"h-4 w-4"})}),i.jsx(D,{variant:"ghost",size:"sm",onClick:e,"data-testid":"close-notification-panel",children:i.jsx(ds,{className:"h-4 w-4"})})]})]}),i.jsx(J,{className:"flex-1 p-0",children:i.jsxs(wa,{value:s,onValueChange:n,className:"h-full flex flex-col",children:[i.jsx(gi,{className:"grid grid-cols-3 w-full mx-4 mb-2",children:g.slice(0,3).map(x=>{const y=x.icon,v=o.filter(w=>w.isVisible&&!w.isRead&&(x.value==="all"||w.type===x.value)).length;return i.jsxs(Nt,{value:x.value,className:"text-xs relative","data-testid":`notification-tab-${x.value}`,children:[i.jsx(y,{className:"h-3 w-3 mr-1"}),x.label,v>0&&i.jsx(ze,{variant:"destructive",className:"ml-1 h-4 w-4 p-0 text-[10px]",children:v})]},x.value)})}),i.jsx(Fm,{className:"flex-1 px-4",children:i.jsx(It,{value:s,className:"space-y-2 mt-0",children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Loading notifications..."})}):m.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Vd,{className:"h-12 w-12 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"No notifications"})]}):m.map(x=>{const y=$X[x.type];return i.jsx(X,{className:te("cursor-pointer transition-colors hover:bg-accent",!x.isRead&&"border-primary bg-primary/5"),onClick:()=>f(x),"data-testid":`notification-item-${x.id}`,children:i.jsx(J,{className:"p-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:y&&i.jsx(y,{className:te("h-5 w-5",UX[x.priority])})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:te("text-sm font-medium truncate",!x.isRead&&"font-semibold"),children:x.title}),i.jsxs("div",{className:"flex items-center space-x-1",children:[!x.isRead&&i.jsx("div",{className:"h-2 w-2 bg-primary rounded-full"}),i.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:v=>{v.stopPropagation(),h.mutate(x.id)},"data-testid":`delete-notification-${x.id}`,children:i.jsx(tc,{className:"h-3 w-3"})})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:x.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Jd(new Date(x.createdAt||Date.now()),{addSuffix:!0})})]})]})})},x.id)})})})]})})]})})}):null}function BX(t){const[e,s]=p.useState(!1),{toast:n}=Ct(),r=js(),{data:a=[]}=it({queryKey:["/api/notifications"],refetchInterval:3e4,staleTime:15e3}),{data:o=[],isLoading:l,refetch:c}=it({queryKey:["/api/notifications",t],refetchInterval:3e4,staleTime:15e3,enabled:!!t}),d=Te({mutationFn:async k=>{await fe("PATCH",`/api/notifications/${k}`,{isRead:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{n({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}}),h=Te({mutationFn:async k=>{await fe("PATCH","/api/notifications/mark-all-read",{type:k})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications"]}),n({title:"Success",description:"All notifications marked as read"})},onError:()=>{n({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}}),u=Te({mutationFn:async k=>{await fe("DELETE",`/api/notifications/${k}`)},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{n({title:"Error",description:"Failed to delete notification",variant:"destructive"})}}),f=k=>a.filter(R=>!R.isRead&&R.isVisible?!k||k==="all"?!0:R.type===k:!1).length,m=()=>f(),b=()=>f("message"),g=()=>f("friend_request"),x=()=>f("event_invite"),y=()=>f("post_like"),v=()=>f("comment"),w=()=>f("live_stream"),S=()=>f("meetup_invite"),N=()=>f("birthday"),P=()=>s(!0),C=()=>s(!1),_=()=>s(!e),A=()=>c();return{notifications:o,isLoading:l,isNotificationPanelOpen:e,getTotalUnreadCount:m,getMessageCount:b,getFriendRequestCount:g,getEventInviteCount:x,getPostLikeCount:y,getCommentCount:v,getLiveStreamCount:w,getMeetupInviteCount:S,getBirthdayCount:N,markAsRead:d.mutate,markAllAsRead:h.mutate,deleteNotification:u.mutate,openNotificationPanel:P,closeNotificationPanel:C,toggleNotificationPanel:_,refreshNotifications:A,isMarkingAsRead:d.isPending,isMarkingAllAsRead:h.isPending,isDeleting:u.isPending}}const ty={home:{keywords:["home","headlines","feed","post","create post","main page","home icon"],response:"The Headlines page ( Home icon) is your main feed where you can see all posts, polls, events, and activities from your kliq members. You can create new posts, add GIFs or moviecons, and interact with content from your friends.",relatedTopics:["posts","polls","feed","navigation"]},posts:{keywords:["post","create post","share","content","writing"],response:"To create a post, click the text area at the top of Headlines, write your message, and optionally add a GIF or moviecon. Your post will be shared with all your kliq members.",relatedTopics:["home","gifs","moviecons"]},kliq:{keywords:["kliq","friends","pyramid","rank","add friends","friend ranking","my kliq","users icon"],response:"My Kliq page ( Users icon) shows your friend pyramid with up to 28 friends ranked by closeness. You can drag friends to rerank them, add new friends with invite codes, manage kliq closure settings, and remove friends.",relatedTopics:["friends","invites","ranking","navigation"]},events:{keywords:["events","create event","attendance","going","maybe","event details","calendar icon"],response:"Events page ( Calendar icon) lets you create and manage kliq events. Set the title, date, time, location, and description. Other kliq members can mark their attendance as Going, Maybe, or Can't Go. Events automatically post to the Headlines feed when created.",relatedTopics:["attendance","calendar","navigation"]},messages:{keywords:["messages","chat","dm","direct message","conversation","im","message circle icon"],response:"Messages or IM page ( MessageCircle icon) is for private conversations with individual kliq members. You can send text, photos, videos, GIFs, and moviecons in your chats. Shows notification badges for unread messages.",relatedTopics:["chat","media","navigation"]},meetup:{keywords:["meetup","location","check in","gps","where"],response:"Meetup page lets you share your current location with your kliq. Click 'Share Location' to post your GPS coordinates to the Headlines feed for friends to see where you are.",relatedTopics:["location","headlines"]},actions:{keywords:["actions","live stream","streaming","go live","video icon"],response:"Actions page ( Video icon) is for live streaming to your kliq. Start a live stream to share real-time video with your friends, and they can join to watch and chat. Streams automatically post to Headlines when started.",relatedTopics:["streaming","live","navigation"]},profile:{keywords:["profile","edit profile","bio","avatar","profile picture","user icon"],response:"Profile page ( User icon) lets you customize your personal information, upload profile pictures with camera icon, set wallpaper backgrounds, manage your bio, and update account settings. Located at the top of navigation.",relatedTopics:["avatar","customization","navigation"]},themes:{keywords:["themes","customize","colors","appearance","design","palette icon"],response:"Themes page ( Palette icon) allows you to personalize your MyKliq experience with custom colors, fonts, backgrounds, and UI styles. Use 'Surprise Me' for random themes that ensure readability.",relatedTopics:["customization","colors","navigation"]},moviecons:{keywords:["moviecons","video reactions","custom videos","emotes"],response:"Moviecons are custom video reactions you can upload and use in posts and messages. Manage your moviecon library on the Moviecon Manager page.",relatedTopics:["videos","reactions"]},polls:{keywords:["polls","voting","create poll","survey","questions"],response:"Create polls with multiple choice options and time limits. Your kliq members can vote, and results are shown in real-time with percentages.",relatedTopics:["voting","questions"]},stories:{keywords:["stories","temporary","24 hours","disappearing"],response:"Stories are temporary posts that disappear after 24 hours. Share photos, videos, or text that you want to be temporary rather than permanent.",relatedTopics:["temporary","media"]},ads:{keywords:["ads","sponsored","advertising","promotions"],response:"Sponsored ads appear in your feed based on your interests. Manage your ad preferences and view ad analytics on the Ads Manager page.",relatedTopics:["advertising","preferences"]},invites:{keywords:["invite","invite code","join kliq","add friends"],response:"Use unique invite codes (format: KLIQ-XXXX-XXXX) to invite new friends to your kliq. Each code can only be used once and connects you as friends.",relatedTopics:["kliq","friends"]},notifications:{keywords:["notifications","alerts","bell","updates"],response:"Notifications show you updates like new posts, event attendance changes, friend activities, and messages. Check the bell icon for recent alerts.",relatedTopics:["alerts","updates"]},navigation:{keywords:["navigation","nav","menu","sidebar","icons","layout","where","how to find","left side"],response:"MyKliq navigation is on the left side with these icons from top to bottom: Profile ( User), Headlines ( Home), My Kliq ( Users), Messages ( MessageCircle), Events ( Calendar), Actions ( Video), and Themes ( Palette). The notification bell () at the very top shows alerts.",relatedTopics:["icons","alerts","layout"]},alerts:{keywords:["alerts","bell icon","notification bell","badge","unread","notification panel","red badge"],response:"The Alerts system ( Bell icon at top of navigation) shows all your notifications including friend requests, event invites, and messages. Red badges indicate unread items. Click the bell to open the notification panel and see all your alerts organized by type.",relatedTopics:["navigation","friends","events","messages"]},badges:{keywords:["badges","red circles","notification badges","unread count","numbers","red numbers"],response:"Red notification badges appear on navigation icons to show unread items: Messages icon shows unread chat count, My Kliq shows friend request count, Events shows event invite count, and the main Alerts bell shows total unread count across all categories.",relatedTopics:["alerts","navigation","notifications"]}},SS=["Hi! I'm here to help you understand MyKliq's features. What would you like to know?","Hello! Ask me about any page or feature in MyKliq and I'll explain how it works.","Hey there! I can help you navigate MyKliq's functionality. What questions do you have?"],kS=["I can help you with MyKliq features! Try asking about Headlines, My Kliq, Events, Messages, Profile, Themes, Actions, or the navigation icons and alert badges.","I'm here to help you navigate MyKliq! Ask me about any page, icon, notification badge, or feature you'd like to understand better.","Need help with MyKliq? I can explain how to use posts, polls, events, messaging, themes, navigation icons, notification badges, and more!","I can guide you through MyKliq features. Try asking about creating content, managing friends, customizing themes, or understanding the navigation layout and alert system."];function VX(){const[t,e]=p.useState(!1),[s,n]=p.useState([]),[r,a]=p.useState(""),[o,l]=p.useState(!1),c=p.useRef(null),d=p.useRef(null),h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{h()},[s]),p.useEffect(()=>{if(t&&s.length===0){const x=SS[Math.floor(Math.random()*SS.length)];n([{id:"1",type:"bot",message:x,timestamp:new Date}])}},[t]);const u=x=>{const y=x.toLowerCase();let v="",w=0;if(Object.entries(ty).forEach(([S,N])=>{let P=0;N.keywords.forEach(C=>{y.includes(C.toLowerCase())&&(P+=C.length)}),P>w&&(w=P,v=S)}),w>0){const S=ty[v].response,N=ty[v].relatedTopics;return N&&N.length>0?`${S}

Related topics: ${N.join(", ")}`:S}return kS[Math.floor(Math.random()*kS.length)]},f=async()=>{if(!r.trim())return;const x=r,y={id:Date.now().toString(),type:"user",message:x,timestamp:new Date};n(v=>[...v,y]),a(""),l(!0),setTimeout(async()=>{const v=u(x),w={id:(Date.now()+1).toString(),type:"bot",message:v,timestamp:new Date};n(S=>[...S,w]),l(!1)},800)},m=x=>{x.key==="Enter"&&f()},b=async()=>{if(!(s.length<=1))try{const x=s.filter(v=>v.type==="user"||v.type==="bot").map(v=>`${v.type.toUpperCase()}: ${v.message}`).join(`

`),y=await fetch("/api/chatbot/conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationHistory:x,timestamp:new Date().toISOString(),messageCount:s.length})});if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);console.log("Conversation email sent successfully")}catch(x){console.error("Failed to send conversation email:",x)}},g=()=>{t&&b(),e(!t),!t&&d.current&&setTimeout(()=>{var x;return(x=d.current)==null?void 0:x.focus()},100)};return i.jsxs(i.Fragment,{children:[!t&&i.jsx(D,{onClick:g,className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 z-50 text-xs font-semibold","data-testid":"button-chatbot-toggle",children:"HELP"}),t&&i.jsxs(X,{className:"fixed bottom-6 right-6 w-96 h-[500px] shadow-xl z-50 flex flex-col",children:[i.jsx(Ce,{className:"flex-shrink-0 pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Pe,{className:"text-lg flex items-center gap-2",children:[i.jsx(bg,{className:"h-5 w-5 text-primary"}),"MyKliq Support"]}),i.jsx(D,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-chatbot-close",children:i.jsx(ds,{className:"h-4 w-4"})})]})}),i.jsxs(J,{className:"flex-1 flex flex-col p-0 overflow-hidden",children:[i.jsxs(Fm,{className:"flex-1 px-4 h-full",children:[i.jsxs("div",{className:"space-y-3 pb-3 min-h-full",children:[s.map(x=>i.jsx("div",{className:`flex ${x.type==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[85%] p-3 rounded-lg ${x.type==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-muted-foreground"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[x.type==="bot"&&i.jsx(bg,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),x.type==="user"&&i.jsx(Er,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:x.message})]})})},x.id)),o&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-muted text-muted-foreground p-3 rounded-lg max-w-[85%]",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bg,{className:"h-4 w-4"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce delay-100"}),i.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce delay-200"})]})]})})})]}),i.jsx("div",{ref:c})]}),i.jsx("div",{className:"flex-shrink-0 p-4 pt-2 border-t",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(he,{ref:d,value:r,onChange:x=>a(x.target.value),onKeyPress:m,placeholder:"Ask about MyKliq features...",className:"flex-1","data-testid":"input-chatbot-message"}),i.jsx(D,{onClick:f,disabled:!r.trim()||o,"data-testid":"button-chatbot-send",children:i.jsx(D0,{className:"h-4 w-4"})})]})})]})]})]})}function qX({currentPath:t}){const{t:e}=bm(),{isNotificationPanelOpen:s,getTotalUnreadCount:n,getMessageCount:r,getFriendRequestCount:a,getEventInviteCount:o,toggleNotificationPanel:l,closeNotificationPanel:c}=BX(),d=[{path:"/profile",icon:Er,label:e("navigation.profile"),tab:"profile"},{path:"/",icon:qI,label:e("navigation.headlines"),tab:"headlines"},{path:"/kliq",icon:bs,label:e("navigation.myKliq"),tab:"kliq",badgeType:"friends"},{path:"/messages",icon:Vt,label:e("navigation.messages"),tab:"messages",badgeType:"messages"},{path:"/events",icon:li,label:e("navigation.events"),tab:"events",badgeType:"events"},{path:"/actions",icon:Hi,label:"Action",tab:"actions"},{path:"/themes",icon:O0,label:"Themes",tab:"themes"},{path:"/settings",icon:al,label:"Settings",tab:"settings"}],h=u=>{switch(u){case"messages":return r();case"friends":return a();case"events":return o();default:return 0}};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:flex fixed left-0 top-0 bottom-0 bg-card border-r-2 border-primary z-50 w-20",children:i.jsxs("div",{className:"flex flex-col items-center py-4 h-full",children:[i.jsxs("button",{onClick:l,className:te("flex flex-col items-center p-3 mb-6 transition-colors rounded-lg w-16 relative","text-muted-foreground hover:text-foreground hover:bg-muted/50"),"data-testid":"notification-bell",children:[n()>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-destructive rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-destructive-foreground font-bold",children:n()>99?"99+":n()})}),i.jsx(Vd,{className:"w-6 h-6"}),i.jsx("span",{className:"text-xs mt-1",children:e("navigation.alerts")})]}),d.map(u=>{const f=t===u.path;return h(u.badgeType),i.jsxs(ls,{to:u.path,className:te("flex flex-col items-center p-3 mb-4 transition-colors rounded-lg w-16 relative",f?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),"data-testid":`nav-${u.tab}`,children:[u.badgeType&&h(u.badgeType)>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-destructive rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-[10px] text-destructive-foreground font-bold",children:h(u.badgeType)>9?"9+":h(u.badgeType)})}),i.jsx(u.icon,{className:"w-6 h-6"}),i.jsx("span",{className:"text-xs mt-1 text-center leading-tight break-words whitespace-pre-line max-w-14",children:u.label})]},u.path)}),i.jsx("div",{className:"mt-auto mb-4",children:i.jsx(IA,{variant:"dropdown",className:"w-16"})})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-card border-t-2 border-primary z-50 h-16",children:i.jsxs("div",{className:"flex items-center justify-around h-full px-2",children:[i.jsxs("button",{onClick:l,className:te("flex flex-col items-center p-2 transition-colors rounded-lg relative","text-muted-foreground hover:text-foreground hover:bg-muted/50"),"data-testid":"notification-bell-mobile",children:[n()>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-destructive rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-[10px] text-destructive-foreground font-bold",children:n()>99?"99+":n()})}),i.jsx(Vd,{className:"w-5 h-5"})]}),d.slice(0,7).map(u=>{const f=t===u.path;return h(u.badgeType),i.jsxs(ls,{to:u.path,className:te("flex flex-col items-center p-2 transition-colors rounded-lg relative",f?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),"data-testid":`nav-mobile-${u.tab}`,children:[u.badgeType&&h(u.badgeType)>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-destructive rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-[8px] text-destructive-foreground font-bold",children:h(u.badgeType)>9?"9+":h(u.badgeType)})}),i.jsx(u.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"text-[10px] mt-0.5 text-center leading-tight break-words whitespace-pre-line max-w-12",children:u.label})]},u.path)})]})}),i.jsx(zX,{isOpen:s,onClose:c})]})}function HX(){const{isAuthenticated:t,isLoading:e}=ir();return i.jsxs(J5,{children:[i.jsx(Tt,{path:"/privacy-policy",component:FX}),i.jsx(Tt,{path:"/disclaimer",component:RX}),i.jsx(Tt,{path:"/landing",component:Oj}),i.jsx(Tt,{path:"/signup",component:IX}),i.jsx(Tt,{path:"/login",component:DX}),i.jsx(Tt,{path:"/forgot-password",component:LX}),e||!t?i.jsx(Tt,{path:"/",component:Oj}):i.jsxs(i.Fragment,{children:[i.jsx(Tt,{path:"/",component:RK}),i.jsx(Tt,{path:"/kliq",component:PG}),i.jsx(Tt,{path:"/events",component:EG}),i.jsx(Tt,{path:"/actions",component:GG}),i.jsx(Tt,{path:"/messages",component:PY}),i.jsx(Tt,{path:"/messages/:conversationId",component:EY}),i.jsx(Tt,{path:"/profile",component:jY}),i.jsx(Tt,{path:"/user/:userId",component:NY}),i.jsx(Tt,{path:"/themes",component:kY}),i.jsx(Tt,{path:"/settings",component:AX}),i.jsx(Tt,{path:"/moviecon-manager",component:MY}),i.jsx(Tt,{path:"/maintenance",component:AY}),i.jsx(Tt,{path:"/ads-manager",component:hZ})]}),i.jsx(Tt,{component:CY})]})}function WX(){const{isAuthenticated:t,isLoading:e}=ir(),[s]=Ku();fL(),gL();const n=["/signup","/privacy-policy","/disclaimer","/landing","/forgot-password"].includes(s);return i.jsxs(uL,{children:[i.jsxs("div",{className:"bg-background min-h-screen h-screen text-foreground",children:[t&&!e&&!n&&i.jsx(qX,{currentPath:s}),i.jsx("div",{className:te("min-h-screen h-screen bg-background relative",t&&!e&&!n?"md:ml-20":""),children:i.jsxs("div",{className:"w-full h-full relative overflow-y-auto overflow-x-hidden",children:[!n&&i.jsxs("div",{className:"fixed inset-0 opacity-10 pointer-events-none z-0",children:[i.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-primary rounded-full animate-pulse"}),i.jsx("div",{className:"absolute top-32 right-8 w-16 h-16 bg-secondary rounded-full animate-bounce"}),i.jsx("div",{className:"absolute bottom-20 left-6 w-12 h-12 bg-mykliq-green rounded-full animate-pulse"}),i.jsx("div",{className:"absolute bottom-40 right-12 w-8 h-8 bg-mykliq-orange rounded-full animate-bounce"})]}),i.jsx("div",{className:"relative z-10 min-h-full pb-20 md:pb-4",children:i.jsx(HX,{})})]})}),t&&!e&&!n&&i.jsx(VX,{})]}),i.jsx(UO,{})]})}function KX(){return p.useEffect(()=>{pL()},[]),i.jsx(x3,{client:qi,children:i.jsx(WX,{})})}function Xb(){document.querySelectorAll("link[rel*='icon']").forEach(r=>r.remove());const e=Date.now();[{rel:"icon",type:"image/x-icon",href:`/favicon.ico?t=${e}`},{rel:"shortcut icon",type:"image/x-icon",href:`/favicon.ico?t=${e}`},{rel:"icon",type:"image/svg+xml",href:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect width='16' height='16' fill='%23000'/><g fill='%2300FF00'><circle cx='8' cy='6' r='2'/><rect x='7' y='8' width='2' height='3'/><rect x='5' y='9' width='6' height='1'/><rect x='7' y='3' width='2' height='1'/><rect x='5' y='4' width='6' height='1'/></g></svg>"}].forEach(r=>{const a=document.createElement("link");a.rel=r.rel,a.type=r.type,a.href=r.href,document.head.appendChild(a)});const n=document.title;document.title="[MK] "+n,setTimeout(()=>{document.title=n},100)}Xb();setTimeout(Xb,1e3);setTimeout(Xb,3e3);YC(document.getElementById("root")).render(i.jsx(KX,{}));
